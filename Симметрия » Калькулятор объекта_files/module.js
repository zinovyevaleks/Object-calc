if(!JSON){var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}())}if(!String.prototype.trim){(function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}})()}(function(aY,q,aC){var at=false,x="42",bh=42,l=aY.roistatHost,S="0.2",D="1.0",aT="roistat_visit",aa="roistat_first_visit",bF="roistat_phone",R="roistat_referrer",bp="roistat_marker",ak="roistat_marker_old",bs="roistat_referrer_old",az="roistat_ab",bc="rs",r="roistat",B="leadhunter_expire",u=5*60*60,aD="roistat_leadHunterEnabled",c=7*24*60*60,bj={expires:c,path:"/"},E="roistat-promo",J="roistat-phone",p="roistat-phone-country",F="roistat-phone-region",s="roistat-phone-number",bz="roistat-phone-tel",aH="country",W="region",an="number",aQ="tel",h="roistat_call_tracking",y="roistat-js-script",ax="roistat_phone_replacement",ao="roistat_phone_script_data",bg="roistat-visit-id",ab="roistat_metrika_counter_id",e="roistat_marker_from_referrer",aw="roistat_emailtracking_email",a="roistat_emailtracking_tracking_email",bB="roistat_proxy_forms",aK=["_ym_uid","_ga"],bk="roistat_isMultiDomain",aU="roistat_debug";var bv=l.replace(/^cloud\./,"");var bq="collector."+bv;var aN={callTrackingEnabled:true,callTrackingManual:false,jsonpRequestTimeout:100};var aV={isVisitProcessed:false,visitFromUser:null,cookies:{}};var bi={onVisitProcessed:[],onCallTrackingPhoneReceived:[]};if(aY.roistatAlreadyStarted){if(typeof console!=="undefined"&&console.log){console.log("Call: roistat already started, skip")}return}aY.roistatAlreadyStarted=true;if(aY.roistatCookieDomain){bj.domain=aY.roistatCookieDomain}aY.roistat={version:x,visit:null,getVisit:function(){return roistat.visit},setVisit:function(bJ){aV.visitFromUser=bJ
},registerOnVisitProcessedCallback:function(bJ){bb(bJ)},registerOnCalltrackingPhoneReceivedCallback:function(bJ){au(bJ)},disableCallTracking:function(){aN.callTrackingEnabled=false},setCallTrackingManualMode:function(){aN.callTrackingManual=true},setJSONPRequestTimeout:function(bJ){aN.jsonpRequestTimeout=bJ},callTracking:{enabled:0,phone:"",sessionTime:0,replacementClasses:"",phonePrefix:""},emailtracking:{enabled:true,loaded:false,email:null,trackingEmail:null,refresh:function(){n("Warning: used emailtracking refresh before module init")}},leadHunter:{isEnabled:true,onBeforeAppear:null,onAfterAppear:null,onBeforeSubmit:null,onAfterSubmit:null,additionalNotifyEmail:null,form:{title:null,subTitle:null,thankYouText:null,buttonText:null,nameLabel:null,contactLabel:null,isNameRequired:false,autoShowTime:null}},page:{params:{}},proxyForms:{enabled:true,loaded:false,settings:[]}};var bb=function(bJ){if(!aV.isVisitProcessed){bi.onVisitProcessed.push(bJ)}else{bJ()}};var au=function(bJ){bi.onCallTrackingPhoneReceived.push(bJ)};var be=function(){aV.isVisitProcessed=true;n("[Roistat] visit id set. Processing callbacks");var bK=bi.onVisitProcessed.length;for(var bJ=0;bJ<bK;bJ++){bi.onVisitProcessed[bJ]()}if(aY.roistatVisitCallback!==aC){aY.roistatVisitCallback(aY.roistat.getVisit())}};var bw=function(){var bK=bi.onCallTrackingPhoneReceived.length;for(var bJ=0;bJ<bK;bJ++){bi.onCallTrackingPhoneReceived[bJ]()}};var H=function(bN,bM){var bL=bN.className.split(" "),bK=false,bJ;for(bJ=0;bJ<bL.length;bJ++){if(bL[bJ]===bM){bK=true;break}}if(!bK){bL.push(bM);bN.className=bL.join(" ")}};var aS=function(bM,bL){var bK=bM.className.split(" "),bJ;for(bJ=0;bJ<bK.length;bJ++){if(bK[bJ]===bL){bK.splice(bJ,1);bM.className=bK.join(" ");break}}};var P=function(bK){try{return decodeURIComponent(bK)}catch(bL){var bJ;bJ=m(bK);if(bJ===null){return bK}return bJ}};var m=function(bN){var bM={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};var bK="";var bL=0;while(bL<bN.length){var bJ=bN.substring(bL,bL+3);if(Object.prototype.hasOwnProperty.call(bM,bJ)){bK+=bM[bJ];bL+=3}else{bK+=bN.substring(bL,bL+1);bL++}}try{return decodeURIComponent(bK)}catch(bO){return null}};aY.roistatVersion=x;var ay,a6=true,ba=q.location.href,al="",X="",aq=new Date().getTime(),bo=false,bd=aY.roistatPhonePrefix?aY.roistatPhonePrefix:"",bG=aY.roistatPhonePrefixBind?aY.roistatPhonePrefixBind:"",w=aY.roistatCalltrackingScripts&&aY.roistatCalltrackingScripts.join?aY.roistatCalltrackingScripts.join(","):"";var f,bA;f=aY.roistatGetCookie=function(bJ){var bK=q.cookie.match(new RegExp("(?:^|; )"+bJ.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return bK?P(bK[1]):aC};bA=aY.roistatSetCookie=function(bM,bO,bL){bL=bL||{};var bK=bL.expires;if(typeof bK=="number"&&bK){var bQ=new Date();bQ.setTime(bQ.getTime()+bK*1000);bK=bL.expires=bQ}if(bK&&bK.toUTCString){bL.expires=bK.toUTCString()}bO=encodeURIComponent(bO);var bJ=bM+"="+bO;for(var bN in bL){bJ+="; "+bN;var bP=bL[bN];if(bP!==true){bJ+="="+bP}}q.cookie=bJ};var j=function(bM,bL){var bK=bM.length;for(var bJ=0;bJ<bK;bJ++){bL(bM[bJ])}};var av=function(bJ){return Object.prototype.toString.call(bJ)==="[object Array]"};if(q.getElementsByClassName==aC){q.getElementsByClassName=function(bK){var bJ=[];var bO=new RegExp("\\b"+bK+"\\b");var bN=this.getElementsByTagName("*");for(var bM=0;bM<bN.length;bM++){var bL=bN[bM].className;if(bO.test(bL)){bJ.push(bN[bM])}}return bJ}}var Q=function(){return String.fromCharCode};var bf=function(bL){var bJ="";for(var bK=0;bK<bL.length;++bK){bJ+=Q()(bh^bL.charCodeAt(bK))}return bJ};var U=function(bJ){return encodeURIComponent(bf(a1.encode(bJ)))};var a1={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(bL){var bJ="";var bS,bQ,bO,bR,bP,bN,bM;var bK=0;bL=a1._utf8_encode(bL);while(bK<bL.length){bS=bL.charCodeAt(bK++);bQ=bL.charCodeAt(bK++);bO=bL.charCodeAt(bK++);bR=bS>>2;bP=((bS&3)<<4)|(bQ>>4);bN=((bQ&15)<<2)|(bO>>6);bM=bO&63;if(isNaN(bQ)){bN=bM=64}else{if(isNaN(bO)){bM=64}}bJ=bJ+this._keyStr.charAt(bR)+this._keyStr.charAt(bP)+this._keyStr.charAt(bN)+this._keyStr.charAt(bM)
}return bJ},decode:function(bL){var bJ="";var bS,bQ,bO;var bR,bP,bN,bM;var bK=0;bL=bL.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(bK<bL.length){bR=this._keyStr.indexOf(bL.charAt(bK++));bP=this._keyStr.indexOf(bL.charAt(bK++));bN=this._keyStr.indexOf(bL.charAt(bK++));bM=this._keyStr.indexOf(bL.charAt(bK++));bS=(bR<<2)|(bP>>4);bQ=((bP&15)<<4)|(bN>>2);bO=((bN&3)<<6)|bM;bJ=bJ+String.fromCharCode(bS);if(bN!=64){bJ=bJ+String.fromCharCode(bQ)}if(bM!=64){bJ=bJ+String.fromCharCode(bO)}}bJ=a1._utf8_decode(bJ);return bJ},_utf8_encode:function(bK){bK=bK.replace(/\r\n/g,"\n");var bJ="";for(var bM=0;bM<bK.length;bM++){var bL=bK.charCodeAt(bM);if(bL<128){bJ+=String.fromCharCode(bL)}else{if((bL>127)&&(bL<2048)){bJ+=String.fromCharCode((bL>>6)|192);bJ+=String.fromCharCode((bL&63)|128)}else{bJ+=String.fromCharCode((bL>>12)|224);bJ+=String.fromCharCode(((bL>>6)&63)|128);bJ+=String.fromCharCode((bL&63)|128)}}}return bJ},_utf8_decode:function(bJ){var bL="";var bN=0;var bO=0;var bM=0;var bK=0;while(bN<bJ.length){bO=bJ.charCodeAt(bN);if(bO<128){bL+=String.fromCharCode(bO);bN++}else{if((bO>191)&&(bO<224)){bM=bJ.charCodeAt(bN+1);bL+=String.fromCharCode(((bO&31)<<6)|(bM&63));bN+=2}else{bM=bJ.charCodeAt(bN+1);bK=bJ.charCodeAt(bN+2);bL+=String.fromCharCode(((bO&15)<<12)|((bM&63)<<6)|(bK&63));bN+=3}}}return bL}};var aA=function(){return q[Q()(99,111,111,107,105,101)]};var K=function(){bC();var bJ={c:bt()};return U(JSON.stringify(bJ))};var bt=function(){var bJ=[];for(var bK in aV.cookies){if(!Object.prototype.hasOwnProperty.call(aV.cookies,bK)){continue}bJ.push(bK+"="+aV.cookies[bK])}return bJ.join("; ")};var bC=function(){var bJ=g();for(var bK in bJ){if(!Object.prototype.hasOwnProperty.call(bJ,bK)){continue}aV.cookies[bK]=bJ[bK]}};var g=function(){var bM=aA();var bN=bM.split("; ");var bJ={};for(var bL=0;bL<bN.length;bL++){var bQ=bN[bL];if(bQ===""){continue}var bK=bQ.split("=");if(bK.length<2){continue}var bP=bK[0].trim();var bO=bK[1].trim();bJ[bP]=bO}return bJ};var d=function(){return Q()(104,97,115,104)};var V=function(bJ){return bJ.split("http://").join("").split("https://").join("").split("#")[0].split("?")[0].split("www.").join("").replace(/\/+$/,"")};var aR={isAvailable:function(){var bJ=false;if(!aY.sessionStorage||!aY.sessionStorage.setItem||!aY.sessionStorage.getItem||!aY.sessionStorage.removeItem){return bJ}try{aY.sessionStorage.setItem("testKey","testValue");bJ=aY.sessionStorage.getItem("testKey")==="testValue";aY.sessionStorage.removeItem("testKey")}catch(bK){return false}return bJ},remove:function(bJ){if(this.isAvailable()){aY.sessionStorage.removeItem(bJ)}},setObject:function(bJ,bK){if(this.isAvailable()){aY.sessionStorage.setItem(bJ,JSON.stringify(bK))}},getObject:function(bK){var bJ=null;if(this.isAvailable()){bJ=aY.sessionStorage.getItem(bK);bJ=JSON.parse(bJ)}return bJ},set:function(bJ,bK){if(this.isAvailable()){aY.sessionStorage.setItem(bJ,bK)}},get:function(bK){var bJ=null;if(this.isAvailable()){bJ=aY.sessionStorage.getItem(bK)}return bJ}};var aX={isAvailable:function(){var bJ=false;if(!aY.localStorage||!aY.localStorage.setItem||!aY.localStorage.getItem||!aY.localStorage.removeItem){return bJ}try{aY.localStorage.setItem("testKey","testValue");bJ=aY.localStorage.getItem("testKey")==="testValue";aY.localStorage.removeItem("testKey")}catch(bK){return false}return bJ},remove:function(bK){if(this.isAvailable()){aY.localStorage.removeItem(bK)}else{var bJ=new Date(1970,1,1);bA(bK,"",{expires:bJ.toUTCString()})}},setObject:function(bJ,bK){if(this.isAvailable()){localStorage.setItem(bJ,JSON.stringify(bK))}},getObject:function(bK){var bJ=null;if(this.isAvailable()){bJ=localStorage.getItem(bK);bJ=JSON.parse(bJ)}return bJ},set:function(bJ,bK){if(this.isAvailable()){localStorage.setItem(bJ,bK)}else{bA(bJ,bK,bj)}},save:function(bK,bL,bJ){if(this.isAvailable()){localStorage.setItem(bK,bL)}bA(bK,bL,bJ)},get:function(bK){var bJ=null;if(this.isAvailable()){bJ=localStorage.getItem(bK)}if(bJ===null){bJ=f(bK)}return bJ}};var aP=function(){var bJ=null;var bK=aX.get(R);var bL=(bK?bK:q.referrer);if(bL){bJ=bL}return bJ};var z=function(bM,bL){bL=typeof bL!=="undefined"?bL:false;var bN=function(bQ){var bP=null;var bR=new RegExp("[#&?]("+bM+"=[^#&?]+)");if(bR.test(bQ)){bP=RegExp.$1.substring(RegExp.$1.indexOf("=")+1)}var bO=P(bP);return bP&&bO?bO:bP};var bJ=bN(ba);if(bL){var bK=q.referrer;if(bJ===null&&bK){bJ=bN(bK)}}return bJ};var bu=function(bK,bL){var bJ=false;if(bK&&bL){bJ=bK.split(bL).join("")!==bK}return bJ};if(z(aU)==="1"||g()[aU]==="1"){at=true}var ag=function(){if("https:"===q.location.protocol){return"https:"}else{return"http:"}};var a9=function(bK,bP,bQ){var bM=q.createElement("iframe");var bO="roistat_"+new Date().getTime();q.body.appendChild(bM);bM.style.display="none";bM.setAttribute("name",bO);bM.setAttribute("id",bO);bM.contentWindow.name=bO;var bN=q.createElement("form");bN.target=bO;bN.action=bK;bN.method=bQ;for(var bL in bP){if(!Object.prototype.hasOwnProperty.call(bP,bL)){continue}var bJ=q.createElement("input");bJ.type="hidden";bJ.name=bL;
bJ.value=bP[bL];bN.appendChild(bJ)}q.body.appendChild(bN);bN.submit()};var Z=function(bK){n("sendApiRequestJSONP: init with url "+bK);var bJ=q.createElement("script");bJ.onload=bJ.onreadystatechange=function(){var bM=this.readyState?this.readyState:"unknown";n("sendApiRequestJSONP: script state changed to "+bM)};bJ.src=bK;bJ.type="text/javascript";bJ.async=true;var bL=q.getElementsByTagName("script")[0];bL.parentNode.insertBefore(bJ,bL);n("sendApiRequestJSONP: script appended")};var a8=function(){var bK=q.createElement("link"),bJ=q.getElementsByTagName("head");bK.setAttribute("rel","stylesheet");bK.setAttribute("href",ag()+"//"+l+"/dist/module.css?"+x);if(bJ.length>0){bJ[0].appendChild(bK)}};var a3=function(){return a5()||bH()};var a5=function(){return am()!==null};var bH=function(){return aZ()!==null};var bn=function(){var bJ=bl();if(bJ!==null){bA(aT,bJ,bj)}};var bl=function(){return am()||aZ()||null};var am=function(){return z("roistat_visit")};var aZ=function(){return aV.visitFromUser};var bE=function(){n("Call: Init");n("Counter version: "+x);if(z("roistat_ab_demo")==="1"){n("Roistat initialisation rejected: ab test preview mode");return}a8();ap();A();if(!I()||bI()){bo=true;aE()}else{bn();aI();af();bm();roistat.visit=i();be()}bx();G()};var ap=function(){n("Call: initMarker");ay=a4();n("Call: inited marker: "+ay)};var aO=function(bJ){if(!bJ){return true}return bu(bJ,q.domain)};var a4=function(){var bM=f(e)>0;var bQ=null;var bK=function(bR){return bR.split("_").join(":u:")};var bN=function(){var bR=false;var bS;bS=z(r,bM);if(bS!==null){bQ=bS;bR=true}bS=z(bc,bM);if(bS!==null){bQ=bS;bR=true}return bR};var bP=function(){var bR=false;var bS=f(bp);if(bS){bQ=bS;bR=true;a6=false}return bR};var bL=function(){var bR=false;var bT=z("utm_source",bM);if(bT!==null){bR=true;bQ=":utm:"+bK(bT);var bV=["utm_medium","utm_campaign","utm_content","utm_term"];var bS;for(var bU=0;bU<bV.length;bU++){bS=z(bV[bU],bM);if(bS!==null){bQ=bQ+"_"+bK(bS)}}}return bR};var bO=function(){var bT,bS,bR=false;bS=z("_openstat",bM);if(!bS){return false}if(bu(bS,";")){bT=bS}else{bT=encodeURI(a1.decode(bS))}if(bT){bT=bK(bT).split(";").join("_");bQ=":openstat:"+bT;bR=true}return bR};var bJ=function(){var bR=false;var bS=q.referrer;if(aO(bS)){return bR}var bT=z("from",bM);if(bT!==null&&!bu(bT,"http")){bR=true;bQ=bK(bT)}return bR};if(bN()){n("Init marker: init from RS param "+bQ);return bQ}if(bL()){n("Init marker: init from UTM "+bQ);return bQ}if(bO()){n("Init marker: init from OpenStat "+bQ);return bQ}if(bJ()){n("Init marker: init from custom tag "+bQ);return bQ}n("Init marker: try init from cookie "+bQ);bP();return bQ};var i=function(){return aX.get(aT)};var A=function(){n("Call: saveReferrer");var bJ=q.referrer;if(aO(bJ)){return}aX.set(R,bJ)};var bx=function(){bA(ak,P(ay),bj)};var G=function(){aX.set(bs,aP())};var bm=function(){n("Call: refreshPromoCode");var bJ=function(){return f(aT)};N(bJ());if(!aY.onload){aY.onload=function(){N(bJ())}}setTimeout(function(){N(bJ())},50);setTimeout(function(){N(bJ())},200);setTimeout(function(){N(bJ())},2000);setTimeout(function(){N(bJ())},10000)};aY.roistatPromoCodeRefresh=bm;var by=function(){var bJ=[];var bK=q.getElementsByClassName(E);if(bK&&bK.length){bJ=bK}return bJ};var N=function(bJ){var bM=by();n("setPromoCode: "+bJ+" in "+bM.length+" elements");for(var bL=0;bL<bM.length;bL++){var bK=bM[bL];bK.innerHTML=bJ?bJ:""}};var aF=function(){var bL=a4(),bK=f(ak),bN=bL!==null,bM=true;var bP=P(P(bL)).toLowerCase().split("+").join(" "),bO=P(P(bK)).toLowerCase().split("+").join(" ");if(bL&&bK){bM=bP!==bO}var bJ=bN&&bM;X="Call: needOverrideByMarker (result "+(bJ?"true":"false")+") with current "+bL+":"+bP+" and old "+bK+":"+bO;n(X);return bJ};var T=function(){var bP=function(bT){var bU=bT.split("http://").join("").split("https://").join("").split("www.").join("");return bU.split("/")[0]};var bK=function(bT){return/[\u0400-\u04FF]/.test(bT)};var bS=false,bO=aP(),bJ=aX.get(bs),bR=aY.location.host;if(!bO||!bR){n("Call: needOverrideByReferrer (result "+(bS?"true":"false")+"), skip because one of params is empty");return bS}bR=bP(bR);bO=P(bO);bJ=P(bJ);var bN=bP(bO);if(bu(bO,"xn--")&&bK(bR)){n("Call: needOverrideByReferrer (result "+(bS?"true":"false")+"), skip because of bugs with punycode in FF");return bS}if(!bN){n("Call: needOverrideByReferrer (result "+(bS?"true":"false")+"), skip because current referrer is null");return bS}if(!bJ){bS=!bu(bN,bR);n("Call: needOverrideByReferrer (result "+(bS?"true":"false")+"), compare current referrer and host");return bS}if(bu(bO,bJ)){n("Call: needOverrideByReferrer (result "+(bS?"true":"false")+"), skip because the same referrer");return bS}var bQ=bR.split(".").length>2&&bN.split(".").length>2;var bM=aY.roistatCookieDomain!==aC&&aY.roistatCookieDomain!==bR;var bL=bN.split(".").slice(1).join(".")===bR.split(".").slice(1).join(".");if(bQ&&bM&&bL){n("Call: needOverrideByReferrer (result "+(bS?"true":"false")+"), skip because sub domains of same domain");return bS}bS=!(bu(bN,bR)||(bu(bR,bN)));
n("Call: needOverrideByReferrer (result "+(bS?"true":"false")+") referrerHost: "+bN+", currentHost: "+bR);return bS};var aJ=function(){return z("utm_nooverride")==="1"};var bI=function(){return !a3()&&!aJ()&&(aF()||T())};var aL=function(bK,bJ){return(bK&&bJ&&bK!=bJ)};var ai=function(bL){var bJ=["cookieExpire"];var bN=bL.leadHunterEnabled;if(!bN){if(aX.get(aD)>0){aX.set(aD,0)}}else{var bM={expires:u,path:"/"};if(bj.domain){bM.domain=bj.domain}bA(B,1,bM)}for(var bK in bL){if(!Object.prototype.hasOwnProperty.call(bL,bK)){continue}if(!bN&&bK.indexOf("leadHunter")>=0){continue}if(!M(bJ,bK)){aX.set("roistat_"+bK,bL[bK])}}};aY.roistatModuleSetVisitCookie=function(bN,bT,bM,bK,bS,bJ){n("Call: roistatModuleSetVisitCookie("+bN+")");var bP;if(typeof bM.cookieExpire!=="number"){bP=c}else{bP=bM.cookieExpire}var bO=f(aT);var bR={expires:bP,path:"/"};if(bj.domain){bR.domain=bj.domain}bA(aT,bN,bR);if(!(f(aT)>0)){aX.save(aT,bN,bR)}if(!aX.get(aa)){var bL={expires:10*365*24*60*60,path:"/"};if(bj.domain){bL.domain=bj.domain}aX.save(aa,bN,bL)}var bQ=bM.abTests;if((typeof bQ!=="undefined")&&aX.isAvailable()){aX.setObject("abTesting",bQ)}applyTests();N(bN);if(bT){bA(bp,bT,bj);bA(ak,bT,bj)}ai(bM);n("Call: pre renderPromoCode");af();bm();if(aL(bO,bN)){n("roistatModuleSetVisitCookie: visit changed from "+bO+" to "+bN)}if(aY.roistatCallback!==aC){aY.roistatCallback(bN,bT)}roistat.visit=bN;roistat.callTracking.enabled=bK.enabled;roistat.callTracking.phone=bK.phone;roistat.callTracking.sessionTime=bK.sessionTime;roistat.callTracking.replacementClasses=bK.replacementClasses;roistat.callTracking.phoneScriptsJson=bK.scripts;roistat.emailtracking.loaded=true;roistat.emailtracking.email=bS.email;roistat.emailtracking.trackingEmail=bS.trackingEmail;roistat.proxyForms.loaded=true;roistat.proxyForms.settings=bJ;bw();be()};var I=function(){var bJ;if(aY.roistatIsInitVisit===true){bJ=false}else{bJ=f(aT)>0}n("Call: alreadyVisited (return "+(bJ?"true":"false")+")");return bJ};var b=function(bJ){return encodeURIComponent?encodeURIComponent(bJ):encodeURI(bJ)};var ac=function(){var bJ=aP();return bJ?b(bJ):""};var ae=function(){return aY.roistatProjectId};var v=function(){return ag()+"//"+l+"/api/site/"+D+"/"+ae()};var a7=function(){var bJ={expires:1,path:"/"};if(bj.domain){bJ.domain=bj.domain}bA(az,"",bJ)};var aE=function(){n("Call: setVisitIdCookie");var bK=function(){var bS=ae(),bP=ac(),bM=aY.roistatIsInitVisit===true?i():0,bR=f(az),bN=aX.get(aa);bR=bR?bR:"";bN=bN?bN:"";ay=ay&&(!T()||a6)?P(P(ay)):"";var bQ=encodeURIComponent(ba);n("Calltracking: enabled="+aN.callTrackingEnabled+",manual="+aN.callTrackingManual);var bO=JSON.stringify(aY.roistat.page.params);return v()+"/addVisit?v="+x+"&marker="+encodeURIComponent(ay)+"&visit="+bM+"&first_visit="+bN+"&phone_prefix="+bd+"&phone_prefix_bind="+bG+"&phone_scripts_bind="+w+"&referrer="+bP+"&page="+bQ+"&ab="+b(bR)+"&"+d()+"="+K()+(bO==="{}"?"":"&page_params="+encodeURIComponent(bO))+((!aN.callTrackingEnabled||aN.callTrackingManual)?"&call_tracking_disabled=1":"")};var bJ=function(bM){setTimeout(function(){n("Call: setVisitIdCookie script creation after timeout");var bN=q.createElement("script");bN.onload=bN.onreadystatechange=function(){var bP=this.readyState?this.readyState:"unknown";n("Call: setVisitIdCookie script state changed to "+bP)};bN.src=bM;bN.type="text/javascript";bN.async=true;bN.id=y;var bO=q.getElementsByTagName("script")[0];bO.parentNode.insertBefore(bN,bO);n("Call: setVisitIdCookie appended "+((q.getElementById(y))?"true":"false"));n("Call: sendJSONPRequest to URL "+bM);a7()},aN.jsonpRequestTimeout)};if(ay){bA(bp,ay,bj)}var bL=bK();bJ(bL)};var aI=function(){n("Call: sendAbTests");var bK=function(){var bO=ae(),bN=f(aT);return ag()+"//"+l+"/site-api/"+S+"/"+bO+"/visit/"+bN+"/addAbVariant"};var bL=f(az);if(!bL){return}var bM=bK();bM=bM+"?ab="+b(bL);var bJ=q.createElement("img");bJ.src=bM;a7()};var Y={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return(Y.Android()||Y.BlackBerry()||Y.iOS()||Y.Opera()||Y.Windows())}};var ad={isIE:function(bL,bN){var bO="IE",bK=q.createElement("B"),bJ=q.documentElement,bM;if(bL){bO+=" "+bL;if(bN){bO=bN+" "+bO}}bK.innerHTML="<!--[if "+bO+']><b id="iecctest"></b><![endif]-->';bJ.appendChild(bK);bM=!!q.getElementById("iecctest");bJ.removeChild(bK);return bM}};var a2=function(){return new Date().getTime()};var C=function(){var bJ="";aY.onerror=function(bP,bO,bL,bN,bM){var bK=!bN?"":", column: "+bN;bK+=!bM?"":", error: "+bM;bJ=bJ+", Error: "+bP+", url: "+bO+", line: "+bL+bK};setTimeout(function(){var bR=false,bS="";var bN=by();for(var bQ=0;bQ<bN.length;bQ++){var bM=bN[bQ];if(bM!==null&&!bM.innerHTML){bR=true;bS="Promo HTML: "+bM.innerHTML}}if(!(f(aT)>0)){bR=true;bS=bS+"; roistat_visit = "+f(aT)
}if(bR){var bL=q.getElementById(y);var bK=bL?1:0;var bO=aY.navigator.userAgent;bS=encodeURIComponent(bS);var bP=q.createElement("img");bP.src=ag()+"//"+l+"/site-api/"+S+"/"+ae()+"/debug?message="+bS+"&agent="+bO+"&"+d()+"="+K()+"&jserror="+bJ+"&scriptResponse="+bK+"&version="+x+"&debug="+al}},20000)};var aB=function(){var bL=q.getElementsByTagName("body");var bM=q.documentElement;var bK=0,bN=0;if(bL.length){var bJ=bL[0];bK=aY.innerWidth||bM.clientWidth||bJ.clientWidth;bN=aY.innerHeight||bM.clientHeight||bJ.clientHeight}else{bK=aY.innerWidth||bM.clientWidth;bN=aY.innerHeight||bM.clientHeight}return{width:bK,height:bN}};var af=function(){var bO=q.getElementsByClassName("roistat-promo-wrap");if(bO.length){n("PromoCode: old promo code length - exit");return}var bM=function(){var bV=q.createElement("div");bV.innerHTML=roistatPromoCode;var bT=q.getElementsByTagName("body");if(bT.length){bT[0].appendChild(bV)}n("PromoCode: appended to body "+roistatPromoCode.length);var bU=q.getElementsByClassName("roistat-promo-wrap")[0];if(!bU){n("PromoCode: roistat-promo-wrap not found, skip");return}var bS=bU.style;var bQ,bR,bP;setInterval(function(){bQ=aB();bR=bU.offsetWidth;bP=bU.offsetHeight*2;switch(roistatPosition){case"top_left":bS.left=0;bS.top=0;break;case"top":bS.left=((bQ.width-bR)/2)+"px";bS.top=0;break;case"top_right":bS.right=0;bS.top=0;break;case"left":bS.left=0;bS.top=((bQ.height-bP)/2)+"px";break;case"right":bS.right=0;bS.top=((bQ.height-bP)/2)+"px";break;case"bottom_left":bS.left=0;bS.bottom=0;break;case"bottom":bS.left=((bQ.width-bR)/2)+"px";bS.bottom=0;break;case"bottom_right":bS.right=0;bS.bottom=0;break;default:bS.left=0;bS.top=0}},500)};var bJ=aX.getObject("promo_code_options");if(bJ){aY.roistatPromoCode=bJ.template;aY.roistatPosition=bJ.position;bM()}else{var bN=q.getElementsByTagName("head")[0]||q.documentElement;var bL=q.createElement("script");bL.src=ag()+"//"+l+"/site-api/"+S+"/"+ae()+"/getPromoCode";bN.insertBefore(bL,bN.firstChild);n("PromoCode: loading started");var bK=false;bL.onload=bL.onreadystatechange=function(){if(!bK&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){bK=true;bL.onload=bL.onreadystatechange=null;if(bN&&bL.parentNode){bN.removeChild(bL)}}if(!bK){return}n("PromoCode: loaded");if(typeof roistatPromoCode==="undefined"||roistatPromoCode.length<1){n("PromoCode: is disabled");return}bJ={template:roistatPromoCode,position:roistatPosition};aX.setObject("promo_code_options",bJ);bM()}}};var M=function(bK,bL){for(var bJ=0;bJ<bK.length;bJ++){if(bK[bJ]===bL){return true}}return false};var n=function(bK){var bL=a2()-aq;var bJ="["+(bL/1000)+"s] "+bK;al=al+"; "+bJ;if(typeof console!=="undefined"&&console.log&&at){console.log(bJ)}};(function aG(){if(aY.onRoistatModuleLoaded!==aC&&typeof aY.onRoistatModuleLoaded==="function"){aY.onRoistatModuleLoaded()}})();bE();(function ah(){var c2="roistat-lh-form",b1="roistat-lh-form",c4="roistat-lh-head-text",cc="roistat-lh-head",bZ="roistat-lh-thank-you",cz="roistat-lh-thank-you",bM="roistat-lh-close",bN="roistat-lh-submit",cj="roistat-lh-hidden",cQ="roistat-lh-wrap",cy="roistat-lh-popup",c3="roistat-lh-agreement",ct="roistat-lh-agreement roistat-lh-mobile",dd="roistat-lh-agreement-input",cW="roistat-lh-agreement-link",bJ="roistat-lh-agreement-doc",c0="roistat-lh-alert-row",cE="roistat-lh-agreement",cG="roistat_leadHunterUrl",cY="roistat_leadHunterAppearanceUrl",cn="roistat_leadHunterTargetPagesList",bX="roistat_leadHunterCaught",b5="roistat_leadHunterFormTemplate_{version}",cK=14,cd="roistat_leadHunterPulsatorTemplate",cJ="roistat_leadHunterMinTime",cg="roistat_leadHunterAutoShowTime",cI="roistat_leadHunterPulsatorEnabled";var bW=0.3,b6=0.001,b0=false,b9=0,b3=0,ca=0,c6=0,b8=0,cv=false,cl=false,bQ=false,b7,cF,cP,cb,dc,c9,cX,db,bS,c7,cN,cA,cs,bV,bL,ci;var da={pulsator:{previousClass:""},leave:{isShowEnabled:false,},timeoutId:0};var b4=function(){return b5.split("{version}").join(cK)};var c5=function(di){var dh=encodeURIComponent?encodeURIComponent:encodeURI;return dh(di)};var bY=function(){if(!aX.isAvailable()){return}aX.remove(b5.split("_{version}").join(""));var dh;if(cK>1){for(dh=1;dh<cK;dh++){aX.remove(b5.split("{version}").join(dh.toString()))}}};var cS=function(){if(!aY.roistat.leadHunter.isEnabled){return false}if(aY.roistatLeadHunterInited){return false}aY.roistatLeadHunterInited=true;if(aX.get(aD)<1){n("LeadHunter: disabled");return false}return true};var ck=function(){bL=aX.get(cG);if(!bL){n("LeadHunter: not active cause of empty url");return false}ci=aX.get(cY);c6=aX.get(cJ);b8=aY.roistat.leadHunter.form.autoShowTime===null?aX.get(cg):aY.roistat.leadHunter.form.autoShowTime;cv=aX.get(cI)==1;bK();return true};var bK=function(){if(aX.get(bX)>0){n("LeadHunter: not active because already caught");cl=true}if(!(f(B)>0)){n("LeadHunter: not active, expired for this visit");cl=true}};var dg=function(){var dn=function(dv,dt){var ds;if(bu(dt,"*")){var du=new RegExp(dt.split("*").join(".*"));ds=du.test(dv)}else{ds=dv===dt}n("LeadHunter: compare current: "+dv+", setting: "+dt+" with result = "+(ds?1:0));
return ds};var di=aX.get(cn),dh=aY.location.href,dk=false,dj=false,dq="",dl=0,dp;dp=di?di.split(","):[];if(!dh||dp.length===0){dk=true}else{dq=V(dh);var dr;for(var dm=0;dm<dp.length;dm++){dr=dp[dm].split("www.").join("").split("http://").join("").split("https://").join("").replace(/\/+$/,"");if(/^!/.test(dr)){if(dn(dq,dr.split(/^!/).join(""))){dj=true;break}}else{dl++;if(dn(dq,dr)){dk=true;break}}}}if(dj){n('LeadHunter: current page "'+dq+'" is disabled by list');return false}if(!dk&&dl>0){n('LeadHunter: current page "'+dq+'" is not listed');return false}n('LeadHunter: current page "'+dh+'", cleaned: "'+dq+'" is not disabled in '+dp.length+" list of pages");return true};var cr=function(){bQ=true;bP("click");cO()};var bO=function(){var dh=aY.location.hash;if(!dh){return}if(bu(dh,"roistat-lead-hunter")){cr()}};var cp=function bU(){n("LeadHunter: binding timeout");if(cl){n("LeadHunter: leadhunter is expired, no timeout show allowed");return}if(b0){n("LeadHunter: leadhunter was shown, no timeout show allowed");return}if(b8>0){var dh=(b9-a2())+b8*1000;n("LeadHunter: binding timeout with delay "+dh+" ms");clearTimeout(da.timeoutId);da.timeoutId=setTimeout(function(){n("LeadHunter: form auto activate with autoTime = "+b8);if(!b0){bQ=true;bP("auto");cO()}},dh)}else{n("LeadHunter: auto show time is not positive, feature disabled")}};var cZ=function(){function dm(dq,dp,dn){if(dq.addEventListener){dq.addEventListener(dp,dn,false)}else{if(dq.attachEvent){dq.attachEvent("on"+dp,dn)}else{n("Handler could not be attached")}}}cX.onclick=cP.onclick=cC;db.onclick=cm;if(c7){dm(c7,"click",cu)}if(cN){dm(cN,"change",de)}var di=q.getElementsByClassName("roistat-lh-input");for(var dl=0;dl<di.length;dl++){dm(di[dl],"keyup",function(dp){dp=dp||event;var dn=(dp.keyCode?dp.keyCode:dp.which);if(dn==13){cm()}})}var dj=aY.onresize;aY.onresize=function(dn){if(dj){dj(dn)}c1(dn)};if(!cl){var dh=q.onmouseout;q.onmouseout=function(dn){if(dh){dh(dn)}cM(dn)}}if(cv){b7.onmouseover=function(){H(b7,"roistat-lh-pulsator-hover")};b7.onmouseout=function(){aS(b7,"roistat-lh-pulsator-hover")};b7.onclick=function(){cr()}}var dk=aY.onhashchange;aY.onhashchange=function(){if(dk){dk.apply(this,arguments)}bO()}};var cB=function(){var dk=function(dq){var dp=q.getElementsByClassName(dq);if(dp.length>0){return dp[0]}else{return null}};var dl=dk("roistat-lh-title");if(dl&&roistat.leadHunter.form.title){dl.innerHTML=roistat.leadHunter.form.title}var di=dk("roistat-lh-sub-title");if(di&&roistat.leadHunter.form.subTitle){di.innerHTML=roistat.leadHunter.form.subTitle}var dj=dk("roistat-lh-thank-you");if(dj&&roistat.leadHunter.form.thankYouText){dj.innerHTML=roistat.leadHunter.form.thankYouText}var dn=dk("roistat-lh-submit");if(dn&&roistat.leadHunter.form.buttonText){dn.value=roistat.leadHunter.form.buttonText}var dm=dk("roistat-lh-text-label-name");if(dm&&roistat.leadHunter.form.nameLabel){dm.innerHTML=roistat.leadHunter.form.nameLabel}var dh=dk("roistat-lh-text-label-contact");if(dh&&roistat.leadHunter.form.contactLabel){dh.innerHTML=roistat.leadHunter.form.contactLabel}};var b2=function(di,dj){var dh;if(!di){n("LeadHunter: deactivating, empty form")}else{n("LeadHunter: rendering hidden form")}if(aX.isAvailable()){cT(di,dj)}cP=q.createElement("div");cF=q.createElement("div");cF.innerHTML=di;cP.className=cj;cF.className=cj;if(dj&&cv){dh=q.createElement("div");dh.innerHTML=dj;b7=dh.childNodes.item(0);da.pulsator.previousClass=b7.className;b7.className=cj;q.body.appendChild(b7)}q.body.appendChild(cP);q.body.appendChild(cF);cb=q.getElementById(cc);dc=q.getElementById(b1);c9=q.getElementById(cz);cX=q.getElementById(bM);db=q.getElementById(bN);bS=q.getElementById(c3);cN=q.getElementById(dd);c7=q.getElementById(cW);cA=q.getElementById(bJ);cs=q.getElementById(c0);bV=q.getElementById(cE);cB();cZ();bO();c8()};var bT=function(){var dh=aX.get(b4()),di=aX.get(cd);aY.roistatLeadhunterForm=b2;if(!dh){n("LeadHunter: requesting form from server");Z(ag()+"//"+l+"/api/site/"+D+"/"+ae()+"/leadhunter-form?domain="+encodeURIComponent(q.domain))}else{aY.roistatLeadhunterForm(a1.decode(dh),a1.decode(di))}};var co=function(){var di=cF.clientWidth,dh=cF.clientHeight;cF.setAttribute("style",cF.getAttribute("style")+" width: "+di+"px; height: "+dh+"px;");if(dc!==null){dc.className=cj}if(cb!==null){cb.className=cj}if(bS!==null){bS.className=cj}if(c9!==null){c9.setAttribute("style","width: "+di+"px; height: "+dh+"px; display: table-cell;");c9.className=bZ}setTimeout(function(){n("LeadHunter: close form after timeout");cC()},7000)};var cO=function(){var di=Math.round((cV()-cF.clientHeight)/2);var dh=Math.round((df()-cF.clientWidth)/2);cF.setAttribute("style","left: "+dh+"px; top: "+Math.max(0,di)+"px;")};var bP=function(dh){if(aY.roistat.leadHunter.onBeforeAppear){n("LeadHunter: process user defined onBeforeAppear");aY.roistat.leadHunter.onBeforeAppear(dh);cB()}cF.setAttribute("style","left:20px;top:-20px;opacity:0");cP.className=cQ;cF.className=cy;dc.className=c2;cb.className=c4;if(bS!==null){bS.className=ct
}if(c9!==null){c9.setAttribute("style","");c9.className=cj}cP.setAttribute("style","opacity:0;");b0=true;setTimeout(function(){cP.setAttribute("style","opacity:.5;")},10);var di=f(aT);a9(ci,{visit_id:di},"GET");if(aY.roistat.leadHunter.onAfterAppear){n("LeadHunter: process user defined onAfterAppear");aY.roistat.leadHunter.onAfterAppear(di,cP,cF,dc)}};var cR=function cD(){bY();b9=a2();var dh=false;var di=aY.onload;aY.onload=function(){if(di){di()}if(!dh){dh=true;n("LeadHunter: form initialized in window.onload");bT()}};setTimeout(function(){if(!dh){dh=true;n("LeadHunter: form initialized after timeout");bT()}},5000)};var c8=function cq(){n("LeadHunter: tuning appearance for page");if(!dg()){n("LeadHunter: disabled on page");da.leave.isShowEnabled=false;clearTimeout(da.timeoutId);if(b7){b7.className=cj}}else{n("LeadHunter: enabled on page");da.leave.isShowEnabled=true;cp();if(b7){b7.className=da.pulsator.previousClass}}};var ce=function cL(){n("LeadHunter: processing single page application state change");b9=a2();c8()};var cU=function cw(){var dk=function(dm,dp,dn){var dl=dm[dp];dm[dp]=function(){if(dl){dl.apply(this,arguments)}dn.apply(this,arguments)}};var dj=function(dn,dm,dp){if(dn.addEventListener){dn.addEventListener(dm,dp,false);return}var dl="on"+dm;if(dn.attachEvent){dn.attachEvent(dl,dp);return}if(dl in dn){dk(dn,dl,dp);return}if(dm in dn){dk(dn,dm,dp);return}n("Handler could not be attached")};dj(aY,"popstate",function di(){n("LeadHunter: popstate event catch");ce()});dj(aY.history,"pushState",function dh(){n("LeadHunter: pushState event catch");ce()});dj(aY.history,"replaceState",function dh(){n("LeadHunter: replaceState event catch");ce()})};function cH(){if(!cS()){return}if(!ck()){return}n("LeadHunter: activated");cR();cU()}function cV(){return(aY.innerHeight?aY.innerHeight:q.documentElement.clientHeight==0?q.body.clientHeight:q.documentElement.clientHeight)}function df(){return(aY.innerWidth?aY.innerWidth:q.documentElement.clientWidth==0?q.body.clientWidth:q.documentElement.clientWidth)}function cM(dj){dj=dj||event;ca=dj.clientY;var dh=ca/cV(),dl=b3>0&&b3>dh,di=dh<b6,dk=(a2()-b9)>c6*1000;if(dl&&di&&!b0&&dk&&da.leave.isShowEnabled){n("LeadHunter: show modal with because move up ("+b3+" -> "+dh+") and in modal zone and show on leave enabled");bP("exit");cx(dj)}if(dh<bW){b3=dh}}function c1(dh){if(bQ){cO()}else{dh=dh||event;cx(dh)}}function cx(dj){var dh=dj.clientX-Math.round(cF.clientWidth/2)||cF.offsetLeft;dh=Math.max(20,Math.min(dh,df()-cF.offsetWidth-20));var di=df()-40>cF.offsetWidth?"":"width:"+(cF.offsetWidth-40)+"px;";cF.setAttribute("style","left:"+dh+"px; top: 0px; "+di)}function bR(){aY.roistatSetCookie(bX,1,bj)}function cC(){bR();cP.setAttribute("style","opacity:0");cF.style.top="-"+cF.offsetHeight*2+"px";setTimeout(function(){cF.className=cP.className=cj},500)}function cm(){var dw=q.getElementById("roistat-lh-phone-input"),dj=q.getElementById("roistat-lh-name-input"),dl,du;dl=dw===null?"":dw.value;du=dj===null?"":dj.value;var dr={name:du,phone:dl,isNeedCallback:null,callbackPhone:null,fields:{}};if(aY.roistat.leadHunter.onBeforeSubmit){n("LeadHunter: process user defined onBeforeSubmit");var dm=aY.roistat.leadHunter.onBeforeSubmit(dr);if(dm){dr=dm}}var dt=dr.phone.length<1;var dv=dr.phone.slice(-1)!=="_";var dp=!dt&&dv;var ds=dr.name.length<1;var di=!ds||!aY.roistat.leadHunter.form.isNameRequired;if(!dp){dw.setAttribute("style","border: 2px solid #E0571A;");return}if(!di){dj.setAttribute("style","border: 2px solid #E0571A;");return}var dh=bL+"?v="+x+"&lead-hunt-input="+encodeURIComponent(dr.phone)+"&lead-name="+encodeURIComponent(dr.name)+"&visit="+f(aT);if(dr.isNeedCallback!==null&&dr.isNeedCallback!==aC){dh=dh+"&is_need_callback="+(dr.isNeedCallback>0?1:0)}if(dr.callbackPhone){dh=dh+"&callback_phone="+dr.callbackPhone}if(aY.roistat.leadHunter.additionalNotifyEmail!==null){dh=dh+"&additional_email="+encodeURIComponent(aY.roistat.leadHunter.additionalNotifyEmail)}var dk=0;if(dr.fields&&typeof dr.fields==="object"){for(var dn in dr.fields){if(dr.fields.hasOwnProperty(dn)){++dk}}}if(dk>0){dh=dh+"&fields="+c5(JSON.stringify(dr.fields))}dh=dh+"&t="+a2();var dq=q.createElement("img");dq.src=dh;dw.setAttribute("style","");bR();if(c9===null){cC();ch()}else{co()}if(aY.roistat.leadHunter.onAfterSubmit){n("LeadHunter: process user defined onAfterSubmit");aY.roistat.leadHunter.onAfterSubmit({name:du,phone:dl})}}function cu(dh){if(dh.preventDefault){dh.preventDefault()}else{dh.returnValue=false}cA.style.display==="block"?cA.style.display="none":cA.setAttribute("style","display: block; width:"+(cF.clientWidth-20)+"px;");bV.style.position==="static"?bV.style.position="absolute":bV.style.position="static";c1()}function de(){db.disabled===true?db.disabled=false:db.disabled=true;cs.style.display==="block"?cs.style.display="none":cs.style.display="block"}function ch(){q.onmousemove=null;cP.onresize=null}var cf=function(dn,dr){if(!dn||!dr){n("LeadHunter: skip phone mask render due to empty input or mask");
return}n("LeadHunter: render phone mask "+dr+" for input: "+dn.value);if(aY.roistatRenderPhoneMaskMutex){return}aY.roistatRenderPhoneMaskMutex=true;var dk="_",dj="x",dm="Ñ…",dl=dr.toLowerCase().split(dj).join(dk).split(dm).join(dk);var di=function(ds){if(dn.setSelectionRange){dn.setSelectionRange(ds,ds)}else{if(dn.createTextRange){var dt=dn.createTextRange();dt.collapse(true);dt.moveEnd("character",ds);dt.moveStart("character",ds);dt.select()}}};var dp=function(ds){if(!ds){return 0}var dt=ds.indexOf(dk);if(dt<0){return ds.length}return dt};var dq=function(ds){di(dp(ds))};var dh=function(dB){var dC=dl.split("");if(!dB){return dl}var ds=dB.split("");var dD=[],dA,dx,dz,dw,du,dt,dy;for(var dv=0;dv<dC.length;dv++){dx=dC[dv];if(dv>=ds.length){dD.push(dx);continue}du=((dv+1)<dC.length)?dC[dv+1]:null;dt=((dv+1)<ds.length)?ds[dv+1]:null;dy=((dv+2)<ds.length)?ds[dv+2]:null;dA=ds[dv];dz=parseInt(dA)>=0;dw=(dx===dk)&&dz;if(!dw){dD.push(dx);continue}if(dt===dk&&du!==dk&&dy!==du){dD.push(dx);continue}dD.push(dA)}return dD.join("")};setTimeout(function(){var ds=dh(dn.value);if(dn.value!==ds){dn.value=ds}dq(ds);aY.roistatRenderPhoneMaskMutex=false},1)};var cT=function(dh,di){aX.set(b4(),a1.encode(dh));aX.set(cd,a1.encode(di))};bb(cH);aY.roistatLeadHunterShow=cr;aY.roistatRenderPhoneMask=cf;aY.roistatSaveLeadHunterTemplates=cT})();(function k(){var bW=function(){return f(bF)};var bU=function(){return aX.get(ao)};var bN=function(){return aX.get(ax)};var b0=function(b2){return b2!=null&&b2!==aC&&b2!==""};var bZ=function(b2){try{var b3=JSON.parse(b2);if(b3&&typeof b3==="object"){return b3}}catch(b4){}return null};var bY=function(){var b2=[];var b3=q.getElementsByClassName(J);if(b3&&b3.length){b2=b3}return b2};var bL=function(){var b2=[];var b3=q.getElementsByClassName(p);if(b3&&b3.length){b2=b3}return b2};var bK=function(){var b2=[];var b3=q.getElementsByClassName(F);if(b3&&b3.length){b2=b3}return b2};var bP=function(){var b2=[];var b3=q.getElementsByClassName(s);if(b3&&b3.length){b2=b3}return b2};var bS=function(){var b2=[];var b3=q.getElementsByClassName(bz);if(b3&&b3.length){b2=b3}return b2};var bJ=function(cd,b2){n("RenderPhone phone = "+cd);var b7=function(cf){return cf.split(/[^0-9]/).join("")};var b9=function(ci,ck){var cn=null;if(!ci){return cn}var cf=ck.split(",");if(cf.length<2){cn=ck}else{var cg=ci.getAttribute("data-prefix");if(cg){for(var cj=0;cj<cf.length;cj++){var cl=cf[cj];var cm=b7(cl);if(cm.indexOf("8")===0){cm="7"+cm.substring(1)}var ch=cm.split(cg)[0]==="";if(ch){cn=cl;break}}}if(cn===null){cn=cf[0]}n("CallTracking._getPhoneForElement: Prepared phone = "+cn+" for data-prefix = "+cg)}return cn};var b5=function(cj,ch){var cf=b9(cj,ch);if(!cf||!cj){return}if(cj.tagName.toLowerCase()!=="a"){return}var ci=cj.getAttribute("href");if(bu(ci,"tel:")){var cg=b7(cf);if(cg.indexOf("8")===0){cg="7"+cg.substring(1)}cj.setAttribute("href","tel:+"+cg)}};var cb=function(ch,cg){var cf=b9(ch,cg);if(!cf||!ch){return}ch.innerHTML=cf};var ce=function(cf){var cg=bY();n("CallTracking: render phone default classes for "+cg.length+" elements");j(cg,function(ch){cb(ch,cf);b5(ch,cf)});j(bL(),function(ci){var ch=b7(b9(ci,cf)).slice(0,1);cb(ci,ch)});j(bK(),function(ci){var cj=b9(ci,cf).match(/\((.*)\)/);if(cj!==null){var ch=cj[1];cb(ci,ch)}});j(bP(),function(cj){var ch=b9(cj,cf).match(/\)(.*)/);if(ch!==null){var ck=b7(ch[1]);var ci=ck.slice(-1*ck.length,-4)+"-"+ck.slice(-4,-2)+"-"+ck.slice(-2);cb(cj,ci)}});j(bS(),function(ch){b5(ch,cf)})};var cc=function(cf,ck){if(!ck){return}n("CallTracking: render phone user replacement for "+ck.length+" replacements");for(var cj=0;cj<ck.length;cj++){var cm=ck[cj];if(!cm){continue}var ch=cm[0];cm=cm.substr(1);var cl=[];if(ch==="#"){var ci=q.getElementById(cm);if(ci!==null){cl.push(ci)}}else{cl=q.getElementsByClassName(cm);b4(cm,cf)}if(!cl||cl.length<1){continue}n("CallTracking: render phone for "+cm+", "+cl.length+" elements");for(var cg=0;cg<cl.length;cg++){cb(cl[cg],cf);b5(cl[cg],cf)}}};var ca=function(cf){for(var cg=0;cg<cf.length;cg++){cc(cf[cg].phone,cf[cg].css_selectors)}};var b4=function(cg,cf){j(b3(cg+"-"+aH),function(ci){var ch=b7(b9(ci,cf)).slice(0,1);cb(ci,ch)});j(b3(cg+"-"+W),function(ci){var cj=b9(ci,cf).match(/\((.*)\)/);if(cj!==null){var ch=cj[1];cb(ci,ch)}});j(b3(cg+"-"+an),function(cj){var ch=b9(cj,cf).match(/\)(.*)/);if(ch!==null){var ck=b7(ch[1]);var ci=ck.slice(-1*ck.length,-4)+"-"+ck.slice(-4,-2)+"-"+ck.slice(-2);cb(cj,ci)}});j(b3(cg+"-"+aQ),function(ch){b5(ch,cf)})};var b3=function(cg){var cf=[];var ch=q.getElementsByClassName(cg);if(ch&&ch.length){cf=ch}return cf};var b6=bN();if(b6){b6=b6.split("\n");for(var b8=0;b8<b6.length;b8++){b6[b8]="."+b6[b8]}}if(b2 instanceof Array){ca(b2)}else{ce(cd);cc(cd,b6)}};var bM=function(b2){aX.save(h,b2,bj)};var bV=function(){if(aY.roistat.callTracking.phone){var b2={expires:parseInt(aY.roistat.callTracking.sessionTime),path:"/"};if(bj.domain){b2.domain=bj.domain}bA(bF,aY.roistat.callTracking.phone,b2);bM(1);aX.save(ax,aY.roistat.callTracking.replacementClasses,bj);
aX.save(ao,aY.roistat.callTracking.phoneScriptsJson,bj)}};var bT=function(b2,b6,b4,b3){n("CallTracking: reuse phone "+b2+" for time "+b6+" and replacements "+b4);if(!b0(b2)){n("CallTracking: new phone is invalid");roistat.callTracking.phone=null;bw();return}roistat.callTracking.enabled=1;roistat.callTracking.phone=b2;roistat.callTracking.sessionTime=b6;roistat.callTracking.replacementClasses=b4;roistat.callTracking.phoneScriptsJson=b3;bw();bV();var b7={expires:parseInt(b6),path:"/"};if(bj.domain){b7.domain=bj.domain}bA(bF,b2,b7);aX.save(ao,b3,bj);aX.save(ax,b4,bj);var b5=bZ(b3);if(b5==null){bJ(b2)}else{bJ(b2,b5)}};var bO=function(){n("CallTracking: request new phone");var b2=f(aT);var b6=f(bp);var b5=b6?b6:ay;var b4=encodeURIComponent(ba);var b3=v()+"/get-phone?visit="+b2+"&marker="+(b5?b5:"")+"&prefix="+bd+"&prefix_bind="+bG+"&phone_scripts_bind="+w+"&page="+b4;Z(b3)};var bQ=function(){bd=aY.roistatPhonePrefix?aY.roistatPhonePrefix:"";bG=aY.roistatPhonePrefixBind?aY.roistatPhonePrefixBind:"";w=aY.roistatCalltrackingScripts&&aY.roistatCalltrackingScripts.join?aY.roistatCalltrackingScripts.join(","):"";n("CallTracking: refresh phone with prefix: "+bd+", binding: "+bG+", scripts: "+w);bO()};var b1=function(){var b2=aX.get(h)>0;var b3=aN.callTrackingEnabled;return b2&&b3};var bR=function(b2){bM(b2.is_enabled)};var bX=function(){n("CallTracking: init");bV();if(!b1()){n("CallTracking: disabled, skip");return}if(aN.callTrackingManual){n("CallTracking: init finish because off manual")}else{var b2=bW();if(!b0(b2)){n("CallTracking: invalid phone "+b2+", requesting a new one");bO()}else{n("CallTracking: render phone "+b2);var b3=bZ(bU());if(b3==null){bJ(b2)}else{bJ(b2,b3)}}}};aY.roistatCallTrackingRefresh=bQ;aY.roistatRequestNewPhone=bO;aY.roistatReusePhone=bT;aY.roistatCalltrackingUpdateSettings=bR;bb(bX)})();(function o(){var bL=function(bR){n("Emailtracking: "+bR)};var bP=function(bR,bS){aX.save(aw,bR,bj);aX.save(a,bS,bj)};var bK=function(){if(aY.roistat.emailtracking.loaded&&aY.roistat.emailtracking.email&&aY.roistat.emailtracking.trackingEmail){bL("save loaded email: "+aY.roistat.emailtracking.email);bP(aY.roistat.emailtracking.email,aY.roistat.emailtracking.trackingEmail)}else{bL("settings save skip, because not loaded");aY.roistat.emailtracking.email=aX.get(aw);aY.roistat.emailtracking.email=aY.roistat.emailtracking.email?aY.roistat.emailtracking.email:null;aY.roistat.emailtracking.email=aY.roistat.emailtracking.email==="null"?null:aY.roistat.emailtracking.email;bL("email loaded from storage: "+aY.roistat.emailtracking.email);aY.roistat.emailtracking.trackingEmail=aX.get(a);aY.roistat.emailtracking.trackingEmail=aY.roistat.emailtracking.trackingEmail?aY.roistat.emailtracking.trackingEmail:null;aY.roistat.emailtracking.trackingEmail=aY.roistat.emailtracking.trackingEmail==="null"?null:aY.roistat.emailtracking.trackingEmail;bL("tracking email loaded from storage: "+aY.roistat.emailtracking.trackingEmail)}};var bN=function(bR){bP(bR.email,bR.trackingEmail)};var bM=function(){return aY.roistat.emailtracking.enabled&&!!aY.roistat.emailtracking.email&&!!aY.roistat.emailtracking.trackingEmail};var bJ=function(){if(!bM()){bL("emailtracking disabled, skip swapping");return}var b4=function(b7,b8,b6){if(b7.href){if(b8.test(b7.href)){b7.href=b7.href.replace(b8,b6);return true}}if(b7.nodeType!==3){return false}if(b7.textContent&&b8.test(b7.textContent)){b7.textContent=b7.textContent.replace(b8,b6);return true}else{if(b7.innerText&&b8.test(b7.innerText)){b7.innerText=b7.innerText.replace(b8,b6);return true}}return false};var bX=function(b6){return b6.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};var b0=aY.roistat.emailtracking.email;var b3=bX(b0);var bT=new RegExp("(^|\\s)(mailto:)?("+b3+")($|\\s)","g");var b2=aY.roistat.emailtracking.trackingEmail;var b5=function(ca,b8,b6,b7,b9){b6=b6||"";return b8+b6+b2+b9};bL("starting to replace email "+b0+" to "+b2+" with regexp "+bT);var bS=q.getElementsByTagName("*");var bV=bS.length;bL("found "+bV+" nodes on page");var bZ=0;for(var bY=0;bY<bV;bY++){var bU=bS[bY];var b1=bU.childNodes.length;if(b1>0){for(var bW=0;bW<b1;bW++){var bR=bU.childNodes[bW];if(b4(bR,bT,b5)){bZ++}}}if(b4(bU,bT,b5)){bZ++}}bL("successfully replaced "+bZ+" nodes")};var bO=function(){bL("process email swap");bJ();setTimeout(function(){bJ()},300);setTimeout(function(){bJ()},5000);setTimeout(function(){bJ()},15000)};var bQ=function(){bL("init");bK();bO()};aY.roistatEmailtrackingUpdateSettings=bN;aY.roistat.emailtracking.refresh=bJ;bb(bQ)})();(function ar(){var bM=function(bO){n("MultiDomain: "+bO)};var bL=function(){return aX.get(bk)>0};var bK=function(bS){var bT=function(bU){if(!bU){return false}if(bu(bU,"roistat_visit")){return false}var bV=new RegExp("^(https?:)?//\\w+\\.\\w+");return bV.test(bU)};var bR=function(bX){var bY=bX.split("#");var bW=bY[0].split("?");var bU="";var bV="";if(bW.length===2){bU=bW[1]}if(bU){bV="&"}bU=bU+bV+"roistat_visit="+roistat.getVisit();bW[1]=bU;bY[0]=bW.join("?");return bY.join("#")
};if(bS.tagName.toLowerCase()!=="a"){return}var bQ=bS.getAttribute("href");var bP=false;if(bT(bQ)){var bO=bR(bQ);bM("update url "+bQ+" > "+bO);bS.setAttribute("href",bO);bP=true}return bP};var bJ=function(){if(!bL()){bM("disabled, skip");return}var bO=q.getElementsByTagName("a");var bP=bO.length;bM("found "+bP+" <a> nodes on page");var bS=0;for(var bQ=0;bQ<bP;bQ++){var bR=bO[bQ];if(bK(bR)){bS++}}bM("replaced "+bS+" nodes")};var bN=function(){bM("init");bJ();setTimeout(function(){bJ()},300);setTimeout(function(){bJ()},5000);setTimeout(function(){bJ()},15000)};bb(bN)})();(function br(){var bK=5*60*1000;var bJ="roistat_last_settings_update_time";var bL=function(bT){n("SettingsUpdater: "+bT)};var bO=function(){return aX.get(bJ)};var bQ=function(){aX.set(bJ,a2())};var bR=function(){var bU=bO();var bT=!(bU>0);bL("is first update check: lastUpdateTime="+bU+", result="+(bT?1:0));return bT};var bS=function(){var bV=a2()-bK;var bU=bO();var bT=bU<bV;bL("expiration check: _minTime="+bV+", lastUpdateTime="+bU+", result="+(bT?1:0));return bT};var bN=function(){var bT=f(aT);var bU=v()+"/get-settings?visit="+bT;bL("request new settings");Z(bU)};var bM=function(bT){bL("update settings and save last update time");aY.roistatCalltrackingUpdateSettings(bT.calltracking);aY.roistatEmailtrackingUpdateSettings(bT.emailtracking);aY.roistatSaveLeadHunterTemplates(bT.leadhunter_templates.form_template,bT.leadhunter_templates.pulsator_template);aY.roistatSaveProxyFormSettings(bT.proxy_forms);ai(bT.js_settings);bQ()};var bP=function(){bL("init");if(bR()){bL("in first update we just start first timer and skip");bQ();return}if(!bS()){bL("update is not not expired, skip");return}bL("start to update settings");bN()};bb(function(){setTimeout(function(){bP()},3000)});aY.roistatUpdateSettings=bM})();(function aM(bN,bJ,bP){var bM={};var bK=function(bR){var bQ=encodeURIComponent?encodeURIComponent:encodeURI;return bQ(bR)};var bL=function(bX,bR){n("Reach goal start");if(!bX){bX={}}var bU={leadName:"",name:"",phone:"",email:"",price:"",text:"",fields:"",client_fields:"",is_need_callback:"",callback_phone:"",visit:i()};for(var bT in bU){if(!Object.prototype.hasOwnProperty.call(bU,bT)){continue}if(!Object.prototype.hasOwnProperty.call(bX,bT)){continue}if(!bX[bT]){continue}if(bT==="fields"||bT==="client_fields"){bX[bT]=JSON.stringify(bX[bT])}bU[bT]=bK(bX[bT])}var bW=ae();var bV=ag()+"//"+l+"/api/site/"+D+"/"+bW+"/reach-goal?v=2";for(var bS in bU){if(!Object.prototype.hasOwnProperty.call(bU,bS)){continue}bV=bV+"&"+bS+"="+bU[bS]}if(bR!==bP){var bQ=Math.random().toString();bM[bQ]=bR;bV+="&callback_key="+bQ}Z(bV);n("Reach goal completed")};var bO=bN.roistatGoal={reach:function(bR,bQ){bL(bR,bQ)},callAfterReachCallback:function(bQ){if(Object.prototype.hasOwnProperty.call(bM,bQ)){bM[bQ]();delete bM[bQ]}}}})(aY,q,aC);(function bD(bL,bJ,bM){var bK=function(bR){if(bR instanceof Array||bR===null||typeof bR!=="object"){n("Invalid event data");return""}var bO=[];for(var bQ in bR){if(Object.prototype.hasOwnProperty.call(bR,bQ)){var bP=bR[bQ];if(typeof bP==="string"||typeof bP==="number"){bO.push("data["+encodeURIComponent(bQ)+"]="+encodeURIComponent(bP))}else{n("Event data property ignored: "+bQ)}}}return bO.length>0?"&"+bO.join("&"):""};var bN=function(bQ,bR){n("Send event start");var bO=i();var bP=v()+"/event/register?visit="+bO+"&event="+bQ+bK(bR);Z(bP);n("Send event completed")};bL.roistat.event={send:function(bO,bP){bN(bO,bP)}}})(aY,q,aC);(function a0(bS,bU,bM){var bV=bS.roistatIsInitVisit===true?20000:10000;var bL=(new Date()).getTime();var bK=function(bZ){return"approve_visit_"+bZ};var bR=function(bZ){aR.set(bK(bZ),1)};var bW=function(bZ){return aR.get(bK(bZ))>0};var bJ,bO,bY=[];if(bU.addEventListener){bJ=function(b0,bZ,b1){return b0.addEventListener(bZ,b1,false)};bO=function(b0,bZ,b1){return b0.removeEventListener(bZ,b1,false)}}else{bJ=function(b0,bZ,b1){return b0.attachEvent("on"+bZ,b1)};bO=function(b0,bZ,b1){return b0.detachEvent("on"+bZ,b1)}}var bQ=function(b2){if(bY.length>30){return}b2=b2||bS.event;if(!b2||!b2.screenX){return}var b1=(new Date()).getTime();var b4,b3=null;if(bY.length>0){b3=bY[bY.length-1]}if(b3){b4=b1-b3.time}else{b4=b1-bL}if(b4<300){return}b4=b4-300;var b6=0;var bZ=b2.screenX;var b5=b2.screenY;if(b3){b6=parseInt(Math.sqrt(Math.pow(b3.y-b5,2)+Math.pow(b3.x-bZ,2)))}var b0={time:b1,pauseBeforeMove:b4,x:bZ,y:b5,distance:b6};bY.push(b0)};var bP=function(){var bZ=[];j(bY,function(b0){var b1=[b0.pauseBeforeMove,b0.distance];bZ.push(b1.join(":"))});if(bZ.length===0){bZ.push("0:0")}return bZ.join("|")};var bN=function(){for(var bZ in bS){if(bu(bZ,"yaCounter")){return true}}return false};var bT=function(){bO(bU,"mousemove",bQ);var bZ=i();n("VisitApprove: start for visit "+bZ);if(bW(bZ)){n("VisitApprove: visit already approved, skip");return}bR(bZ);var b0=v()+"/approve?v="+x+"&visit="+bZ;if(bX()){b0+="&hash="+K()}b0+="&mv="+bP();b0+="&pl="+(bS.navigator?bS.navigator.platform:"");b0+="&ym="+(bN()?"1":"0");Z(b0)};var bX=function(){var b3=aV.cookies,b2=g();
for(var b0=0;b0<aK.length;b0++){var b4=aK[b0];var b5=Object.prototype.hasOwnProperty.call(b3,b4)?b3[b4]:bM;var bZ=Object.prototype.hasOwnProperty.call(b2,b4)?b2[b4]:bM;var b1=typeof bZ==="string"&&bZ.length>0;if(b1&&b5!==bZ){return true}}return false};setTimeout(function(){bT()},bV);bJ(bU,"mousemove",bQ)})(aY,q,aC);(function O(bO,bP,bK){var bM=function(){return z("roistat_ab_demo")==="1"};var bQ=function(bT){return new RegExp(bT.split(".").join("\\.").split("*").join(".*").split("?").join("."))};var bN=function(bY){var bT=bO.location.href,bW=bY.filter,b2=bY.filterValue;var bZ;switch(bW){case"except":case"pages":var bU,b1,b0=false;b1=bT?V(bT):"";bZ=b2?b2.split("\n"):[];if(b1&&bZ.length!==0){for(var bV=0;bV<bZ.length;bV++){var bX=bZ[bV].trim();if(bX.length===0){continue}bU=bQ(bX);if(bU.test(b1)){b0=true;break}}}return(bW==="pages")?b0:!b0;break;case"all":default:return true}};var bJ=function(bV){var bT=bP.getElementsByTagName("head")[0],bU;bU=bP.createElement("style");bU.setAttribute("type","text/css");if(bU.styleSheet){bU.styleSheet.cssText=bV.value}else{bU.innerText=bV.value}bT.appendChild(bU)};var bL=function(bT){if(bN(bT)){switch(bT.type){case"css":bJ(bT);break}}};bO.applyTests=function(){var bT=aX.getObject("abTesting");var bV,bU;for(bV in bT){if(!Object.prototype.hasOwnProperty.call(bT,bV)){continue}bU=bT[bV];bL(bU)}};var bR=function(){n("Call: apply demo AB test");var bT=z("roistat_ab_data");var bU;if(bT===null){return}else{bU=JSON.parse(a1.decode(bT))}if(typeof bU!=="object"){n("Error: testValue is not an object.");return}bL(bU)};function bS(){var bT=bM();if(!bo&&!bT){applyTests()}if(bT){bR()}}bS()})(aY,q,aC);(function aj(bK,bJ,bL){if(!bq){return}setTimeout(function(){(function(bS,bR,bV,bU,bP,bN,bQ){bS[bP]={COUNTER_ID:bN,HOST:bQ};var bO=bR.location.protocol=="https:"?"https://":"http://";var bM=bR.createElement(bV);bM.async=1;bM.src=bO+bQ+bU;var bT=bR.getElementsByTagName(bV)[0];bT.parentNode.insertBefore(bM,bT)})(bK,bJ,"script","/counter.js","datamap",ae(),bq)},1000)})(aY,q,aC);(function aW(bL,bJ,bM){var bN=function(){var bO=bL.roistatMetrikaCounterId;if(bO){aX.set(ab,bO)}};var bK=function(bT){var bO="yaCounter"+bT;var bS=100,bQ=0,bR=60000;var bP=function(){bQ+=bS;n("YandexMetrika: trying to access counter "+bT);if(bL[bO]===bM){if(bQ<bR){setTimeout(bP,bS);bS*=2}return}var bU={};bU[bg]=i();bL[bO].params(bU);n("YandexMetrika: visit id "+bU[bg]+" sent to counter "+bT)};setTimeout(bP,bS)};bb(function(){bN();var bQ=aX.get(ab);if(!bQ){n("YandexMetrika: counter id not found");return}var bP=String(bQ).split(",");n("YandexMetrika: counters: "+bP);for(var bO=0;bO<bP.length;bO++){if(bP[bO].trim()===""){continue}bK(bP[bO])}})})(aY,q,aC);(function L(bO,bT){var bU=function(bY){n("Proxy Forms: "+bY)};var bR=function(){if(bO.roistat.proxyForms.loaded&&bO.roistat.proxyForms.settings.length>0){bU("save loaded settings");bQ(bO.roistat.proxyForms.settings)}else{bU("settings not loaded, getting from storage");bO.roistat.proxyForms.settings=aX.getObject(bB)||[]}};var bQ=function(bY){aX.setObject(bB,bY)};var bM=function(){bU("init form listener");bL(bO.roistat.proxyForms.settings);bN(bO.roistat.proxyForms.settings)};var bN=function(bY){var b0=[];j(bY,function(b1){if(b1.type==="js-button"){b0.push(b1)}});if(b0.length<1){bU("no button settings");return}var bZ;if(bT.addEventListener){bZ=function(b1){bS(b0,b1,b1.target,bK)};bT.addEventListener("click",bZ,true)}else{if(bT.attachEvent){bZ=function(){var b1=bO.event;bS(b0,b1,b1.srcElement,bK,true)};bT.attachEvent("onclick",bZ)}else{bU("Listener could not be attached")}}};var bL=function(bZ){var bY=[];j(bZ,function(b1){if(b1.type==="form"){bY.push(b1)}});if(bY.length<1){bU("no form settings");return}if(bT.addEventListener){var b0=function(b1){bS(bY,b1,b1.target,bJ)};bT.addEventListener("submit",b0,true)}else{if(bT.attachEvent){setInterval(function(){var b1=bT.getElementsByTagName("form");j(b1,function(b2){if(b2.getAttribute("data-roistat-proxy-form-checked")==="true"){return}b2.setAttribute("data-roistat-proxy-form-checked","true");j(bY,function(b3){if(bW(b2,b3.selector)){b2.attachEvent("onsubmit",function(){bO.event.returnValue=false;bJ(b3,bO.event.srcElement)})}})})},2000)}else{bU("Listener could not be attached")}}};var bS=function(b1,b2,b3,b0,bY){var bZ=null;j(b1,function(b4){if(bW(b3,b4.selector)){bZ=b4}});if(bZ===null){bU("No matched settings found for listener");return}b0(b2,bZ,b3,bY)};var bJ=function(b1,bZ,b0,bY){bY?b1.returnValue=false:b1.preventDefault();bO.roistatGoal.reach(bX(b0,bZ),function(){HTMLFormElement.prototype.submit.call(b0)})};var bK=function(bZ,bY){bO.roistatGoal.reach(bX(null,bY))};var bX=function(b1,b0){var bY={};var bZ=b0.type==="form"?"Ñ„Ð¾Ñ€Ð¼Ñ‹":"ÐºÐ½Ð¾Ð¿ÐºÐ¸";bY.leadName="ÐÐ¾Ð²Ñ‹Ð¹ Ð»Ð¸Ð´ Ñ "+bZ+" "+b0.title;bY.name=b0.name?bP(b1,b0.name.value,b0.name.type):"";bY.phone=b0.phone?bP(b1,b0.phone.value,b0.phone.type):"";bY.email=b0.email?bP(b1,b0.email.value,b0.email.type):"";bY.text=b0.comment?bP(b1,b0.comment.value,b0.comment.type):"";bY.is_need_callback=b0.is_need_callback;
if(av(b0.fields)){bY.fields={};j(b0.fields,function(b2){bY.fields[b2.name]=bP(b1,b2.value,b2.type)})}return bY};var bP=function(bZ,b2,bY){switch(bY){case"plain":return b2||"";case"input":var b1=bZ.querySelector('input[name="'+b2+'"]');return b1?b1.value:"";case"js":try{return(new Function(b2))()}catch(b0){return""}}};var bV=function(){bU("init");if(!bO.roistat.proxyForms.enabled){bU("disabled");return}bR();bM()};var bW=function(b0,bY){if(typeof Element!=="undefined"&&Element.prototype.matches){return b0.matches(bY)}else{if(typeof Element!=="undefined"&&Element.prototype.matchesSelector){return b0.matchesSelector(bY)}else{if(bT.querySelectorAll){var b1=bT.querySelectorAll(bY);for(var bZ=0;bZ<b1.length;bZ++){if(b1[bZ]===b0){return true}}return false}}}return false};bb(bV);bO.roistatSaveProxyFormSettings=bQ})(aY,q);(function t(){if(aY.onRoistatAllModulesLoaded!==aC&&typeof aY.onRoistatAllModulesLoaded==="function"){aY.onRoistatAllModulesLoaded()}})()})(window,document,undefined);