function debugLine(e,t,i){!0===e&&(e="true"),!1===e&&(e="false");var n=e;if("object"==typeof e)for(name in n="",e){var r=e[name];n+=" "+name+": "+r}if(1!=t||i||(n+=" "+Math.random()),1==i){var o=jQuery("#debug_line");o.width(200),500<=o.height()&&o.html(""),n=o.html()+"<br> -------------- <br>"+n}jQuery("#debug_line").show().html(n)}function debugSide(e){var t="";for(name in e){var i=e[name];t+=name+" : "+i+"<br>"}jQuery("#debug_side").show().html(t)}function trace(e){"undefined"!=typeof console&&console.log(e)}function UGFunctions(){function t(e,t,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent?t.attachEvent("on"+e,i):t[e]=i}var o=null,E=this,a={starTime:0,arrThemes:[],isTouchDevice:-1,isRgbaSupported:-1,timeCache:{},dataCache:{},lastEventType:"",lastEventTime:0,handle:null};this.debugVar="",this.z__________FULL_SCREEN___________=function(){},this.toFullscreen=function(e,t){if(e.requestFullscreen)e.requestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0},this.exitFullscreen=function(){if(0==E.isFullScreen())return!1;if(document.exitFullscreen)document.exitFullscreen();else if(document.cancelFullScreen)document.cancelFullScreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},this.addFullScreenChangeEvent=function(e){document.webkitCancelFullScreen?t("webkitfullscreenchange",document,e):document.msExitFullscreen?t("MSFullscreenChange",document,e):document.mozCancelFullScreen?t("mozfullscreenchange",document,e):t("fullscreenchange",document,e)},this.destroyFullScreenChangeEvent=function(){jQuery(document).unbind("fullscreenChange"),jQuery(document).unbind("mozfullscreenchange"),jQuery(document).unbind("webkitfullscreenchange"),jQuery(document).unbind("MSFullscreenChange")},this.getFullScreenElement=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},this.isFullScreen=function(){var e=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement;return!!e},this.z__________GET_PROPS___________=function(){},this.getBrowserPrefix=function(){if(null!==o)return o;var e=["webkit","Moz","ms","O"],t=document.createElement("div");for(var i in e){var n=e[i];if(n+"Transform"in t.style)return n=n.toLowerCase(),o=n}return o=""},this.getImageInsideParentDataByImage=function(e,t,i){var n=e.parent(),r=E.getImageOriginalSize(e);return E.getImageInsideParentData(n,r.width,r.height,t,i)},this.getImageInsideParentData=function(e,t,i,n,r,o,a){if(!r)r={};var s={};if(void 0===o)o=e.width();if(void 0===a)a=e.height();r.padding_left&&(o-=r.padding_left),r.padding_right&&(o-=r.padding_right),r.padding_top&&(a-=r.padding_top),r.padding_bottom&&(a-=r.padding_bottom);var l=null,u="100%",d=null,c=null,g="display:block;margin:0px auto;";if(0<t&&0<i){if("down"==n&&t<o&&i<a)c=(o-(l=t))/2,d=(a-(u=i))/2;else if("fill"==n){(l=(u=a)*(_=t/i))<o?(u=(l=o)/_,c=0,d=Math.round((u-a)/2*-1)):(d=0,c=Math.round((l-o)/2*-1))}else{var _;d=0,c=(o-(l=(u=a)*(_=t/i)))/2,"fitvert"!=n&&o<l&&(c=0,d=(a-(u=(l=o)/_))/2)}l=Math.floor(l),u=Math.floor(u),d=Math.floor(d),c=Math.floor(c),g="position:absolute;"}return r.padding_top&&(d+=r.padding_top),r.padding_left&&(c+=r.padding_left),s.imageWidth=l,s.imageHeight=u,s.imageTop=d,s.imageLeft=c,s.imageRight=c+l,s.imageBottom=0==d||"100%"==u?null:d+u,s.style=g,s},this.getElementCenterPosition=function(e,t){var i=e.parent(),n=E.getElementSize(e),r=E.getElementSize(i),o=r.width,a=r.height;t&&void 0!==t.padding_top&&(a-=t.padding_top),t&&void 0!==t.padding_bottom&&(a-=t.padding_bottom),t&&void 0!==t.padding_left&&(o-=t.padding_left),t&&void 0!==t.padding_right&&(o-=t.padding_right);var s={};return s.left=Math.round((o-n.width)/2),s.top=Math.round((a-n.height)/2),t&&void 0!==t.padding_top&&(s.top+=t.padding_top),t&&void 0!==t.padding_left&&(s.left+=t.padding_left),s},this.getElementCenterPoint=function(e,t){if(!t)t=!1;var i=E.getElementSize(e),n={};return n.x=i.width/2,n.y=i.height/2,1==t&&(n.x+=i.left,n.y+=i.top),n.x=Math.round(n.x),n.y=Math.round(n.y),n},this.getMousePosition=function(e,t){var i={pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY};if(e.originalEvent&&e.originalEvent.touches&&0<e.originalEvent.touches.length&&(i.pageX=e.originalEvent.touches[0].pageX,i.pageY=e.originalEvent.touches[0].pageY,i.clientX=e.originalEvent.touches[0].clientX,i.clientY=e.originalEvent.touches[0].clientY),t){var n=t.offset();i.mouseX=i.pageX-n.left,i.mouseY=i.pageY-n.top}return i},this.getMouseElementPoint=function(e,t){var i={x:e.pageX,y:e.pageY};return E.getElementLocalPoint(i,t)},this.getElementLocalPoint=function(e,t){var i={},n=t.offset();return i.x=Math.round(e.x-n.left),i.y=Math.round(e.y-n.top),i},this.getImageOriginalSize=function(e,t,i){if(void 0!==t&&void 0!==i)return{width:t,height:i};var n=e[0];if(void 0===n)throw new Error("getImageOriginalSize error - Image not found");var r={};if(void 0===n.naturalWidth){if("number"==typeof e.data("naturalWidth"))return(r={}).width=e.data("naturalWidth"),r.height=e.data("naturalHeight"),r;var o=new Image;return o.src=n.src,o.complete?(r.width=o.width,r.height=o.height,e.data("naturalWidth",r.width),e.data("naturalHeight",r.height),r):{width:0,height:0}}return r.width=n.naturalWidth,r.height=n.naturalHeight,r},this.getimageRatio=function(e){var t=E.getImageOriginalSize(e);return E.getElementSize(e).width/t.width},this.isImageFitParent=function(e){var t=e.parent(),i=E.getElementSize(e),n=E.getElementSize(t);return i.width<=n.width&&i.height<=n.height},this.getElementSize=function(e){if(void 0===e)throw new Error("Can't get size, empty element");var t=e.position();return t.height=e.outerHeight(),t.width=e.outerWidth(),t.left=Math.round(t.left),t.top=Math.round(t.top),t.right=t.left+t.width,t.bottom=t.top+t.height,t},this.isElementBiggerThenParent=function(e){var t=e.parent(),i=E.getElementSize(e),n=E.getElementSize(t);return i.width>n.width||i.height>n.height},this.isPointInsideElement=function(e,t){return 0!=(0<=e.x&&e.x<t.width)&&0!=(0<=e.y&&e.y<t.height)},this.getElementRelativePos=function(e,t,i,n){if(!n)n=e.parent();if("number"==typeof e)var r={width:e,height:e};else r=E.getElementSize(e);var o=E.getElementSize(n);switch(t){case"top":case"left":t=0,i&&(t+=i);break;case"center":t=Math.round((o.width-r.width)/2),i&&(t+=i);break;case"right":t=o.width-r.width,i&&(t-=i);break;case"middle":t=Math.round((o.height-r.height)/2),i&&(t+=i);break;case"bottom":t=o.height-r.height,i&&(t-=i)}return t},this.z_________SET_ELEMENT_PROPS_______=function(){},this.zoomImageInsideParent=function(e,t,i,n,r,o,a){if(!i)i=1.2;if(!r)r="fit";var s,l,u,d,c=i,g=e.parent(),_=E.getElementSize(e),h=E.getImageOriginalSize(e),p=!1,f=0,m=0,v=0,b=0;if(n){var y=E.getMouseElementPoint(n,e);p=E.isPointInsideElement(y,_),v=y.x,b=y.y}else p=!1;if(0==p){var w=E.getElementCenterPoint(e);v=w.x,b=w.y}if(1==t)s=_.height*c,l=_.width*c,0!=v&&(f=-(v*c-v)),0!=b&&(m=-(b*c-b));else{if(s=_.height/c,(l=_.width/c)<E.getImageInsideParentData(g,h.width,h.height,r,a).imageWidth)return E.scaleImageFitParent(e,h.width,h.height,r,a),!0;1==p&&(0!=v&&(f=-(v/c-v)),0!=b&&(m=-(b/c-b)))}if(o){var I=1;if(0!=h.width&&(I=l/h.width),o<I)return!1}if(E.setElementSize(e,l,s),0==t&&0==p){var T=E.getElementCenterPosition(e);u=T.left,d=T.top}else u=_.left+f,d=_.top+m;return E.placeElement(e,u,d),!0},this.placeElement=function(e,t,i,n,r,o){if(0==jQuery.isNumeric(t)||0==jQuery.isNumeric(i)){if(!o)o=e.parent();var a=E.getElementSize(e),s=E.getElementSize(o)}if(0==jQuery.isNumeric(t))switch(t){case"left":t=0,n&&(t+=n);break;case"center":t=Math.round((s.width-a.width)/2),n&&(t+=n);break;case"right":t=s.width-a.width,n&&(t-=n)}if(0==jQuery.isNumeric(i))switch(i){case"top":i=0,r&&(i+=r);break;case"middle":case"center":i=Math.round((s.height-a.height)/2),r&&(i+=r);break;case"bottom":i=s.height-a.height,r&&(i-=r)}var l={position:"absolute",margin:"0px"};null!==t&&(l.left=t),null!==i&&(l.top=i),e.css(l)},this.placeElementInParentCenter=function(e){E.placeElement(e,"center","middle")},this.setElementSizeAndPosition=function(e,t,i,n,r){var o={width:n+"px",height:r+"px",left:t+"px",top:i+"px",position:"absolute",margin:"0px"};e.css(o)},this.setElementSize=function(e,t,i){var n={width:t+"px"};null!=i&&(n.height=i+"px"),e.css(n)},this.cloneElementSizeAndPos=function(e,t,i,n,r){var o=e.position();if(null==o)throw new Error("Can't get size, empty element");!0===i?(o.height=e.outerHeight(),o.width=e.outerWidth()):(o.height=e.height(),o.width=e.width()),o.left=Math.round(o.left),o.top=Math.round(o.top),n&&(o.left+=n),r&&(o.top+=r),E.setElementSizeAndPosition(t,o.left,o.top,o.width,o.height)},this.placeImageInsideParent=function(e,t,i,n,r,o){var a=E.getImageInsideParentData(t,i,n,r,o),s="<img";return null!==a.imageWidth&&(s+=" width = '"+a.imageWidth+"'",a.style+="width:"+a.imageWidth+";"),null!=a.imageHeight&&("100%"==a.imageHeight?(s+=" height = '"+a.imageHeight+"'",a.style+="height:"+a.imageHeight+";"):(s+=" height = '"+a.imageHeight+"'",a.style+="height:"+a.imageHeight+"px;")),null!==a.imageTop&&(a.style+="top:"+a.imageTop+"px;"),null!==a.imageLeft&&(a.style+="left:"+a.imageLeft+"px;"),e=E.escapeDoubleSlash(e),s+=" style='"+a.style+"'",s+=' src="'+e+'"',s+=">",t.html(s),t.children("img")},this.scaleImageCoverParent=function(e,t,i){if("number"==typeof t)var n=t,r=i;else n=t.outerWidth(),r=t.outerHeight();var o=E.getImageOriginalSize(e),a=o.width/o.height,s=r,l=s*a,u=0,d=0;l<n?(s=(l=n)/a,d=0,u=Math.round((s-r)/2*-1)):(u=0,d=Math.round((l-n)/2*-1)),l=Math.round(l),s=Math.round(s),e.css({width:l+"px",height:s+"px",left:d+"px",top:u+"px"})},this.scaleImageFitParent=function(e,t,i,n,r){var o=e.parent(),a=E.getImageInsideParentData(o,t,i,n,r),s=!1,l={};return null!==a.imageWidth&&(s=!0,e.removeAttr("width"),l.width=a.imageWidth+"px"),null!=a.imageHeight&&(s=!0,e.removeAttr("height"),l.height=a.imageHeight+"px"),null!==a.imageTop&&(s=!0,l.top=a.imageTop+"px"),null!==a.imageLeft&&(s=!0,l.left=a.imageLeft+"px"),1==s&&(l.position="absolute",l.margin="0px 0px",e.css(l)),a},this.scaleImageByHeight=function(e,t,i,n){var r=E.getImageOriginalSize(e,i,n),o=r.width/r.height,a=Math.round(t*o);t=Math.round(t),E.setElementSize(e,a,t)},this.scaleImageByWidth=function(e,t,i,n){var r=E.getImageOriginalSize(e,i,n),o=r.width/r.height,a=Math.round(t/o);t=Math.round(t),E.setElementSize(e,t,a)},this.scaleImageExactSizeInParent=function(e,t,i,n,r,o){var a=e.parent(),s=E.getElementSize(a);s.width<n&&(n=s.width),s.height<r&&(r=s.height);var l,u=E.getImageInsideParentData(null,t,i,o,null,n,r),d=n,c=r,g=u.imageLeft,_=u.imageLeft,h=u.imageTop,p=u.imageTop,f=Math.round((s.width-n)/2),m=Math.round((s.height-r)/2);0!=(l=n-(u.imageWidth+g+_))&&(_+=l),0!=(l=r-(u.imageHeight+h+p))&&(p+=l),e.removeAttr("width"),e.removeAttr("height");var v={position:"absolute",margin:"0px 0px"};v.width=d+"px",v.height=c+"px",v.left=f+"px",v.top=m+"px",v["padding-left"]=g+"px",v["padding-top"]=h+"px",v["padding-right"]=_+"px",v["padding-bottom"]=p+"px",e.css(v);var b={};return b.imageWidth=d,b.imageHeight=c,b},this.showElement=function(e,t,i){e.show().fadeTo(0,1),t&&t.show().fadeTo(0,1),i&&i.show().fadeTo(0,1)},this.z_________GALLERY_RELATED_FUNCTIONS_______=function(){},this.disableButton=function(e,t){if(!t)t="ug-button-disabled";0==E.isButtonDisabled(e,t)&&e.addClass(t)},this.convertCustomPrefixOptions=function(e,n,r){if(!n)return e;var o={};return jQuery.each(e,function(e,t){if(0===e.indexOf(n+"_"+r+"_")){var i=e.replace(n+"_"+r+"_",r+"_");o[i]=t}else o[e]=t}),o},this.enableButton=function(e,t){if(!t)t="ug-button-disabled";1==E.isButtonDisabled(e,t)&&e.removeClass(t)},this.isButtonDisabled=function(e,t){if(!t)t="ug-button-disabled";return!!e.hasClass(t)},this.z_________MATH_FUNCTIONS_______=function(){},this.normalizeSetting=function(e,t,i,n,r,o){if(!o)o=!1;return r=e+(t-e)*((r-i)/(n-i)),1==o&&(r<e&&(r=e),t<r&&(r=t)),r},this.getNormalizedValue=function(e,t,i,n,r){return e+(n-i)*((r-e)/(t-e))},this.getDistance=function(e,t,i,n){return Math.round(Math.sqrt(Math.abs((i-e)*(i-e)+(n-t)*(n-t))))},this.getMiddlePoint=function(e,t,i,n){var r={};return r.x=e+Math.round((i-e)/2),r.y=t+Math.round((n-t)/2),r},this.getNumItemsInSpace=function(e,t,i){return Math.floor((e+i)/(t+i))},this.getNumItemsInSpaceRound=function(e,t,i){return Math.round((e+i)/(t+i))},this.getSpaceByNumItems=function(e,t,i){return e*t+(e-1)*i},this.getItemSizeInSpace=function(e,t,i){return Math.floor((e-(t-1)*i)/t)},this.getColX=function(e,t,i){return e*(t+i)},this.getColByIndex=function(e,t){return t%e},this.getColRowByIndex=function(e,t){var i=Math.floor(e/t);return{col:Math.floor(e%t),row:i}},this.getIndexByRowCol=function(e,t,i){return e<0?-1:t<0?-1:e*i+t},this.getPrevRowSameColIndex=function(e,t){var i=E.getColRowByIndex(e,t);return E.getIndexByRowCol(i.row-1,i.col,t)},this.getNextRowSameColIndex=function(e,t){var i=E.getColRowByIndex(e,t);return E.getIndexByRowCol(i.row+1,i.col,t)},this.z_________DATA_FUNCTIONS_______=function(){},this.setGlobalData=function(e,t){jQuery.data(document.body,e,t)},this.getGlobalData=function(e){return jQuery.data(document.body,e)},this.z_________EVENT_DATA_FUNCTIONS_______=function(){},this.handleScrollTop=function(e){if(0==E.isTouchDevice())return null;var t=E.getStoredEventData(e);if(null===t.scrollDir&&(15<Math.abs(t.diffMouseX)?t.scrollDir="hor":15<Math.abs(t.diffMouseY)&&Math.abs(t.diffMouseY)>Math.abs(t.diffMouseX)&&(t.scrollDir="vert",t.scrollStartY=t.lastMouseClientY,t.scrollOrigin=jQuery(document).scrollTop(),a.dataCache[e].scrollStartY=t.lastMouseClientY,a.dataCache[e].scrollOrigin=t.scrollOrigin),a.dataCache[e].scrollDir=t.scrollDir),"vert"!==t.scrollDir)return t.scrollDir;var i=(jQuery(document).scrollTop(),t.scrollOrigin-(t.lastMouseClientY-t.scrollStartY));return 0<=i&&jQuery(document).scrollTop(i),t.scrollDir},this.wasVerticalScroll=function(e){return"vert"===E.getStoredEventData(e).scrollDir},this.storeEventData=function(e,t,i){var n=E.getMousePosition(e),r=jQuery.now(),o={startTime:r,lastTime:r,startMouseX:n.pageX,startMouseY:n.pageY,lastMouseX:n.pageX,lastMouseY:n.pageY,startMouseClientY:n.clientY,lastMouseClientY:n.clientY,scrollTop:jQuery(document).scrollTop(),scrollDir:null};i&&(o=jQuery.extend(o,i)),a.dataCache[t]=o},this.updateStoredEventData=function(e,t,i){if(!a.dataCache[t])throw new Error("updateEventData error: must have stored cache object");var n=a.dataCache[t],r=E.getMousePosition(e);n.lastTime=jQuery.now(),void 0!==r.pageX&&(n.lastMouseX=r.pageX,n.lastMouseY=r.pageY,n.lastMouseClientY=r.clientY),i&&(n=jQuery.extend(n,i)),a.dataCache[t]=n},this.getStoredEventData=function(e,t){if(!a.dataCache[e])throw new Error("updateEventData error: must have stored cache object");var i=a.dataCache[e];return i.diffMouseX=i.lastMouseX-i.startMouseX,i.diffMouseY=i.lastMouseY-i.startMouseY,i.diffMouseClientY=i.lastMouseClientY-i.startMouseClientY,i.diffTime=i.lastTime-i.startTime,!0===t?(i.startMousePos=i.lastMouseY,i.lastMousePos=i.lastMouseY,i.diffMousePos=i.diffMouseY):(i.startMousePos=i.lastMouseX,i.lastMousePos=i.lastMouseX,i.diffMousePos=i.diffMouseX),i},this.isApproveStoredEventClick=function(e,t){if(!a.dataCache[e])return!0;var i=E.getStoredEventData(e,t),n=Math.abs(i.diffMousePos);return!(400<i.diffTime)&&!(30<n)},this.clearStoredEventData=function(e){a.dataCache[e]=null},this.z_________CHECK_SUPPORT_FUNCTIONS_______=function(){},this.isCanvasExists=function(){return"function"==typeof jQuery('<canvas width="500" height="500" > </canvas>')[0].getContext},this.isScrollbarExists=function(){return window.innerWidth>document.documentElement.clientWidth},this.isTouchDevice=function(){if(-1!==a.isTouchDevice)return a.isTouchDevice;try{document.createEvent("TouchEvent"),a.isTouchDevice=!0}catch(e){a.isTouchDevice=!1}return a.isTouchDevice},this.isRgbaSupported=function(){if(-1!==a.isRgbaSupported)return a.isRgbaSupported;var e=document.getElementsByTagName("script")[0],t=e.style.color;try{e.style.color="rgba(1,5,13,0.44)"}catch(e){}var i=e.style.color!=t;return e.style.color=t,a.isRgbaSupported=i},this.z_________GENERAL_FUNCTIONS_______=function(){},this.checkMinJqueryVersion=function(e){for(var t=jQuery.fn.jquery.split("."),i=e.split("."),n=0,r=t.length;n<r;n++){var o=parseInt(t[n]),a=parseInt(i[n]);if(void 0===i[n])return!0;if(o<a)return!1;if(a<o)return!0}return!0},this.getCssSizeParam=function(e){return jQuery.isNumeric(e)?e+"px":e},this.convertHexToRGB=function(e,t){var i=e.replace("#","");return i===e?e:(r=parseInt(i.substring(0,2),16),g=parseInt(i.substring(2,4),16),b=parseInt(i.substring(4,6),16),result="rgba("+r+","+g+","+b+","+t+")",result)},this.timestampToString=function(e){var t=new Date(e);return t.getDate()+"/"+t.getMonth()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+":"+t.getMilliseconds()},this.getArrTouches=function(e){var t=[];return e.originalEvent&&e.originalEvent.touches&&0<e.originalEvent.touches.length&&(t=e.originalEvent.touches),t},this.getArrTouchPositions=function(e){for(var t=[],i=0;i<e.length;i++){var n={pageX:e[i].pageX,pageY:e[i].pageY};t.push(n)}return t},this.startTimeDebug=function(){a.starTime=jQuery.now()},this.showTimeDebug=function(){debugLine({"Time Passed":jQuery.now()-a.starTime},!0)},this.initProgressIndicator=function(e,t,i){switch("bar"!=e&&0==E.isCanvasExists()&&(e="bar"),e){case"bar":(n=new UGProgressBar).putHidden(i,t);break;default:case"pie":(n=new UGProgressPie).putHidden(i,t);break;case"pie2":var n;t.type_fill=!0,(n=new UGProgressPie).putHidden(i,t)}return n},this.setButtonMobileReady=function(e){e.on("touchstart",function(e){jQuery(this).addClass("ug-nohover")}),e.on("mousedown touchend",function(e){return e.stopPropagation(),e.stopImmediatePropagation(),!1})},this.registerTheme=function(e){a.arrThemes.push(e)},this.getArrThemes=function(){return a.arrThemes},this.isThemeRegistered=function(e){return-1!==jQuery.inArray(e,a.arrThemes)},this.getFirstRegisteredTheme=function(){return 0==a.arrThemes.length?"":a.arrThemes[0]},this.isTimePassed=function(e,t){if(!t)t=100;var i=jQuery.now();0==a.timeCache.hasOwnProperty(e)?lastTime=0:lastTime=a.timeCache[e];var n=i-lastTime;return a.timeCache[e]=i,!(n<=t)},this.whenContiniousEventOver=function(e,t,i){if(!i)i=300;1==a.timeCache.hasOwnProperty(e)&&null!=a.timeCache[e]&&(clearTimeout(a.timeCache[e]),a.timeCache[e]=null),a.timeCache[e]=setTimeout(t,i)},this.validateClickTouchstartEvent=function(e){var t=!0,i=jQuery.now()-a.lastEventTime;return"click"==e&&"touchstart"==a.lastEventType&&i<1e3&&(t=!1),a.lastEventTime=jQuery.now(),a.lastEventType=e,t},this.addClassOnHover=function(e,t){if(!t)t="ug-button-hover";e.hover(function(){jQuery(this).addClass(t)},function(){jQuery(this).removeClass(t)})},this.destroyButton=function(e){e.off("mouseenter"),e.off("mouseleave"),e.off("click"),e.off("touchstart"),e.off("touchend"),e.off("mousedown")},this.setButtonOnClick=function(e,t){E.setButtonMobileReady(e),e.on("click touchstart",function(e){return objThis=jQuery(this),e.stopPropagation(),e.stopImmediatePropagation(),0==E.validateClickTouchstartEvent(e.type)||void t(objThis,e)})},this.loadJs=function(e,t){!0===t&&(e=location.protocol+"//"+e);var i=document.createElement("script");i.src=e;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(i,n)},this.loadCss=function(e,t){!0===t&&(e=location.protocol+"//"+e);var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(i)},this.addEvent=function(e,t,i){void 0!==e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i)},this.checkImagesLoaded=function(n,i,r){function o(e,t){a++,"function"==typeof r&&setTimeout(function(){r(e,t)}),a==s&&"function"==typeof i&&setTimeout(function(){i()})}var a=0,s=n.length;return 0==s&&i?(i(),!1):void setTimeout(function(){for(var e=0;e<s;e++){var t=n[e];if(void 0!==t.naturalWidth&&0!==t.naturalWidth)o(n[e],!1);else{var i=jQuery("<img/>");i.data("index",e),i.on("load",function(){var e=jQuery(this).data("index");o(n[e],!1)}),i.on("error",function(){var e=jQuery(this).data("index");o(n[e],!0)}),i.attr("src",t.src)}}})},this.waitForWidth=function(e,t){var i=e.width();return 0!=i?(t(),!1):void(a.handle=setInterval(function(){0!=(i=e.width())&&(clearInterval(a.handle),t())},300))},this.arrayShuffle=function(e){if("object"!=typeof e)return e;for(var t,i,n=e.length;n;t=parseInt(Math.random()*n),i=e[--n],e[n]=e[t],e[t]=i);return e},this.getObjectLength=function(e){var t=0;for(var i in e)t++;return t},this.normalizePercent=function(e){return e<0&&(e=0),1<e&&(e=1),e},this.stripTags=function(e){return e.replace(/(<([^>]+)>)/gi,"")},this.escapeDoubleSlash=function(e){return e.replace('"','"')},this.htmlentitles=function(e){return jQuery("<div/>").text(e).html()},this.z_________END_GENERAL_FUNCTIONS_______=function(){}}function UGThumbsGeneral(){function r(e,t,i,n){var r={width:e+"px",height:t+"px"},o={width:e-y.thumbInnerReduce+"px",height:t-y.thumbInnerReduce+"px"},a=".ug-thumb-loader, .ug-thumb-error, .ug-thumb-border-overlay, .ug-thumb-overlay";i?(!0!==n&&i.css(r),i.children(a).css(o)):(h.children(".ug-thumb-wrapper").css(r),h.find(a).css(o))}function n(e,t,i,n){if(!n)n=!1;m.isFakeFullscreen()&&(n=!0);var r,o=e.children(".ug-thumb-border-overlay"),a={};a["border-width"]=t+"px",0!=t&&(a["border-color"]=i),n&&!0===n?(o.css(a),0==t?o.hide():o.show()):(0==t?o.stop().fadeOut(b.thumb_transition_duration):o.show().stop().fadeIn(b.thumb_transition_duration),r=a,o.stop(!0).animate(r,{duration:b.thumb_transition_duration,easing:b.thumb_transition_easing,queue:!1}))}function o(e,t,i){var n=e.children(".ug-thumb-overlay"),r=b.thumb_transition_duration;i&&!0===i&&(r=0),t?n.stop(!0).fadeTo(r,y.colorOverlayOpacity):n.stop(!0).fadeTo(r,0)}function a(e,t,i){var n=e.children("img.ug-thumb-image"),r=e.children("img.ug-thumb-image-overlay"),o=b.thumb_transition_duration;i&&!0===i&&(o=0),t?r.stop(!0).fadeTo(o,1):(n.fadeTo(0,1),r.stop(!0).fadeTo(o,0))}function t(e,t){(y.isEffectBorder&&n(e,b.thumb_selected_border_width,b.thumb_selected_border_color,t),y.isEffectOverlay)&&o(e,1==b.thumb_overlay_reverse,t);y.isEffectImage&&a(e,!1,t),f.trigger(p.events.SETSELECTEDSTYLE,e)}function s(e){1==u(e)?t(e,!0):p.setThumbNormalStyle(e,!0,"redraw")}function l(e,t,i){if(1==b.thumb_fixed_size)v.scaleImageCoverParent(t,e);else{"height"==b.thumb_resize_by?v.scaleImageByHeight(t,b.thumb_height):v.scaleImageByWidth(t,b.thumb_width);var n=v.getElementSize(t);v.placeElement(t,0,0),r(n.width,n.height,e)}e.children(".ug-thumb-loader").hide(),t.show(),0==b.thumb_image_overlay_effect?t.fadeTo(0,1):(1==b.thumb_image_overlay_effect&&function(e){var t=e.siblings(".ug-thumb-image-overlay");if(0==t.length)return;var i=v.getElementSize(e),n={width:i.width+"px",height:i.height+"px",left:i.left+"px",top:i.top+"px"};t.css(n),0==y.customThumbs&&t.fadeTo(0,1)}(t),t.fadeTo(0,0),s(e)),f.trigger(p.events.AFTERPLACEIMAGE,e)}function u(e){return!!e.hasClass("ug-thumb-selected")}function i(e,t){t=jQuery(t);var i=(p.getItemByThumb(t),v.getElementSize(t));r(i.width,i.height,t,!0),s(t)}function d(e,t,i){objItem=p.getItemByThumb(t),objItem.isLoaded=!0,objItem.isThumbImageLoaded=!0;var n=v.getImageOriginalSize(i);objItem.thumbWidth=n.width,objItem.thumbHeight=n.height,objItem.thumbRatioByWidth=n.width/n.height,objItem.thumbRatioByHeight=n.height/n.width}var c,g,_,h,p=this,f=jQuery(p),m=new UniteGalleryMain,v=new UGFunctions,b={thumb_width:88,thumb_height:50,thumb_fixed_size:!0,thumb_resize_by:"height",thumb_border_effect:!0,thumb_border_width:0,thumb_border_color:"#000000",thumb_over_border_width:0,thumb_over_border_color:"#d9d9d9",thumb_selected_border_width:1,thumb_selected_border_color:"#d9d9d9",thumb_round_corners_radius:0,thumb_color_overlay_effect:!0,thumb_overlay_color:"#000000",thumb_overlay_opacity:.4,thumb_overlay_reverse:!(this.events={SETOVERSTYLE:"thumbmouseover",SETNORMALSTYLE:"thumbmouseout",SETSELECTEDSTYLE:"thumbsetselected",PLACEIMAGE:"thumbplaceimage",AFTERPLACEIMAGE:"thumb_after_place_image",IMAGELOADERROR:"thumbimageloaderror",THUMB_IMAGE_LOADED:"thumb_image_loaded"}),thumb_image_overlay_effect:!1,thumb_image_overlay_type:"bw",thumb_transition_duration:200,thumb_transition_easing:"easeOutQuad",thumb_show_loader:!0,thumb_loader_type:"dark",thumb_wrapper_as_link:!1,thumb_link_newpage:!1},y={touchEnabled:!1,num_thumbs_checking:0,customThumbs:!1,funcSetCustomThumbHtml:null,isEffectBorder:!1,isEffectOverlay:!1,isEffectImage:!1,colorOverlayOpacity:1,thumbInnerReduce:0,allowOnResize:!0},w="thumb_size_change";this.init=function(e,t){c=e.getObjects(),m=e,jQuery(e),g=c.g_objWrapper,_=c.g_arrItems,b=jQuery.extend(b,t),y.isEffectBorder=b.thumb_border_effect,y.isEffectOverlay=b.thumb_color_overlay_effect,y.isEffectImage=b.thumb_image_overlay_effect},this._____________EXTERNAL_SETTERS__________=function(){},this.setHtmlThumbs=function(e){h=e;var t=m.getNumItems();if(1==y.isEffectImage)var i=function(){var e="",t=b.thumb_image_overlay_type.split(",");for(var i in t)switch(t[i]){case"bw":e+=" ug-bw-effect";break;case"blur":e+=" ug-blur-effect";break;case"sepia":e+=" ug-sepia-effect"}return e}();for(var n=0;n<t;n++){var r=_[n],o="";0==y.customThumbs&&(o=" ug-thumb-generated");var a="<div class='ug-thumb-wrapper"+o+"' "+("style='z-index:"+(r.index+1)+";'")+"></div>";if(1==b.thumb_wrapper_as_link){var s=r.link;""==r.link&&(s="javascript:void(0)");var l="";1==b.thumb_link_newpage&&r.link&&(l=" target='_blank'");a="<a href='"+s+"'"+l+" class='ug-thumb-wrapper"+o+"'></a>"}var u=jQuery(a),d=r.objThumbImage;if(0==y.customThumbs){if(1==b.thumb_show_loader&&d){var c="ug-thumb-loader-dark";"bright"==b.thumb_loader_type&&(c="ug-thumb-loader-bright"),u.append("<div class='ug-thumb-loader "+c+"'></div>"),u.append("<div class='ug-thumb-error' style='display:none'></div>")}if(d){if(d.addClass("ug-thumb-image"),1==b.thumb_image_overlay_effect){var g=d.clone().appendTo(u);g.addClass("ug-thumb-image-overlay "+i).removeClass("ug-thumb-image"),g.fadeTo(0,0),r.objImageOverlay=g}u.append(d)}}y.isEffectBorder&&u.append("<div class='ug-thumb-border-overlay'></div>"),y.isEffectOverlay&&u.append("<div class='ug-thumb-overlay'></div>"),h.append(u),y.customThumbs&&y.funcSetCustomThumbHtml(u,r),_[n].objThumbWrapper=u}},this.setThumbNormalStyle=function(e,t,i){(1==y.customThumbs&&e.removeClass("ug-thumb-over"),y.isEffectBorder&&n(e,b.thumb_border_width,b.thumb_border_color,t),y.isEffectOverlay)&&o(e,1!=b.thumb_overlay_reverse,t);y.isEffectImage&&a(e,!0,t),f.trigger(p.events.SETNORMALSTYLE,e)},this.setThumbOverStyle=function(e){(1==y.customThumbs&&e.addClass("ug-thumb-over"),y.isEffectBorder&&n(e,b.thumb_over_border_width,b.thumb_over_border_color),y.isEffectOverlay)&&o(e,1==b.thumb_overlay_reverse);1==y.isEffectImage&&a(e,!1),f.trigger(p.events.SETOVERSTYLE,e)},this.setHtmlProperties=function(){if(0==y.customThumbs&&(1==b.thumb_fixed_size&&r(b.thumb_width,b.thumb_height),function(){if(b.thumb_round_corners_radius<=0)return;var e={"border-radius":b.thumb_round_corners_radius+"px"};h.find(".ug-thumb-wrapper, .ug-thumb-wrapper .ug-thumb-border-overlay").css(e)}()),h.children(".ug-thumb-wrapper").each(function(){s(jQuery(this))}),y.isEffectOverlay&&b.thumb_overlay_color){var e={};if(v.isRgbaSupported()){var t=v.convertHexToRGB(b.thumb_overlay_color,b.thumb_overlay_opacity);e["background-color"]=t}else e["background-color"]=b.thumb_overlay_color,y.colorOverlayOpacity=b.thumb_overlay_opacity;h.find(".ug-thumb-wrapper .ug-thumb-overlay").css(e)}},this.setThumbSelected=function(e){return 1==y.customThumbs&&e.removeClass("ug-thumb-over"),1==u(e)||(e.addClass("ug-thumb-selected"),void t(e))},this.setThumbUnselected=function(e){e.removeClass("ug-thumb-selected"),p.setThumbNormalStyle(e,!1,"set unselected")},this.setOptions=function(e){b=jQuery.extend(b,e)},this.setThumbInnerReduce=function(e){y.thumbInnerReduce=e},this.setCustomThumbs=function(e,t,i){if(y.customThumbs=!0,"function"!=typeof e)throw new Error("The argument should be function");y.funcSetCustomThumbHtml=e,-1==jQuery.inArray("overlay",t)&&(y.isEffectOverlay=!1),-1==jQuery.inArray("border",t)&&(y.isEffectBorder=!1),y.isEffectImage=!1,i&&!1===i.allow_onresize&&(y.allowOnResize=!1)},this._____________EXTERNAL_GETTERS__________=function(){},this.getOptions=function(){return b},this.getNumThumbs=function(){return _.length},this.getThumbImage=function(e){return e.find(".ug-thumb-image")},this.getThumbByIndex=function(e){var t=p.getThumbs();if(e>=t.length||e<0)throw new Error("Wrong thumb index");return jQuery(t[e])},this.getThumbs=function(){return h.children(".ug-thumb-wrapper")},this.getItemByThumb=function(e){var t=e.data("index");return void 0===t&&(t=e.index()),_[t]},this.isThumbLoaded=function(e){return p.getItemByThumb(e).isLoaded},this.getGlobalThumbSize=function(){return{width:b.thumb_width,height:b.thumb_height}},this._____________EXTERNAL_OTHERS__________=function(){},this.initEvents=function(){var e=h.find(".ug-thumb-wrapper");e.on("touchstart",function(){y.touchEnabled=!0,e.off("mouseenter").off("mouseleave")}),1==y.allowOnResize&&g.on(w,i),e.hover(function(e){var t,i=jQuery(this);t=i,1==y.touchEnabled?objThumbs.off("mouseenter").off("mouseleave"):0==u(t)&&p.setThumbOverStyle(t)},function(e){var t,i=jQuery(this);t=i,1==y.touchEnabled||0==u(t)&&p.setThumbNormalStyle(t,!1)}),f.on(p.events.THUMB_IMAGE_LOADED,d)},this.destroy=function(){var e=h.find(".ug-thumb-wrapper");e.off("touchstart"),g.off(w),e.off("mouseenter"),e.off("mouseleave"),f.off(p.events.THUMB_IMAGE_LOADED)},this.loadThumbsImages=function(){var e=h.find(".ug-thumb-image");v.checkImagesLoaded(e,null,function(e,t){if(0==t)!function(e,t){t||(t=!1);var i=jQuery(e),n=i.parents(".ug-thumb-wrapper");0!=n.parent().length&&(objItem=p.getItemByThumb(n),(1!=objItem.isLoaded||!1!==t)&&(p.triggerImageLoadedEvent(n,i),1==y.customThumbs?f.trigger(p.events.PLACEIMAGE,[n,i]):l(n,i,objItem)))}(e,!0);else{var i=jQuery(e).parent();n=i,(r=p.getItemByThumb(n)).isLoaded=!0,r.isThumbImageLoaded=!1,1==y.customThumbs?f.trigger(p.events.IMAGELOADERROR,n):(n.children(".ug-thumb-loader").hide(),n.children(".ug-thumb-error").show())}var n,r})},this.triggerImageLoadedEvent=function(e,t){f.trigger(p.events.THUMB_IMAGE_LOADED,[e,t])},this.hideThumbs=function(){h.find(".ug-thumb-wrapper").hide()}}function UGThumbsStrip(){function r(){var e=E.getOptions();x.isNotFixedThumbs=!1===e.thumb_fixed_size,T=S.strip_vertical_type}function e(){var e,t,i,n,r;E.setHtmlProperties(),e=m.children(".ug-thumb-wrapper"),t=jQuery(e[0]),i=t.outerWidth(),n=t.outerHeight(),r=E.getOptions(),0==T?(P.thumbSize=i,1==r.thumb_fixed_size?P.thumbSecondSize=n:P.thumbSecondSize=r.thumb_height,o(f.width()),P.stripInnerSize=m.width()):(P.thumbSize=n,1==r.thumb_fixed_size?P.thumbSecondSize=i:P.thumbSecondSize=r.thumb_width,o(f.height()),P.stripInnerSize=m.height()),function(){if(0==T){var e=P.thumbSecondSize,t={};t.height=e+"px";var i={};i.height=e+"px"}else{var n=P.thumbSecondSize,t={};t.width=n+"px";var i={};i.width=n+"px"}f.css(t),m.css(i)}(),a(),0==x.isRunOnce&&(1==S.strip_control_touch&&(b=new UGTouchThumbsControl).init(y),1==S.strip_control_avia&&(v=new UGAviaControl).init(y),s(),E.loadThumbsImages(),E.initEvents(),f.find(".ug-thumb-wrapper").on("click touchend",function(e){var t=jQuery(this);!function(e){if(y.isTouchMotionActive()){var t=b.isSignificantPassed();if(1==t)return}var i=E.getItemByThumb(e);w.selectItem(i)}(t)}),d.on(w.events.ITEM_CHANGE,u),x.isNotFixedThumbs&&jQuery(E).on(E.events.AFTERPLACEIMAGE,l)),x.isRunOnce=!0}function o(e){P.stripSize=e,P.stripActiveSize=0==T?P.stripSize-S.strip_padding_left-S.strip_padding_right:P.stripSize-S.strip_padding_top-S.strip_padding_bottom,P.stripActiveSize<0&&(P.stripActiveSize=0)}function a(){var e,t=m.children(".ug-thumb-wrapper"),n=0,r=0;for(0==T&&(r=S.strip_padding_top),i=0;i<t.length;i++){var o=jQuery(t[i]);if(1==x.isNotFixedThumbs){if(objItem=E.getItemByThumb(o),0==objItem.isLoaded)continue;o.show()}I.placeElement(o,n,r),0==T?n+=o.outerWidth()+S.strip_space_between_thumbs:r+=o.outerHeight()+S.strip_space_between_thumbs}if(0==T)var a=n-S.strip_space_between_thumbs;else a=r-S.strip_space_between_thumbs;e=a,0==T?m.width(e):m.height(e),P.stripInnerSize=e,s(),jQuery(y).trigger(y.events.INNER_SIZE_CHANGE)}function t(e){var t=y.getInnerStripPos()+e;t=y.fixInnerStripLimits(t),y.positionInnerStrip(t,!0)}function n(e){if(0==c())return!1;var t,i,n,r,o,a,s=(t={},i=y.getInnerStripPos(),t.minPosThumbs=-1*i+1,t.maxPosThumbs=-1*i+P.stripSize-1,t),l=g(e);if(l.min<s.minPosThumbs){var u=e.prev();o=u.length?u:e,a=-1*g(o).min,a=y.fixInnerStripLimits(a),y.positionInnerStrip(a,!0)}else if(l.max>s.maxPosThumbs){var d=e.next();n=d.length?d:e,r=-1*g(n).max+P.stripSize,r=y.fixInnerStripLimits(r),y.positionInnerStrip(r,!0)}}function s(){1==c()?(v&&v.enable(),b&&b.enable()):(v&&v.disable(),b&&b.disable())}function l(){clearTimeout(x.handle),x.handle=setTimeout(function(){a()},50)}function u(){var e=w.getSelectedItem();E.setThumbSelected(e.objThumbWrapper),n(e.objThumbWrapper)}function c(){return P.stripInnerSize>P.stripActiveSize}function g(e){var t={},i=e.position();return 0==T?(t.min=i.left,t.max=i.left+P.thumbSize):(t.min=i.top,t.max=i.top+P.thumbSize),t}var d,_,h,p,f,m,v,b,y=this,w=new UniteGalleryMain,I=new UGFunctions,T=!1,E=new UGThumbsGeneral,S=(I=new UGFunctions,{strip_vertical_type:!1,strip_thumbs_align:"left",strip_space_between_thumbs:6,strip_thumb_touch_sensetivity:15,strip_scroll_to_thumb_duration:500,strip_scroll_to_thumb_easing:"easeOutCubic",strip_control_avia:!0,strip_control_touch:!0,strip_padding_top:0,strip_padding_bottom:0,strip_padding_left:0,strip_padding_right:0}),x={isRunOnce:!1,is_placed:!1,isNotFixedThumbs:!1,handle:null},P={stripSize:0,stripActiveSize:0,stripInnerSize:0,thumbSize:0,thumbSecondSize:0};this.events={STRIP_MOVE:"stripmove",INNER_SIZE_CHANGE:"size_change"};var C={strip_thumbs_align:"top",thumb_resize_by:"width"};this.setHtml=function(e){if(!e){e=h;null!=S.parent_container&&(e=S.parent_container)}e.append("<div class='ug-thumbs-strip'><div class='ug-thumbs-strip-inner'></div></div>"),f=e.children(".ug-thumbs-strip"),m=f.children(".ug-thumbs-strip-inner"),E.setHtmlThumbs(m),1==x.isNotFixedThumbs&&E.hideThumbs()},this.destroy=function(){var e=f.find(".ug-thumb-wrapper");e.off("click"),e.off("touchend"),d.off(w.events.ITEM_CHANGE),jQuery(E).off(E.events.AFTERPLACEIMAGE),b&&b.destroy(),v&&v.destroy(),E.destroy()},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(e,t){var i,n;n=t,_=(i=e).getObjects(),(w=i).attachThumbsPanel("strip",y),d=jQuery(i),h=_.g_objWrapper,p=_.g_arrItems,S=jQuery.extend(S,n),1==(T=S.strip_vertical_type)&&(S=jQuery.extend(S,C),S=jQuery.extend(S,n),n.thumb_resize_by="width"),E.init(i,n),r()},this.run=function(){e()},this.positionInnerStrip=function(e,t){if(void 0===t)t=!1;if(0==T)var i={left:e+"px"};else i={top:e+"px"};0==t?(m.css(i),y.triggerStripMoveEvent()):(y.triggerStripMoveEvent(),m.stop(!0).animate(i,{duration:S.strip_scroll_to_thumb_duration,easing:S.strip_scroll_to_thumb_easing,queue:!1,progress:function(){y.triggerStripMoveEvent()},always:function(){y.triggerStripMoveEvent()}}))},this.triggerStripMoveEvent=function(){jQuery(y).trigger(y.events.STRIP_MOVE)},this.isTouchMotionActive=function(){return!!b&&b.isTouchActive()},this.isItemThumbVisible=function(e){var t=e.objThumbWrapper,i=t.position(),n=-1*y.getInnerStripPos();if(0==T)var r=n+P.stripSize,o=i.left,a=i.left+t.width();else r=n+P.stripSize,o=i.top,a=i.top+t.height();var s=!1;return n<=a&&o<=r&&(s=!0),s},this.getInnerStripPos=function(){return 0==T?m.position().left:m.position().top},this.getInnerStripLimits=function(){var e={};return e.maxPos=0==T?S.strip_padding_left:S.strip_padding_top,e.minPos=-(P.stripInnerSize-P.stripActiveSize),e},this.fixInnerStripLimits=function(e){var t=y.getInnerStripLimits();return e>t.maxPos&&(e=t.maxPos),e<t.minPos&&(e=t.minPos),e},this.scrollForeward=function(){t(-P.stripSize)},this.scrollBack=function(){t(P.stripSize)},this.________EXTERNAL_SETTERS___________=function(){},this.setOptions=function(e){S=jQuery.extend(S,e),E.setOptions(e),r()},this.setSizeVertical=function(e){if(0==T)throw new Error("setSizeVertical error, the strip size is not vertical");var t=P.thumbSecondSize,i={};i.width=t+"px",i.height=e+"px",f.css(i),o(e);var n={};n.width=t+"px",n.left="0px",n.top="0px",m.css(n),x.is_placed=!0,s()},this.setSizeHorizontal=function(e){if(1==T)throw new Error("setSizeHorizontal error, the strip size is not horizontal");var t=P.thumbSecondSize+S.strip_padding_top+S.strip_padding_bottom,i={};i.width=e+"px",i.height=t+"px",f.css(i),o(e);var n=S.strip_padding_left,r={};r.height=t+"px",r.left=n+"px",r.top="0px",m.css(r),x.is_placed=!0,s()},this.setPosition=function(e,t,i,n){I.placeElement(f,e,t,i,n)},this.resize=function(e){0==T?(f.width(e),P.stripActiveSize=e-S.strip_padding_left-S.strip_padding_right):(f.height(e),P.stripActiveSize=e-S.strip_padding_top-S.strip_padding_bottom),o(e),s(),function(){if(0==c())return;var e=y.getInnerStripPos(),t=y.fixInnerStripLimits(e);e!=t&&y.positionInnerStrip(t,!0)}(),!c()&&(0==T?I.placeElement(m,S.strip_thumbs_align,0):I.placeElement(m,0,S.strip_thumbs_align)),function(){var e=w.getSelectedItem();if(null==e)return;var t=e.objThumbWrapper;t&&n(t)}()},this.setThumbUnselected=function(e){E.setThumbUnselected(e)},this.setCustomThumbs=function(e){E.setCustomThumbs(e)},this.________EXTERNAL_GETTERS___________=function(){},this.getObjects=function(){var e=E.getOptions(),t=jQuery.extend(S,e);return{g_gallery:w,g_objGallery:d,g_objWrapper:h,g_arrItems:p,g_objStrip:f,g_objStripInner:m,g_aviaControl:v,g_touchThumbsControl:b,isVertical:T,g_options:t,g_thumbs:E}},this.getObjThumbs=function(){return E},this.getSelectedThumb=function(){var e=w.getSelectedItemIndex();return-1==e?null:E.getThumbByIndex(e)},this.getSizeAndPosition=function(){return I.getElementSize(f)},this.getHeight=function(){return f.outerHeight()},this.getWidth=function(){return f.outerWidth()},this.getSizes=function(){return P},this.isVertical=function(){return T},this.isPlaced=function(){return x.is_placed},this.isMoveEnabled=function(){return c()}}function UGTouchThumbsControl(){function t(){var e=jQuery.now(),t={};return t.passedTime=x.lastTime-x.startTime,t.lastActiveTime=e-x.buttonReleaseTime,t.passedDistance=x.lastPos-x.startPos,t.passedDistanceAbs=Math.abs(t.passedDistance),t}function r(e){return 0==E?c.getMousePosition(e).pageX:c.getMousePosition(e).pageY}function o(){var e=jQuery.now();e-x.lastTime>=S.touch_portion_time&&(x.lastDeltaTime=e-x.lastTime,x.lastDeltaTime>S.touch_portion_time&&(x.lastDeltaTime=S.touch_portion_time),x.lastDeltaPos=x.lastPos-x.lastPortionPos,x.lastPortionPos=x.lastPos,x.lastTime=e)}function w(){x.lastPos=I.getInnerStripPos(),I.triggerStripMoveEvent()}function i(e){if(0==x.loop_active)return!0;if(e){r(e);!function(){var e=S.thumb_touch_slowFactor,t=S.minDeltaTime,i=S.minPath,n=I.getInnerStripPos(),r=jQuery.now()-x.lastTime,o=n-x.lastPortionPos;r<t&&0<x.lastDeltaTime&&(r=x.lastDeltaTime,o=x.lastDeltaPos+o),r<t&&(r=t);var a=0;0<r&&(a=o/r);var s=a*a/(2*e)*(0<o?1:-1);Math.abs(s)<=i&&(s=0);var l=I.getInnerStripPos(),u=l+s,d=I.fixInnerStripLimits(u),c=I.getInnerStripLimits(),g=S.limitsBreakAddition,_=!1,h=d;if(u>c.maxPos&&(_=!0,u<(d=g)&&(d=u)),u<c.minPos){_=!0;var p=c.minPos-g;(d=p)<u&&(d=u)}var f=d-l,m=Math.abs(Math.round(a/e));if(0!=s&&(m=m*f/s),l!=d){var v={left:d+"px"};1==E&&(v={top:d+"px"}),T.animate(v,{duration:m,easing:S.animationEasing,queue:!0,progress:w})}if(1==_){var b=S.returnAnimateSpeed,y={left:h+"px"};1==E&&(y={top:h+"px"}),T.animate(y,{duration:b,easing:S.returnAnimationEasing,queue:!0,progress:w})}}()}x.loop_active=!1,x.handle=clearInterval(x.handle)}function n(e){return 0==x.isControlEnabled||(x.buttonReleaseTime=jQuery.now(),0==x.touch_active?(i(e),!0):(e.preventDefault(),x.touch_active=!1,i(e),void u.removeClass("ug-dragging")))}function a(e){if(0==x.isControlEnabled)return!0;e.preventDefault(),x.touch_active=!0;var t,i,n=r(e);T.stop(!0),t=n,i=I.getInnerStripPos(),x.mousePos=t,x.innerPos=i,x.lastPortionPos=i,x.lastDeltaTime=0,x.lastDeltaPos=0,x.startTime=jQuery.now(),x.startPos=x.innerPos,x.lastTime=x.startTime,x.lastPos=x.startPos,x.speed=0,1==x.loop_active||(x.loop_active=!0,x.handle=setInterval(o,10)),u.addClass("ug-dragging")}function s(e){if(0==x.isControlEnabled)return!0;if(0==x.touch_active)return!0;if(e.preventDefault(),0==e.buttons)return x.touch_active=!1,i(e),!0;var t=r(e);x.lastPos=I.getInnerStripPos(),function(e){var t=x.mousePos-e,i=x.innerPos-t,n=I.getInnerStripLimits();if(i>n.maxPos){var r=i-n.maxPos;i=n.maxPos+r/3}i<n.minPos&&(r=n.minPos-i,i=n.minPos-r/3);I.positionInnerStrip(i)}(t),o()}var I,l,u,T,d,E,c=new UGFunctions,S={touch_portion_time:200,thumb_touch_slowFactor:0,minDeltaTime:70,minPath:10,limitsBreakAddition:30,returnAnimateSpeed:500,animationEasing:"easeOutCubic",returnAnimationEasing:"easeOutCubic"},x={touch_active:!1,loop_active:!1,mousePos:0,innerPos:0,startPos:0,startTime:0,lastTime:0,buttonReleaseTime:0,lastPos:0,lastPortionPos:0,lastDeltaTime:0,lastDeltaPos:0,speed:0,handle:"",touchEnabled:!1,isControlEnabled:!0};this.enable=function(){x.isControlEnabled=!0},this.disable=function(){x.isControlEnabled=!1},this.init=function(e){l=(I=e).getObjects(),l.g_gallery,l.g_objGallery,u=l.g_objStrip,T=l.g_objStripInner,d=l.g_options,E=l.isVertical,S.thumb_touch_slowFactor=c.normalizeSetting(5e-5,.01,1,100,d.strip_thumb_touch_sensetivity,!0),u.bind("mousedown touchstart",a),jQuery(window).add("body").bind("mouseup touchend",n),jQuery("body").bind("mousemove touchmove",s)},this.isSignificantPassed=function(){var e=t();return 300<e.passedTime||30<e.passedDistanceAbs},this.isTouchActive=function(){return 1==x.touch_active||(1==T.is(":animated")||t().lastActiveTime<50)},this.destroy=function(){u.unbind("mousedown"),u.unbind("touchstart"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),jQuery("body").unbind("mousemove").unbind("touchmove")}}function UGPanelsBase(){function i(e,t){switch(o.orientation){case"right":case"left":var i={left:e+"px"};break;case"top":case"bottom":i={top:e+"px"}}s.stop(!0).animate(i,{duration:300,easing:"easeInOutQuad",queue:!1,complete:function(){t&&t()}})}function n(e){switch(o.orientation){case"right":case"left":h.placeElement(s,e,null);break;case"top":case"bottom":h.placeElement(s,null,e)}}function r(){u.trigger(a.events.FINISH_MOVE)}var o,a,s,l,u,d,c,g=new UniteGalleryMain,_=this,h=new UGFunctions;this.init=function(e,t,i,n,r){o=t,a=i,g=e,l=n,u=r,c=jQuery(g)},this.setHtml=function(e){if(s=e,"strip"==o.panelType)var t=l.strippanel_enable_handle;else t=l.gridpanel_enable_handle;if(1==t&&((d=new UGPanelHandle).init(a,s,l,o.panelType,g),d.setHtml()),!0===o.isDisabledAtStart){s.append("<div class='ug-overlay-disabled'></div>"),setTimeout(function(){s.children(".ug-overlay-disabled").hide()},o.disabledAtStartTimeout)}},this.placeElements=function(){d&&d.placeHandle()},this.initEvents=function(){d&&(d.initEvents(),c.on(g.events.SLIDER_ACTION_START,function(){d.hideHandle()}),c.on(g.events.SLIDER_ACTION_END,function(){d.showHandle()}))},this.destroy=function(){d&&(d.destroy(),c.off(g.events.SLIDER_ACTION_START),c.off(g.events.SLIDER_ACTION_END))},this.openPanel=function(e){if(!e)e=!1;return!s.is(":animated")&&(0!=o.isClosed&&(o.isClosed=!1,u.trigger(a.events.OPEN_PANEL),void(!1===e?i(o.originalPos,r):(n(o.originalPos),r()))))},this.closePanel=function(e){if(!e)e=!1;if(s.is(":animated"))return!1;if(1==o.isClosed)return!1;var t=_.getClosedPanelDest();o.isClosed=!0,u.trigger(a.events.CLOSE_PANEL),!1===e?i(t,r):(n(t),r())},this.setClosedState=function(e){o.originalPos=e,u.trigger(a.events.CLOSE_PANEL),o.isClosed=!0},this.setOpenedState=function(e){u.trigger(a.events.OPEN_PANEL),o.isClosed=!1},this.getClosedPanelDest=function(){var e,t=h.getElementSize(s);switch(o.orientation){case"left":o.originalPos=t.left,e=-o.panelWidth;break;case"right":o.originalPos=t.left,e=g.getSize().width;break;case"top":o.originalPos=t.top,e=-o.panelHeight;break;case"bottom":o.originalPos=t.top,e=g.getSize().height}return e},this.isPanelClosed=function(){return o.isClosed},this.setDisabledAtStart=function(e){return!(e<=0)&&(o.isDisabledAtStart=!0,void(o.disabledAtStartTimeout=e))}}function UGPanelHandle(){function e(){i.removeClass("ug-button-hover")}function t(e){return e.stopPropagation(),e.stopImmediatePropagation(),0==n.validateClickTouchstartEvent(e.type)||void(s.isPanelClosed()?s.openPanel():s.closePanel())}var a,s,i,n=new UGFunctions,l={panel_handle_align:"top",panel_handle_offset:0,panel_handle_skin:0};this.init=function(e,t,i,n,r){switch(s=e,a=t,n){case"grid":l.panel_handle_align=i.gridpanel_handle_align,l.panel_handle_offset=i.gridpanel_handle_offset,l.panel_handle_skin=i.gridpanel_handle_skin;break;case"strip":l.panel_handle_align=i.strippanel_handle_align,l.panel_handle_offset=i.strippanel_handle_offset,l.panel_handle_skin=i.strippanel_handle_skin;break;default:throw new Error("Panel handle error: wrong panel type: "+n)}var o=r.getOptions().gallery_skin;""==l.panel_handle_skin&&(l.panel_handle_skin=o)},this.setHtml=function(){var e="ug-panel-handle-tip";switch(s.getOrientation()){case"right":e+=" ug-handle-tip-left";break;case"left":e+=" ug-handle-tip-right";break;case"bottom":e+=" ug-handle-tip-top";break;case"top":e+=" ug-handle-tip-bottom"}a.append("<div class='"+e+" ug-skin-"+l.panel_handle_skin+"'></div>"),i=a.children(".ug-panel-handle-tip")},this.initEvents=function(){n.addClassOnHover(i),i.bind("click touchstart",t),jQuery(s).on(s.events.OPEN_PANEL,function(){e(),i.removeClass("ug-button-closed")}),jQuery(s).on(s.events.CLOSE_PANEL,function(){e(),i.addClass("ug-button-closed")})},this.destroy=function(){n.destroyButton(i),jQuery(s).off(s.events.OPEN_PANEL),jQuery(s).off(s.events.CLOSE_PANEL)},this.placeHandle=function(){var e=n.getElementSize(i);!function(){switch(s.getOrientation()){case"right":case"left":"top"!=l.panel_handle_align&&"bottom"!=l.panel_handle_align&&(l.panel_handle_align="top");break;case"bottom":"left"!=l.panel_handle_align&&"right"!=l.panel_handle_align&&(l.panel_handle_align="left");break;case"top":"left"!=l.panel_handle_align&&"right"!=l.panel_handle_align&&(l.panel_handle_align="right")}}();var t=s.getOrientation();switch(t){case"left":n.placeElement(i,"right",l.panel_handle_align,-e.width);break;case"right":n.placeElement(i,-e.width,l.panel_handle_align,0,l.panel_handle_offset);break;case"top":n.placeElement(i,l.panel_handle_align,"bottom",l.panel_handle_offset,-e.height);break;case"bottom":n.placeElement(i,l.panel_handle_align,"top",l.panel_handle_offset,-e.height);break;default:throw new Error("Wrong panel orientation: "+t)}},this.hideHandle=function(){1==i.is(":visible")&&i.hide()},this.showHandle=function(){0==i.is(":visible")&&i.show()}}function UGStripPanel(){function e(){return(1!=T.isFirstRun||0!=function(){if(0==y.strippanel_vertical_type){if(0==T.panelWidth)throw new Error("Strip panel error: The width not set, please set width")}else if(0==T.panelHeight)throw new Error("Strip panel error: The height not set, please set height");if(null==T.orientation)throw new Error("Wrong orientation, please set panel orientation before run");return!0}())&&(v.run(),i(),n(),function(){if(1==T.isEventsInited)return;if(T.isEventsInited=!0,g)if(m.addClassOnHover(g,"ug-button-hover"),m.addClassOnHover(_,"ug-button-hover"),m.setButtonOnClick(_,o),m.setButtonOnClick(g,r),"advance_item"!=y.strippanel_buttons_role)jQuery(v).on(v.events.STRIP_MOVE,s),jQuery(v).on(v.events.INNER_SIZE_CHANGE,a),u.on(f.events.SIZE_CHANGE,a);else{var e=f.getOptions();0==e.gallery_carousel&&jQuery(f).on(f.events.ITEM_CHANGE,l)}b.initEvents()}(),T.isFirstRun=!1,void a())}function t(e){if(!e)e=d;if(e.append("<div class='ug-strip-panel'></div>"),c=e.children(".ug-strip-panel"),1==y.strippanel_enable_buttons){var t="ug-strip-arrow-left",i="ug-strip-arrow-right";1==y.strippanel_vertical_type&&(t="ug-strip-arrow-up",i="ug-strip-arrow-down"),c.append("<div class='ug-strip-arrow "+t+" ug-skin-"+y.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>"),c.append("<div class='ug-strip-arrow "+i+" ug-skin-"+y.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>")}b.setHtml(c),v.setHtml(c),1==y.strippanel_enable_buttons&&(_=c.children("."+t),g=c.children("."+i)),""!=y.strippanel_background_color&&c.css("background-color",y.strippanel_background_color)}function i(){0==y.strippanel_vertical_type?function(){var e=v.getHeight(),t=T.panelWidth;if(g){_.height(e),g.height(e);var i=_.children(".ug-strip-arrow-tip");m.placeElement(i,"center","middle");var n=g.children(".ug-strip-arrow-tip");m.placeElement(n,"center","middle")}var r=e+y.strippanel_padding_top+y.strippanel_padding_bottom;c.width(t),c.height(r),T.panelHeight=r;var o=t-y.strippanel_padding_left-y.strippanel_padding_right;g&&(o=o-2*g.outerWidth()-2*y.strippanel_padding_buttons),v.resize(o)}():function(){var e=v.getWidth(),t=T.panelHeight;if(g){_.width(e),g.width(e);var i=_.children(".ug-strip-arrow-tip");m.placeElement(i,"center","middle");var n=g.children(".ug-strip-arrow-tip");m.placeElement(n,"center","middle")}var r=e+y.strippanel_padding_left+y.strippanel_padding_right;c.width(r),c.height(t),T.panelWidth=r;var o=t-y.strippanel_padding_top-y.strippanel_padding_bottom;g&&(o=o-2*g.outerHeight()-2*y.strippanel_padding_buttons),v.resize(o)}()}function n(){0==y.strippanel_vertical_type?function(){g&&(m.placeElement(_,"left","top",y.strippanel_padding_left,y.strippanel_padding_top),m.placeElement(g,"right","top",y.strippanel_padding_right,y.strippanel_padding_top));var e=y.strippanel_padding_left;g&&(e+=g.outerWidth()+y.strippanel_padding_buttons),v.setPosition(e,y.strippanel_padding_top)}():function(){g&&(m.placeElement(_,"left","top",y.strippanel_padding_left,y.strippanel_padding_top),m.placeElement(g,"left","bottom",y.strippanel_padding_left,y.strippanel_padding_bottom));var e=y.strippanel_padding_top;g&&(e+=g.outerHeight()+y.strippanel_padding_buttons),v.setPosition(y.strippanel_padding_left,e)}(),b.placeElements()}function r(e){return!!m.isButtonDisabled(e)||void("advance_item"==y.strippanel_buttons_role?f.nextItem():v.scrollForeward())}function o(e){return!!m.isButtonDisabled(e)||void("advance_item"==y.strippanel_buttons_role?f.prevItem():v.scrollBack())}function a(){if(!g)return!0;if(0==v.isMoveEnabled())return m.disableButton(_),m.disableButton(g),!0;var e=v.getInnerStripLimits(),t=v.getInnerStripPos();t>=e.maxPos?m.disableButton(_):m.enableButton(_),t<=e.minPos?m.disableButton(g):m.enableButton(g)}function s(){a()}function l(){f.isLastItem()?m.disableButton(g):m.enableButton(g),f.isFirstItem()?m.disableButton(_):m.enableButton(_)}var u,d,c,g,_,h=this,p=jQuery(this),f=new UniteGalleryMain,m=new UGFunctions,v=new UGThumbsStrip,b=new UGPanelsBase,y={strippanel_vertical_type:!(this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"}),strippanel_padding_top:8,strippanel_padding_bottom:8,strippanel_padding_left:0,strippanel_padding_right:0,strippanel_enable_buttons:!0,strippanel_buttons_skin:"",strippanel_padding_buttons:2,strippanel_buttons_role:"scroll_strip",strippanel_enable_handle:!0,strippanel_handle_align:"top",strippanel_handle_offset:0,strippanel_handle_skin:"",strippanel_background_color:""},w={strip_vertical_type:!0,strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:0,strippanel_padding_bottom:0},I={strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:8,strippanel_padding_bottom:8},T={panelType:"strip",panelWidth:0,panelHeight:0,isEventsInited:!1,isClosed:!1,orientation:null,originalPos:null,isFirstRun:!0};this.destroy=function(){g&&(m.destroyButton(g),m.destroyButton(_),jQuery(v).off(v.events.STRIP_MOVE),jQuery(f).off(f.events.ITEM_CHANGE),jQuery(f).off(f.events.SIZE_CHANGE)),b.destroy(),v.destroy()},this.getOrientation=function(){return T.orientation},this.setOrientation=function(e){T.orientation=e},this.init=function(e,t){!function(e,t){f=e,u=jQuery(f);var i=!1;1==(y=jQuery.extend(y,t)).strippanel_vertical_type&&(y=jQuery.extend(y,w),i=!0),0==y.strippanel_enable_buttons&&(y=jQuery.extend(y,I),i=!0),1==i&&(y=jQuery.extend(y,t));var n=f.getOptions().gallery_skin;""==y.strippanel_buttons_skin&&(y.strippanel_buttons_skin=n),d=f.getElement(),b.init(f,T,h,y,p),(v=new UGThumbsStrip).init(f,y)}(e,t)},this.run=function(){e()},this.setHtml=function(e){t(e)},this.getElement=function(){return c},this.getSize=function(){return m.getElementSize(c)},this.setWidth=function(e){T.panelWidth=e},this.setHeight=function(e){T.panelHeight=e},this.resize=function(e){h.setWidth(e),i(),n()},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return b.isPanelClosed()},this.getClosedPanelDest=function(){return b.getClosedPanelDest()},this.openPanel=function(e){b.openPanel(e)},this.closePanel=function(e){b.closePanel(e)},this.setOpenedState=function(e){b.setOpenedState(e)},this.setClosedState=function(e){b.setClosedState(e)},this.setCustomThumbs=function(e){v.setCustomThumbs(e)},this.setDisabledAtStart=function(e){b.setDisabledAtStart(e)}}function UGGridPanel(){function r(){if(null==v.orientation)throw new Error("Wrong orientation, please set panel orientation before run")}function e(){var e;r(),"center"==f.gridpanel_grid_align&&(f.gridpanel_grid_align="middle"),p.run(),function(){var e=!1;if(1==f.gridpanel_arrows_always_on)e=!0;else{var t=p.getNumPanes();1<t&&(e=!0)}1==e?(g.show().fadeTo(0,1),_.show().fadeTo(0,1),v.arrowsVisible=!0):(g.hide(),_.hide(),v.arrowsVisible=!1)}(),e=p.getSize(),1==v.isHorType?v.panelHeight=e.height+f.gridpanel_padding_border_top+f.gridpanel_padding_border_bottom:v.panelWidth=e.width+f.gridpanel_padding_border_left+f.gridpanel_padding_border_right,h.setElementSize(n,v.panelWidth,v.panelHeight),0==v.isHorType?1==f.gridpanel_vertical_scroll?1==v.arrowsVisible?function(){var e,t,i,n,r=h.getElementSize(_),o=p.getSize();switch(f.gridpanel_grid_align){default:case"top":e=f.gridpanel_padding_border_top+r.height+f.gridpanel_arrows_padding_vert;break;case"middle":e="middle";break;case"bottom":e=v.panelHeight-o.height-r.height-f.gridpanel_padding_border_bottom-f.gridpanel_arrows_padding_vert}var a=c(),s=p.getElement();h.placeElement(s,a,e);var o=p.getSize();switch(f.gridpanel_arrows_align_vert){default:case"center":case"middle":t=(o.top-r.height)/2,i=o.bottom+(v.panelHeight-o.bottom-r.height)/2,n=0;break;case"grid":t=o.top-r.height-f.gridpanel_arrows_padding_vert_vert,i=o.bottom+f.gridpanel_arrows_padding_vert,n=0;break;case"border":case"borders":t=f.gridpanel_padding_border_top,i="bottom",n=f.gridpanel_padding_border_bottom}h.placeElement(_,"center",t),h.placeElement(g,"center",i,0,n)}():i():1==v.arrowsVisible?function(){var e,t,i,n=h.getElementSize(_),r=p.getSize(),o=f.gridpanel_padding_border_top;switch(f.gridpanel_grid_align){case"middle":switch(f.gridpanel_arrows_align_vert){default:var a=r.height+f.gridpanel_arrows_padding_vert+n.height;o=(v.panelHeight-a)/2;break;case"border":case"borders":var s=v.panelHeight-n.height-f.gridpanel_padding_border_bottom;o=(s-r.height)/2}break;case"bottom":var a=r.height+n.height+f.gridpanel_arrows_padding_vert;o=v.panelHeight-a-f.gridpanel_padding_border_bottom}var l=p.getElement(),u=c();h.placeElement(l,u,o);var r=p.getSize();switch(f.gridpanel_arrows_align_vert){default:case"center":case"middle":e=r.bottom+(v.panelHeight-r.bottom-n.height)/2,i=0;break;case"grid":e=r.bottom+f.gridpanel_arrows_padding_vert,i=0;break;case"border":case"borders":e="bottom",i=f.gridpanel_padding_border_bottom}t=-n.width/2-f.gridpanel_space_between_arrows/2,h.placeElement(_,"center",e,t,i);var d=Math.abs(t);h.placeElement(g,"center",e,d,i)}():i():1==v.arrowsVisible?function(){var e,t,i,n,r=h.getElementSize(_),o=p.getSize();switch(f.gridpanel_grid_align){default:case"left":e=f.gridpanel_padding_border_left+f.gridpanel_arrows_padding_hor+r.width;break;case"middle":case"center":e="center";break;case"right":e=v.panelWidth-o.width-r.width-f.gridpanel_padding_border_right-f.gridpanel_arrows_padding_hor}var a=p.getElement();switch(h.placeElement(a,e,f.gridpanel_padding_border_top),o=p.getSize(),f.gridpanel_arrows_align_vert){default:case"center":case"middle":n=(o.height-r.height)/2+o.top;break;case"top":n=f.gridpanel_padding_border_top+f.gridpanel_arrows_padding_vert;break;case"bottom":n=v.panelHeight-f.gridpanel_padding_border_bottom-f.gridpanel_arrows_padding_vert-r.height}switch(f.gridpanel_arrows_align_hor){default:case"borders":t=f.gridpanel_padding_border_left,i=v.panelWidth-f.gridpanel_padding_border_right-r.width;break;case"grid":t=o.left-f.gridpanel_arrows_padding_hor-r.width,i=o.right+f.gridpanel_arrows_padding_hor;break;case"center":t=(o.left-r.width)/2,i=o.right+(v.panelWidth-o.right-r.width)/2}h.placeElement(_,t,n),h.placeElement(g,i,n)}():function(){var e,t=p.getSize();switch(f.gridpanel_grid_align){default:case"left":e=f.gridpanel_padding_border_left;break;case"middle":case"center":e="center";break;case"right":e=v.panelWidth-t.width-f.gridpanel_padding_border_right}var i=p.getElement();h.placeElement(i,e,f.gridpanel_padding_border_top)}(),u.placeElements(),1!=v.isEventsInited&&(v.isEventsInited=!0,_&&(h.addClassOnHover(_),p.attachPrevPaneButton(_)),g&&(h.addClassOnHover(g),p.attachNextPaneButton(g)),u.initEvents())}function t(){o.append("<div class='ug-grid-panel'></div>"),n=o.children(".ug-grid-panel"),v.isHorType?(n.append("<div class='grid-arrow grid-arrow-left-hortype ug-skin-"+f.gridpanel_arrows_skin+"'></div>"),n.append("<div class='grid-arrow grid-arrow-right-hortype ug-skin-"+f.gridpanel_arrows_skin+"'></div>"),_=n.children(".grid-arrow-left-hortype"),g=n.children(".grid-arrow-right-hortype")):0==f.gridpanel_vertical_scroll?(n.append("<div class='grid-arrow grid-arrow-left ug-skin-"+f.gridpanel_arrows_skin+"'></div>"),n.append("<div class='grid-arrow grid-arrow-right ug-skin-"+f.gridpanel_arrows_skin+"'></div>"),_=n.children(".grid-arrow-left"),g=n.children(".grid-arrow-right")):(n.append("<div class='grid-arrow grid-arrow-up ug-skin-"+f.gridpanel_arrows_skin+"'></div>"),n.append("<div class='grid-arrow grid-arrow-down ug-skin-"+f.gridpanel_arrows_skin+"'></div>"),_=n.children(".grid-arrow-up"),g=n.children(".grid-arrow-down")),u.setHtml(n),_.fadeTo(0,0),g.fadeTo(0,0),p.setHtml(n),""!=f.gridpanel_background_color&&n.css("background-color",f.gridpanel_background_color)}function c(){return f.gridpanel_padding_border_left}function i(){var e=f.gridpanel_grid_align,t=0;switch(e){case"top":t=f.gridpanel_padding_border_top;break;case"bottom":t=f.gridpanel_padding_border_bottom}var i=c(),n=p.getElement();h.placeElement(n,i,e,0,t)}var o,n,g,_,a=this,s=jQuery(this),l=new UniteGalleryMain,h=new UGFunctions,p=new UGThumbsGrid,u=new UGPanelsBase,f={gridpanel_vertical_scroll:!0,gridpanel_grid_align:"middle",gridpanel_padding_border_top:10,gridpanel_padding_border_bottom:4,gridpanel_padding_border_left:10,gridpanel_padding_border_right:10,gridpanel_arrows_skin:"",gridpanel_arrows_align_vert:"middle",gridpanel_arrows_padding_vert:4,gridpanel_arrows_align_hor:"center",gridpanel_arrows_padding_hor:10,gridpanel_space_between_arrows:20,gridpanel_arrows_always_on:!(this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"}),gridpanel_enable_handle:!0,gridpanel_handle_align:"top",gridpanel_handle_offset:0,gridpanel_handle_skin:"",gridpanel_background_color:""},d={gridpanel_grid_align:"middle",gridpanel_padding_border_top:2,gridpanel_padding_border_bottom:2},m={gridpanel_grid_align:"center"},v={panelType:"grid",isHorType:!1,arrowsVisible:!1,panelHeight:0,panelWidth:0,originalPosX:null,isEventsInited:!1,isClosed:!1,orientation:null};this.destroy=function(){_&&h.destroyButton(_),g&&h.destroyButton(g),u.destroy(),p.destroy()},this.getOrientation=function(){return v.orientation},this.setOrientation=function(e){switch(v.orientation=e){case"right":case"left":v.isHorType=!1;break;case"top":case"bottom":v.isHorType=!0;break;default:throw new Error("Wrong grid panel orientation: "+e)}},this.setHeight=function(e){if(1==v.isHorType)throw new Error("setHeight is not appliable to this orientatio ("+v.orientation+"). Please use setWidth");v.panelHeight=e;var t,i,n=(t=f.gridpanel_padding_border_top+f.gridpanel_padding_border_bottom,i=v.panelHeight-t,0==f.gridpanel_arrows_always_on&&1==p.getNumPanesEstimationByHeight(i)?i:(t=h.getElementSize(g).height+f.gridpanel_arrows_padding_vert,1==f.gridpanel_vertical_scroll&&(t*=2),t+=f.gridpanel_padding_border_top+f.gridpanel_padding_border_bottom,v.panelHeight-t));p.setMaxHeight(n)},this.setWidth=function(e){if(0==v.isHorType)throw new Error("setWidth is not appliable to this orientatio ("+v.orientation+"). Please use setHeight");v.panelWidth=e;var t,i,n=(t=f.gridpanel_padding_border_left+f.gridpanel_padding_border_right,i=v.panelWidth-t,0==f.gridpanel_arrows_always_on&&1==p.getNumPanesEstimationByWidth(i)?i:(t+=2*(h.getElementSize(g).width+f.gridpanel_arrows_padding_hor),v.panelWidth-t));p.setMaxWidth(n)},this.init=function(e,t){!function(e,t){l=e,r(),t&&t.vertical_scroll&&(f.gridpanel_vertical_scroll=t.vertical_scroll),f=jQuery.extend(f,t),1==v.isHorType?(f=jQuery.extend(f,m),f=jQuery.extend(f,t)):1==f.gridpanel_vertical_scroll&&(f=jQuery.extend(f,d),(f=jQuery.extend(f,t)).grid_panes_direction="bottom");var i=l.getOptions().gallery_skin;""==f.gridpanel_arrows_skin&&(f.gridpanel_arrows_skin=i);var n=e.getObjects();o=n.g_objWrapper,u.init(l,v,a,f,s),(p=new UGThumbsGrid).init(l,f)}(e,t)},this.setHtml=function(){t()},this.run=function(){e()},this.getElement=function(){return n},this.getSize=function(){return h.getElementSize(n)},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return u.isPanelClosed()},this.getClosedPanelDest=function(){return u.getClosedPanelDest()},this.openPanel=function(e){u.openPanel(e)},this.closePanel=function(e){u.closePanel(e)},this.setOpenedState=function(e){u.setOpenedState(e)},this.setClosedState=function(e){u.setClosedState(e)},this.setDisabledAtStart=function(e){u.setDisabledAtStart(e)}}function UGThumbsGrid(){function n(e,t,i){if(w=e.getObjects(),(C=e).attachThumbsPanel("grid",x),y=jQuery(e),I=w.g_objWrapper,T=w.g_arrItems,!0===i&&(z.isTilesMode=!0),z.numThumbs=T.length,r=t,O=jQuery.extend(O,r),A.setOptions(r),z.isNavigationVertical="top"==O.grid_panes_direction||"bottom"==O.grid_panes_direction,z.spaceBetweenCols=O.grid_space_between_cols,z.spaceBetweenRows=O.grid_space_between_rows,1==z.isTilesMode){M.setFixedMode(),M.setApproveClickFunction(h),M.init(e,O);var n=M.getOptions();z.tileMaxHeight=n.tile_height,z.tileMaxWidth=n.tile_width,A=M.getObjThumbs()}else t.thumb_fixed_size=!0,A.init(e,t);var r}function e(){var e=C.getSelectedItem();if(function(){if(0==z.isHorizontal){if(0==z.gridHeight)throw new Error("You must set height before run.")}else if(0==z.gridWidth)throw new Error("You must set width before run.")}(),1==z.isFirstTimeRun)(function(){if(0==z.isTilesMode){A.initEvents();var e=E.find(".ug-thumb-wrapper");e.on("click touchend",p),y.on(C.events.ITEM_CHANGE,b)}else M.initEvents();E.bind("mousedown touchstart",f),jQuery("body").bind("mousemove touchmove",m),jQuery(window).add("body").bind("mouseup touchend",v)})(),1==z.isTilesMode?(r(),o(),M.run()):(A.setHtmlProperties(),o(),A.loadThumbsImages());else if(1==z.isTilesMode){1==r()&&(o(),M.run())}if(0==z.isHorizontal?z.isNavigationVertical?function(){var e=S.children(".ug-thumb-wrapper"),t=0,n=0,r=0,o=0,a=0,s=0;z.innerWidth=0,z.numPanes=1,z.arrPanes=[],z.numThumbsInPane=0,z.arrPanes.push(a);var l=e.length;for(i=0;i<l;i++){var u=jQuery(e[i]);j.placeElement(u,t,n);var d=u.outerWidth(),c=u.outerHeight();t+=d+z.spaceBetweenCols;var g=n+c;r<g&&(r=g),++o>=O.grid_num_cols&&(n+=c+z.spaceBetweenRows,t=a,o=0),1==z.numPanes&&z.numThumbsInPane++,g=n+c;var _=s+z.gridHeight;_<g&&(1==z.isMaxHeight&&1==z.numPanes&&(z.gridHeight=r,E.height(z.gridHeight),_=z.gridHeight),n=_+z.spaceBetweenRows,s=n,t=a=0,o=0,i<l-1&&(z.numPanes++,z.arrPanes.push(n)))}S.height(r),z.innerHeight=r,1==z.isMaxHeight&&1==z.numPanes&&(z.gridHeight=r,E.height(r))}():function(){var e=S.children(".ug-thumb-wrapper"),t=0,n=0,r=0,o=0,a=0,s=0;z.innerWidth=0,z.numPanes=1,z.arrPanes=[],z.numThumbsInPane=0,z.arrPanes.push(o);var l=e.length;for(i=0;i<l;i++){var u=jQuery(e[i]);j.placeElement(u,t,n);var d=u.outerWidth(),c=u.outerHeight();a<t&&(a=t);var g=n+c;s<g&&(s=g);var _=a+d;_>z.innerWidth&&(z.innerWidth=_),t+=d+z.spaceBetweenCols,++r>=O.grid_num_cols&&(n+=c+z.spaceBetweenRows,t=o,r=0),1==z.numPanes&&z.numThumbsInPane++,n+c>z.gridHeight&&(n=0,o=z.innerWidth+z.spaceBetweenCols,t=o,r=0,1==z.isMaxHeight&&1==z.numPanes&&(z.gridHeight=s,E.height(z.gridHeight)),i<l-1&&(z.numPanes++,z.arrPanes.push(o)))}S.width(z.innerWidth),1==z.isMaxHeight&&1==z.numPanes&&(z.gridHeight=s,E.height(s))}():function(){var e=S.children(".ug-thumb-wrapper"),t=O.grid_padding,n=O.grid_padding,r=n,o=t,a=0,s=0,l=0,u=0,d=0;z.innerWidth=0,z.numPanes=1,z.arrPanes=[],z.numThumbsInPane=0,z.arrPanes.push(t-O.grid_padding);var c=e.length;for(i=0;i<c;i++){var g=jQuery(e[i]),_=g.outerWidth(),h=g.outerHeight();o-t+_>z.gridWidth&&(r=0,++d>=O.grid_num_rows?(t=o,r=n,l=d=0,1==z.numPanes&&(z.gridWidth=a+O.grid_padding,E.width(z.gridWidth),z.gridHeight=u+O.grid_padding,E.height(z.gridHeight)),z.numPanes++,z.arrPanes.push(t-O.grid_padding)):(o=t,r=l+z.spaceBetweenRows)),j.placeElement(g,o,r);var p=o+_;a<p&&(a=p);var f=r+h;l<f&&(l=f),u<f&&(u=f),s<f&&(s=f);var p=a+_;p>z.innerWidth&&(z.innerWidth=p),o+=_+z.spaceBetweenCols,1==z.numPanes&&z.numThumbsInPane++}z.innerWidth=a+O.grid_padding,z.innerHeight=u+O.grid_padding,S.width(z.innerWidth),S.height(z.innerHeight),1==z.numPanes&&(z.gridWidth=a+O.grid_padding,z.gridHeight=u+O.grid_padding,E.width(z.gridWidth),E.height(z.gridHeight))}(),1==z.isFirstTimeRun&&z.isTilesMode){var t=A.getThumbs();t.each(function(e,t){I.trigger(z.eventSizeChange,jQuery(t))}),t.fadeTo(0,1)}null!=e&&s(e.index),P.trigger(x.events.PANE_CHANGE,z.currentPane),z.isFirstTimeRun=!1}function a(){if(1==z.isTilesMode)var e=M.getGlobalTileSize();else e=A.getGlobalThumbSize();return e}function r(){if(0==z.isTilesMode)throw new Error("Dynamic size can be set only in tiles mode");var e=!1,t=C.isMobileMode(),i=z.spaceBetweenCols;1==t?(z.spaceBetweenCols=O.grid_space_between_mobile,z.spaceBetweenRows=O.grid_space_between_mobile):(z.spaceBetweenCols=O.grid_space_between_cols,z.spaceBetweenRows=O.grid_space_between_rows),z.spaceBetweenCols!=i&&(e=!0);var n=a().width,r=z.tileMaxWidth;return j.getNumItemsInSpace(z.gridWidth,z.tileMaxWidth,z.spaceBetweenCols)<O.grid_min_cols&&(r=j.getItemSizeInSpace(z.gridWidth,O.grid_min_cols,z.spaceBetweenCols)),M.setTileSizeOptions(r),r!=n&&(e=!0),e}function o(){var e,t,i,n,r,o;0==z.isHorizontal?(n=a().width,r=O.grid_num_cols*n+(O.grid_num_cols-1)*z.spaceBetweenCols+2*O.grid_padding,o=z.gridHeight,z.gridWidth=r,j.setElementSize(E,r,o),j.setElementSize(S,r,o),z.innerWidth=r,z.innerHeight=o):(e=a().height,t=z.gridWidth,i=O.grid_num_rows*e+(O.grid_num_rows-1)*z.spaceBetweenRows+2*O.grid_padding,z.gridHeight=i,j.setElementSize(E,t,i),j.setElementSize(S,t,i),z.innerWidth=t,z.innerHeight=i)}function s(e){var t=g(e);return-1!=t&&void x.gotoPane(t,"scroll")}function l(e){var t=d(e);return 0!=t&&void S.stop(!0).animate(t,{duration:O.grid_transition_duration,easing:O.grid_transition_easing,queue:!1})}function u(){l(-z.arrPanes[z.currentPane])}function d(e){var t={};return 1==z.isNavigationVertical?t.top=e+"px":t.left=e+"px",t}function c(){var e=j.getElementSize(S);return 1==z.isNavigationVertical?e.top:e.left}function g(e){return 0==function(e){if(e<0||e>=z.numThumbs)throw new Error("Thumb not exists: "+e);return!0}(e)?-1:Math.floor(e/z.numThumbsInPane)}function _(){var e=j.getStoredEventData(z.storedEventID),t=c();diffPos=Math.abs(e.startInnerPos-t);var i=1==z.isNavigationVertical?z.gridHeight:z.gridWidth,n=Math.round(3*i/8);return diffPos>=n||e.diffTime<300&&25<diffPos}function h(){return 1==z.numPanes||j.isApproveStoredEventClick(z.storedEventID,z.isNavigationVertical)}function p(e){if(1==function(){if(1==z.numPanes)return!1;var e=j.getStoredEventData(z.storedEventID),t=e.diffTime,i=c(),n=Math.abs(i-e.startInnerPos);return 30<n||5<n&&300<t}())return!0;var t=jQuery(this),i=A.getItemByThumb(t);C.selectItem(i)}function f(e){if(1==z.numPanes)return!0;if(1==z.touchActive)return!0;0==z.isTilesMode&&e.preventDefault(),z.touchActive=!0;var t={startInnerPos:c()};j.storeEventData(e,z.storedEventID,t)}function m(e){if(0==z.touchActive)return!0;e.preventDefault(),j.updateStoredEventData(e,z.storedEventID);var t=j.getStoredEventData(z.storedEventID,z.isNavigationVertical);if(0!=O.grid_vertical_scroll_ondrag&&1!=z.isNavigationVertical&&"vert"===j.handleScrollTop(z.storedEventID))return!0;var i,n=t.diffMousePos,r=t.startInnerPos+n,o=0<n?"prev":"next",a=z.arrPanes[z.numPanes-1];0==O.grid_carousel&&0<r&&"prev"==o&&(r/=3),0==O.grid_carousel&&r<-a&&"next"==o&&(r=t.startInnerPos+n/3),0!=(i=d(r))&&S.css(i)}function v(e){if(0==z.touchActive)return!0;j.updateStoredEventData(e,z.storedEventID);var t=j.getStoredEventData(z.storedEventID,z.isNavigationVertical);if(z.touchActive=!1,0==_())return u(),!0;"next"==(0<c()-t.startInnerPos?"prev":"next")?0==O.grid_carousel&&x.isLastPane()?u():x.nextPane():0==O.grid_carousel&&x.isFirstPane()?u():x.prevPane()}function b(){var e=C.getSelectedItem();A.setThumbSelected(e.objThumbWrapper),s(e.index)}var y,w,I,T,E,S,x=this,P=jQuery(this),C=new UniteGalleryMain,j=new UGFunctions,A=new UGThumbsGeneral,M=new UGTileDesign,O={grid_panes_direction:"left",grid_num_cols:2,grid_min_cols:2,grid_num_rows:2,grid_space_between_cols:10,grid_space_between_rows:10,grid_space_between_mobile:10,grid_transition_duration:300,grid_transition_easing:"easeInOutQuad",grid_carousel:!1,grid_padding:0,grid_vertical_scroll_ondrag:!1},z={eventSizeChange:"thumb_size_change",isHorizontal:!(this.events={PANE_CHANGE:"pane_change"}),isMaxHeight:!1,isMaxWidth:!1,gridHeight:0,gridWidth:0,innerWidth:0,innerHeight:0,numPanes:0,arrPanes:0,numThumbs:0,currentPane:0,numThumbsInPane:0,isNavigationVertical:!1,touchActive:!1,startScrollPos:0,isFirstTimeRun:!0,isTilesMode:!1,storedEventID:"thumbsgrid",tileMaxWidth:null,tileMaxHeight:null,spaceBetweenCols:null,spaceBetweenRows:null};this.destroy=function(){if(0==z.isTilesMode){var e=E.find(".ug-thumb-wrapper");e.off("click"),e.off("touchend"),y.on(C.events.ITEM_CHANGE),A.destroy()}else M.destroy();E.unbind("mousedown"),E.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("touchend"),jQuery(window).add("body").unbind("mouseup"),P.off(x.events.PANE_CHANGE)},this.__________EXTERNAL_GENERAL_________=function(){},this.setThumbUnselected=function(e){A.setThumbUnselected(e)},this.isItemThumbVisible=function(e){return g(e.index)==z.currentPane},this.__________EXTERNAL_API_________=function(){},this.getNumPanesEstimationByHeight=function(e){if(1==z.isTilesMode)var t=O.tile_height;else t=A.getOptions().thumb_height;var i=A.getNumThumbs(),n=Math.ceil(i/O.grid_num_cols),r=n*t+(n-1)*z.spaceBetweenRows;return Math.ceil(r/e)},this.getNumPanesEstimationByWidth=function(e){if(z.isTilesMode)var t=O.tile_width;else t=A.getOptions().thumb_width;var i=A.getNumThumbs(),n=Math.ceil(i/O.grid_num_rows),r=n*t+(n-1)*z.spaceBetweenCols;return Math.ceil(r/e)},this.getHeightEstimationByWidth=function(e){if(0==z.isTilesMode)throw new Error("This function works only with tiles mode");var t=A.getNumThumbs(),i=j.getNumItemsInSpace(e,O.tile_width,z.spaceBetweenCols),n=Math.ceil(t/i);return n>O.grid_num_rows&&(n=O.grid_num_rows),j.getSpaceByNumItems(n,O.tile_height,z.spaceBetweenRows)+2*O.grid_padding},this.getElement=function(){return E},this.getSize=function(){return j.getElementSize(E)},this.getNumPanes=function(){return z.numPanes},this.isFirstPane=function(){return 0==z.currentPane},this.isLastPane=function(){return z.currentPane==z.numPanes-1},this.getPaneInfo=function(){return{pane:z.currentPane,total:z.numPanes}},this.getPane=function(){return z.currentPane},this.setWidth=function(e){z.gridWidth=e,z.isHorizontal=!0},this.setMaxWidth=function(e){z.gridWidth=e,z.isMaxWidth=!0,z.isHorizontal=!0},this.setHeight=function(e){z.gridHeight=e,z.isHorizontal=!1},this.setMaxHeight=function(e){z.gridHeight=e,z.isMaxHeight=!0,z.isHorizontal=!1},this.gotoPane=function(e,t){if(0==function(e){if(e>=z.numPanes||e<0)throw new Error("Pane "+index+" doesn't exists.");return!0}(e))return!1;if(e==z.currentPane)return!1;var i=-z.arrPanes[e];z.currentPane=e,l(i),P.trigger(x.events.PANE_CHANGE,e)},this.nextPane=function(){var e=z.currentPane+1;if(e>=z.numPanes){if(0==O.grid_carousel)return!0;e=0}x.gotoPane(e,"next")},this.prevPane=function(){var e=z.currentPane-1;return!(e<0&&(e=z.numPanes-1,0==O.grid_carousel))&&void x.gotoPane(e,"prev")},this.attachNextPaneButton=function(e){return j.setButtonOnClick(e,x.nextPane),1==O.grid_carousel||(x.isLastPane()&&e.addClass("ug-button-disabled"),void P.on(x.events.PANE_CHANGE,function(){x.isLastPane()?e.addClass("ug-button-disabled"):e.removeClass("ug-button-disabled")}))},this.attachPrevPaneButton=function(e){return j.setButtonOnClick(e,x.prevPane),1==O.grid_carousel||(x.isFirstPane()&&e.addClass("ug-button-disabled"),void P.on(x.events.PANE_CHANGE,function(){x.isFirstPane()?e.addClass("ug-button-disabled"):e.removeClass("ug-button-disabled")}))},this.attachBullets=function(i){i.setActive(z.currentPane),jQuery(i).on(i.events.BULLET_CLICK,function(e,t){x.gotoPane(t,"theme"),i.setActive(t)}),jQuery(x).on(x.events.PANE_CHANGE,function(e,t){i.setActive(t)})},this.getObjTileDesign=function(){return M},this.init=function(e,t,i){n(e,t,i)},this.run=function(){e()},this.setHtml=function(e){var t,i;i=I,(t=e)&&(i=t),i.append("<div class='ug-thumbs-grid'><div class='ug-thumbs-grid-inner'></div></div>"),E=i.children(".ug-thumbs-grid"),S=E.children(".ug-thumbs-grid-inner"),1==z.isTilesMode?M.setHtml(S):A.setHtmlThumbs(S)}}function UGTiles(){function i(e,t){g_objects=e.getObjects(),D=e,O=jQuery(e),z=g_objects.g_objWrapper,g_objects.g_arrItems,(B=jQuery.extend(B,t)).tiles_min_columns<1&&(B.tiles_min_columns=1),0!=B.tiles_max_columns&&B.tiles_max_columns<B.tiles_min_columns&&(B.tiles_max_columns=B.tiles_min_columns),W.init(e,B),Q=W.getObjThumbs()}function s(){if(k.addClass("ug-tiles-rest-mode"),Y.isTransInited=!0,1==B.tiles_enable_transition){k.addClass("ug-tiles-transit");var e=W.getOptions();1==e.tile_enable_image_effect&&0==e.tile_image_effect_reverse&&k.addClass("ug-tiles-transit-overlays"),Y.isTransActive=!0}}function v(){return G.getElementSize(k).width}function a(){return 0!=Y.isTransInited&&(k.addClass("ug-tiles-transition-active"),k.removeClass("ug-tiles-rest-mode"),0!=Y.isTransActive&&void W.disableEvents())}function e(){return 0!=Y.isTransInited&&(k.removeClass("ug-tiles-transition-active"),void k.addClass("ug-tiles-rest-mode"))}function g(){1==Y.isTransActive?(setTimeout(function(){W.enableEvents(),W.triggerSizeChangeEventAllTiles(),e()},800),Y.handle&&clearTimeout(Y.handle),Y.handle=setTimeout(function(){e(),W.triggerSizeChangeEventAllTiles(),Y.handle=null},2e3)):(W.triggerSizeChangeEventAllTiles(),e())}function n(){F.colWidth=(F.availWidth-F.colGap*(F.numCols-1))/F.numCols,F.colWidth=Math.floor(F.colWidth),F.totalWidth=G.getSpaceByNumItems(F.numCols,F.colWidth,F.colGap)}function l(){if(F.colWidth=B.tiles_col_width,F.minCols=B.tiles_min_columns,F.maxCols=B.tiles_max_columns,0==D.isMobileMode()?F.colGap=B.tiles_space_between_cols:F.colGap=B.tiles_space_between_cols_mobile,F.galleryWidth=v(),F.availWidth=F.galleryWidth,1==B.tiles_include_padding&&(F.availWidth=F.galleryWidth-2*F.colGap),1==B.tiles_exact_width)F.numCols=G.getNumItemsInSpace(F.availWidth,F.colWidth,F.colGap),0<F.maxCols&&F.numCols>F.maxCols&&(F.numCols=F.maxCols),F.numCols<F.minCols?(F.numCols=F.minCols,n()):F.totalWidth=F.numCols*(F.colWidth+F.colGap)-F.colGap;else{var e=G.getNumItemsInSpaceRound(F.availWidth,F.colWidth,F.colGap);e<F.minCols?e=F.minCols:0!=F.maxCols&&e>F.maxCols&&(e=F.maxCols),F.numCols=e,n()}switch(B.tiles_align){case"center":default:F.addX=Math.round((F.galleryWidth-F.totalWidth)/2);break;case"left":F.addX=0;break;case"right":F.addX=F.galleryWidth-F.totalWidth}for(F.maxColHeight=0,F.arrPosx=[],col=0;col<F.numCols;col++){var t=G.getColX(col,F.colWidth,F.colGap);F.arrPosx[col]=t+F.addX}F.colHeights=[0]}function u(e,t,i,n){if(null==n)n=function(){var e=0,t=999999999;for(col=0;col<F.numCols;col++){if(null==F.colHeights[col]||0==F.colHeights[col])return col;F.colHeights[col]<t&&(e=col,t=F.colHeights[col])}return e}();var r=0;void 0!==F.colHeights[n]&&(r=F.colHeights[n]);var o=W.getTileHeightByWidth(F.colWidth,e,"placeTile");if(null===o){if(1==B.tiles_enable_transition)throw new Error("Can't know tile height, please turn off transition");o=G.getElementSize(e).height}var a=F.arrPosx[n];G.placeElement(e,a,r);var s=r+o;F.colHeights[n]=s+F.colGap,F.maxColHeight<s&&(F.maxColHeight=s),1==t&&e.show().fadeTo(0,1),1==i&&k.height(F.maxColHeight)}function d(e){e||(e=!1),l();var t=Q.getThumbs();a(),W.resizeAllTiles(F.colWidth,W.resizemode.VISIBLE_ELEMENTS);for(var i=0;i<t.length;i++){var n=jQuery(t[i]),r=void 0;1==B.tiles_keep_order&&(r=G.getColByIndex(F.numCols,i)),u(n,e,!1,r)}g();var o=k.height();1==Y.isTransActive&&o>F.maxColHeight?setTimeout(function(){k.height(F.maxColHeight)},700):k.height(F.maxColHeight)}function c(e,t){if(!0!==t&&0==function(e){var t=e.index();if(!0===D.getItem(t).ordered_placed)return!1;var i=G.getPrevRowSameColIndex(t,F.numCols);return i<0||!0===D.getItem(i).ordered_placed}(e))return!1;var i=e.index(),n=G.getColByIndex(F.numCols,i),r=D.getItem(i);W.resizeTile(e,F.colWidth),u(e,!0,!0,n),r.ordered_placed=!0;var o=D.getNumItems(),a=G.getNextRowSameColIndex(i,F.numCols);if(o<=a)return!1;var s=Q.getThumbByIndex(a),l=D.getItem(a);Q.isThumbLoaded(s),Q.isThumbLoaded(s)&&!l.ordered_placed&&c(s,!0)}function r(){var e=Q.getThumbs();Y.isAllLoaded=!1,l();var t=Math.abs(F.galleryWidth-F.totalWidth);if(1==B.tiles_set_initial_height&&0==G.isScrollbarExists()&&t<25){var i=(e.length,Math.ceil(e.length/F.numCols))*B.tiles_col_width*.75;k.height(i),l()}e.fadeTo(0,0);var n=jQuery(k).find("img.ug-thumb-image");if(1==Y.isFixedMode)R.trigger(N.events.TILES_FIRST_PLACED),d(!0),G.checkImagesLoaded(n,function(){s(),R.trigger(N.events.ALL_TILES_LOADED)});else{var r=F.numCols,o=F.galleryWidth,a=!1;G.checkImagesLoaded(n,function(){l(),(r!=F.numCols||o!=F.galleryWidth)&&d(!1),s(),R.trigger(N.events.ALL_TILES_LOADED)},function(e,t){0==a&&R.trigger(N.events.TILES_FIRST_PLACED),a=!0,function(e,t){if(1==t)return;e=jQuery(e);var i=jQuery(e).parent();Q.triggerImageLoadedEvent(i,e),1==B.tiles_keep_order?c(i):(W.resizeTile(i,F.colWidth),u(i,!0,!0))}(e,t)})}}function t(){var d=v(),e=Q.getThumbs(),c=B.tiles_justified_row_height,g=[],r=0,_=B.tiles_justified_space_between,t=e.length;jQuery.each(e,function(e,t){t=jQuery(t);var i=Q.getItemByThumb(t),n=i.thumbWidth;i.thumbHeight!==c&&(n=Math.floor(i.thumbRatioByWidth*c)),g[e]=n,r+=n});var i=Math.ceil(r/d);t<i&&(i=t);var n=r/i,o=[],a=0,h=[],s=[],l=0,u=0;jQuery.each(e,function(e,t){var i=g[e];(u+1)*n<l+i/2&&(h[o.length]=a,o.push(s),s=[],a=0,u++),l+=i,a+=i,s.push(t)}),h[o.length]=a,o.push(s);var p=[],f=[],m=0;return jQuery.each(o,function(e,t){var i=(t.length,h[e]),n=(t.length-1)*_,r=(d-n)/i,o=Math.round(c*r);m+=o,0<e&&(m+=_),f.push(o);var a=o/c,s=[],l=n;jQuery.each(t,function(e,t){var i=jQuery(t).index(),n=g[i],r=Math.round(n*a);s[e]=r,l+=r});var u=l-d;jQuery.each(s,function(e,t){return 0!=u&&(u<0?(s[e]=t+1,u++):(s[e]=t-1,u--),void(e==s.length-1&&0!=u&&(s[e]-=u)))}),p[e]=s}),{arrRows:o,arrRowWidths:p,arrRowHeights:f,gap:_,totalHeight:m}}function o(l){if(!l)l=!1;var e=v(),u=t();k.height(u.totalHeight),v()!=e&&(u=t()),a();var d=0,c=0;jQuery.each(u.arrRows,function(e,t){var o=u.arrRowWidths[e],a=u.arrRowHeights[e],s=0;jQuery.each(t,function(e,t){var i=jQuery(t),n=a,r=o[e];W.resizeTile(i,r,n,W.resizemode.VISIBLE_ELEMENTS),G.placeElement(i,s,d),c<(s+=r)&&(c=s),s+=u.gap,1==l&&jQuery(t).show()}),d+=a+u.gap}),g()}function _(){var e=v();switch(U.galleryWidth=e,L={},U.colWidth=B.tiles_nested_col_width,U.optimalTileWidth=B.tiles_nested_optimal_tile_width,U.currentGap=B.tiles_space_between_cols,1==D.isMobileMode()&&(U.currentGap=B.tiles_space_between_cols_mobile),null==U.colWidth?U.colWidth=Math.floor(U.optimalTileWidth/U.nestedOptimalCols):U.optimalTileWidth>U.colWidth?U.nestedOptimalCols=Math.ceil(U.optimalTileWidth/U.colWidth):U.nestedOptimalCols=1,U.maxColumns=G.getNumItemsInSpace(e,U.colWidth,U.currentGap),U.colWidth=G.getItemSizeInSpace(e,U.maxColumns,U.currentGap),U.gridY=0,H=[],Q.getThumbs().each(function(){var e,t,i,n,r,o,a,s,l,u,d,c,g,_=jQuery(this),h=(e=_,n={},r=U.colWidth,o=U.currentGap,a=W.getTileImageSize(e),s=e.index(),l=Math.ceil((g=s,Math.abs(Math.sin(Math.abs(1e3*Math.sin(g))))*(1*U.nestedOptimalCols/3)+2*U.nestedOptimalCols/3)),u=a.width,d=a.height,c=u/d,d<u?(t=l,0==(i=Math.round(t/c))&&(i=1)):(i=l,0==(t=Math.round(i*c))&&(t=1)),n.dimWidth=t,n.dimHeight=i,n.width=t*r+o*(t-1),n.height=i*r+o*(i-1),n.imgWidth=u,n.imgHeight=d,n.left=0,n.top=0,n);H.push(h)}),U.optimalTileWidth>U.colWidth?U.nestedOptimalCols=Math.ceil(U.optimalTileWidth/U.colWidth):U.nestedOptimalCols=1,U.totalWidth=U.maxColumns*(U.colWidth+U.currentGap)-U.currentGap,B.tiles_align){case"center":default:U.addX=Math.round((U.galleryWidth-U.totalWidth)/2);break;case"left":U.addX=0;break;case"right":U.addX=U.galleryWidth-U.totalWidth}U.maxGridY=0}function h(e){var t=v();_(),p();var i=U.maxGridY*(U.colWidth+U.currentGap)-U.currentGap;k.height(i),v()!=t&&(_(),p()),0==B.tiles_nested_debug&&function(e){if(!e)var e=!1;a();for(var t=0;t<H.length;t++)j(t,e);k.height(U.maxColHeight),g()}(e)}function p(e){if(1==B.tiles_nested_debug)return void 0===e&&(e=!0),function(e,t){if(0==t){for(var i=U.currentItem;i<H.length;i++)f(i,!0);U.currentItem=H.length-1}else f(U.currentItem,!0);for(i=0;i<=U.currentItem;i++)j(i,!0);U.currentItem++}(0,e),!1;for(var t=0;t<H.length;t++)f(t,!0)}function f(e,t){if(!t)t=!1;U.maxColHeight=0;for(var i=G.getObjectLength(L),n=U.gridY;n<=i+1;n++){for(var r=0;r<U.maxColumns;r++)if(0==P(U.gridY)||0==w(U.gridY,r)){return void m(e,b(r),r)}U.gridY++}}function m(e,t,i){var n=jQuery.extend(!0,{},H[e]),r=n.dimWidth,o=t-n.dimWidth,a=U.nestedOptimalCols;if(t<=n.dimWidth||o<=.33*a||t<=a)T(e,t);else if(o<=a)4<=a?1==x(Math.floor(t/2),i)?T(e,Math.floor(t/2)+1):T(e,Math.floor(t/2)):T(objImage,t);else if(1==x(r,i))switch(a<=r){case!0:T(e,r-1);break;case!1:T(e,r+1)}var s,l,u,d,c,g,_,h,p,f=function(e,t,i){var n=U.gridY-1,r=0,o=0,a=1,s=[],l=[];if(s.push(e),0<=n){for(o=0;0<=n;){if(r=L[n][i],void 0!==L[n][i-1]&&L[n][i-1]==L[n][i]||void 0!==L[n][i+t]&&L[n][i+t-1]==L[n][i+t]||L[n][i]!=L[n][i+t-1])return l.push(a),l.push(s),l;o!=r&&(a++,s.push(r)),n--,o=r}return l.push(a),l.push(s),l}return[0,[]]}(e,(n=jQuery.extend(!0,{},H[e])).dimWidth,i);if(U.columnsValueToEnableHeightResize<=f[0]&&U.maxColumns>=2*U.nestedOptimalCols){var m=function(e,t){var i=0,n=0,r=t.dimWidth,o=t.dimHeight,a=0,s=0,l=jQuery.map(L,function(e,t){return[e]});if(void 0===l[U.gridY]||void 0===l[U.gridY][e-1])n=0;else for(var u=0;void 0!==L[U.gridY+u]&&-1!=L[U.gridY+u][e-1];)a=L[U.gridY+u][e-2],u++,n++;if(void 0===l[U.gridY]||void 0===l[U.gridY][e+r])i=0;else for(u=0;void 0!==L[U.gridY+u]&&-1!=L[U.gridY+u][e+r];)s=L[U.gridY+u][e+r+1],u++,i++;var d=0,c=0;return Math.abs(o-n)<Math.abs(o-i)&&0!=n?(d=n,c=a):0!=i?(d=i,c=s):d=o,{newHeight:d,idToResize:c}}(i,n),v=E(e,m.newHeight,!0);H[e].dimHeight=v.dimHeight;var b=function(e,t){for(var i=0,n=0,r=[],o=0,a=0,s=0;s<e[1].length;s++){var l=e[1][s],u=H[e[1][s]];if(n+=u.dimHeight,0!=s)i+=u.dimHeight,r.push([l,u.dimHeight]);else{var d=T(l,t,!0);i+=d.dimHeight,r.push([e[1][s],d.dimHeight])}}o=u.left,a=u.top;for(var c=n,g=[],s=r.length-1;0<=s;s--){var _,l=r[s][0];0!=s?(_=Math.max(Math.round(1*n/3),Math.floor(r[s][1]*(n/i))),c-=_,(d=E(l,_,!0)).left=o,d.top=a,g.push({tileID:l,sizes:d}),a+=d.dimHeight):((d=E(l,_=c,!0)).left=o,d.top=a,g.push({tileID:l,sizes:d}))}return g}(f,v.dimWidth),y=!1;2<=function(e){for(var t=0,i=0,n=0;n<e.length-1;n++){var r=e[n].sizes,o=-1,a=-1;P(r.top+r.dimHeight)&&U.maxColumns>r.left+r.dimWidth&&(o=L[r.top+r.dimHeight-1][r.left+r.dimWidth],a=L[r.top+r.dimHeight][r.left+r.dimWidth]),o!=a&&t++}for(var n=0;n<e.length-1;n++){var r=e[n].sizes,o=-1,a=-1;P(r.top+r.dimHeight)&&0<=r.left-1&&(o=L[r.top+r.dimHeight-1][r.left-1],a=L[r.top+r.dimHeight][r.left-1]),o!=a&&i++}return Math.max(i,t)}(b)&&(y=!0),m.newHeight>=n.dimHeight&&(n=E(e,m.newHeight,!0));var w=(s=m.idToResize,l=m.newHeight,u=n.dimHeight,d=H[s],c=d.dimHeight,d.dimWidth,g=d.left,_=d.top,parseInt(_/(U.colWidth+U.currentGap)),parseInt(g/(U.colWidth+U.currentGap)),h=E(s,c-l+u,!0),(p=[]).push({tileID:s,sizes:h}),p);return n.top=U.gridY,n.left=i,w.push({tileID:e,sizes:n}),S(w)<S(b)||1==y?void I(w):void I(b)}n.left=i,n.top=U.gridY,C(e,H[e]=n,i,U.gridY),U.maxGridY=n.top+n.dimHeight}function I(e){for(var t=0;t<e.length;t++){var i=e[t].sizes,n=e[t].tileID;H[n]=jQuery.extend(!0,{},i),C(n,i,i.left,i.top)}}function T(e,t,i){i||(i=!1);var n=U.colWidth,r=U.currentGap,o=H[e],a=o.imgWidth/o.imgHeight;if(dimWidth=t,dimHeight=Math.round(dimWidth/a),1==i){var s=jQuery.extend(!0,{},o);return s.dimWidth=dimWidth,s.dimHeight=dimHeight,s.width=dimWidth*n+r*(dimWidth-1),s.height=dimHeight*n+r*(dimHeight-1),s}o.dimWidth=dimWidth,o.dimHeight=dimHeight,o.width=dimWidth*n+r*(dimWidth-1),o.height=dimHeight*n+r*(dimHeight-1)}function E(e,t,i){i||(i=!1);var n=H[e],r=n.dimWidth,o=U.colWidth,a=U.currentGap;if(1==i){var s=jQuery.extend(!0,{},n);return s.dimHeight=t,s.width=r*o+a*(r-1),s.height=t*o+a*(t-1),s}n.dimHeight=t,n.width=r*o+a*(r-1),n.height=t*o+a*(t-1)}function S(e){for(var t=0,i=0,n=0;n<e.length;n++){var r=H[e[n].tileID];if(0==r.dimHeight||0==r.height)return;resizeVal=r.dimWidth/r.dimHeight/(r.imgWidth/r.imgHeight),resizeVal<1&&(resizeVal=1/resizeVal),t+=resizeVal,i++}return t/i}function x(e,t){var i=U.gridY-1;return!(i<=0||0==P(i))&&L[i][t+e-1]!=L[i][t+e]}function b(e){var t=e,i=0;if(1==P(U.gridY))for(;0==w(U.gridY,t);)i++,t++;else i=U.maxColumns;return i}function P(e){return void 0!==L[e]}function C(e,t,i,n){for(var r=0;r<t.dimHeight;r++)for(var o=0;o<t.dimWidth;o++)0==P(n+r)&&y(n+r),a=i+o,s=e,L[n+r][a]=s;var a,s}function y(e){L[e]=new Object;for(var t=0;t<U.maxColumns;t++)L[e][t]=-1}function w(e,t){return-1!=L[e][t]}function j(e,t){var i=Q.getThumbByIndex(e),n=H[e],r=n.top*(U.colWidth+U.currentGap),o=U.addX+n.left*(U.colWidth+U.currentGap);W.resizeTile(i,n.width,n.height,W.resizemode.VISIBLE_ELEMENTS),G.placeElement(i,o,r),r+n.height>U.maxColHeight&&(U.maxColHeight=r+n.height),1==t&&i.fadeTo(0,1)}function A(){if(1==Y.isFirstTimeRun)return!0;if(0==Y.isAllLoaded)return!1;switch(B.tiles_type){case"columns":d(!1);break;case"justified":o(!1);break;case"nested":1==D.isMobileMode()?d(!1):h(!1)}}function M(){switch(z.children(".ug-tile").show(),1==Y.isFirstTimeRun&&(R.on(N.events.ALL_TILES_LOADED,function(){return 1==Y.isAllLoaded||void(Y.isAllLoaded=!0)}),O.on(D.events.SIZE_CHANGE,A),W.initEvents()),W.run(),B.tiles_type){default:case"columns":r();break;case"justified":i=jQuery(z).find("img.ug-thumb-image"),n=Q.getThumbs(),Y.isAllLoaded=!1,n.fadeTo(0,0),G.checkImagesLoaded(i,function(){setTimeout(function(){o(!0),n.fadeTo(0,1),R.trigger(N.events.TILES_FIRST_PLACED),s(),R.trigger(N.events.ALL_TILES_LOADED)})},function(e,t){e=jQuery(e);var i=jQuery(e).parent();Q.triggerImageLoadedEvent(i,e)});break;case"nested":e=jQuery(z).find("img.ug-thumb-image"),t=Q.getThumbs(),Y.isAllLoaded=!1,t.fadeTo(0,0),G.checkImagesLoaded(e,function(){1==D.isMobileMode()?d(!0):h(!0),R.trigger(N.events.TILES_FIRST_PLACED),s(),R.trigger(N.events.ALL_TILES_LOADED)},function(e,t){e=jQuery(e);var i=jQuery(e).parent();Q.triggerImageLoadedEvent(i,e)})}var e,t,i,n;Y.isFirstTimeRun=!1}var O,z,k,L,H,N=this,R=jQuery(this),D=new UniteGalleryMain,G=new UGFunctions,W=new UGTileDesign,Q=new UGThumbsGeneral,F={},B={tiles_type:"columns",tiles_col_width:250,tiles_align:"center",tiles_exact_width:!1,tiles_space_between_cols:3,tiles_space_between_cols_mobile:3,tiles_include_padding:!0,tiles_min_columns:2,tiles_max_columns:0,tiles_keep_order:!1,tiles_set_initial_height:!0,tiles_justified_row_height:150,tiles_justified_space_between:3,tiles_nested_optimal_tile_width:250,tiles_nested_col_width:null,tiles_nested_debug:!1,tiles_enable_transition:!0},Y={isFixedMode:!(this.events={THUMB_SIZE_CHANGE:"thumb_size_change",TILES_FIRST_PLACED:"tiles_first_placed",ALL_TILES_LOADED:"all_tiles_loaded"}),isFirstTimeRun:!0,handle:null,isTransActive:!1,isTransInited:!1,isAllLoaded:!1},U={colWidth:null,nestedOptimalCols:5,gridY:0,maxColumns:0,columnsValueToEnableHeightResize:3,resizeLeftRightToColumn:!0,currentItem:0,currentGap:null,optimalTileWidth:null,maxGridY:0};this.destroy=function(){O.off(D.events.SIZE_CHANGE),W.destroy()},this.setFixedSizeMode=function(){Y.isFixedMode=!0,W.setFixedMode()},this.init=function(e,t){i(e,t)},this.setHtml=function(e){!function(e){e||(e=z);k=e;var t=B.tiles_type;e.addClass("ug-tiletype-"+t),W.setHtml(e),e.children(".ug-thumb-wrapper").hide()}(e)},this.getObjTileDesign=function(){return W},this.run=function(){M()}}function UGTileDesign(){function n(e,t){A=e,jQuery(e);var i=A.getObjects();P=i.g_objWrapper,A.getArrItems(),z=jQuery.extend(z,k),z=jQuery.extend(z,t),function(){if(1==z.tile_enable_overlay?(z.thumb_overlay_opacity=z.tile_overlay_opacity,z.thumb_overlay_color=z.tile_overlay_color):0==z.tile_enable_icons?z.thumb_color_overlay_effect=!1:z.thumb_overlay_opacity=0,z.tile_as_link&&(z.thumb_wrapper_as_link=!0,z.thumb_link_newpage=z.tile_link_newpage),1==z.tile_enable_outline&&0==z.tile_enable_border&&(z.tile_enable_outline=!1),L.tileInnerReduce=0,z.tile_enable_border&&(L.tileInnerReduce=2*z.tile_border_width,O.setThumbInnerReduce(L.tileInnerReduce)),L.isSaparateIcons=!M.isRgbaSupported(),1==z.tile_enable_textpanel){switch(z.tile_textpanel_position){case"top":z.tile_textpanel_align="top";case"bottom":L.isTextpanelOutside=!0,z.tile_textpanel_always_on=!0,z.tile_textpanel_offset=0;break;case"inside_top":z.tile_textpanel_align="top";break;case"middle":z.tile_textpanel_align="middle",z.tile_textpanel_appear_type="fade"}0==z.tile_textpanel_always_on&&(L.isSaparateIcons=!0)}0!=z.tile_textpanel_offset&&(z.tile_textpanel_appear_type="fade",z.tile_textpanel_margin=z.tile_textpanel_offset),"title_and_desc"==z.tile_textpanel_source&&(z.tile_textpanel_enable_description=!0,z.tile_textpanel_desc_style_as_title=!0)}(),O.init(e,z);var n=["overlay"];L.funcCustomTileHtml&&(n=[]),O.setCustomThumbs(o,n,{allow_onresize:!1});var r=O.getOptions();z=jQuery.extend(z,r),L.ratioByWidth=z.tile_width/z.tile_height,L.ratioByHeight=z.tile_height/z.tile_width,z.tile_size_by==C.sizeby.GLOBAL_RATIO&&L.isTextpanelOutside&&(L.hasImageContainer=!0)}function t(){var e=A.isMobileMode();switch(L.isTextPanelHidden=!1,1==e&&0==z.tile_textpanel_always_on&&(L.isTextPanelHidden=!0),L.isVideoplayIconAlwaysOn=z.tile_videoplay_icon_always_on,z.tile_videoplay_icon_always_on){case"always":L.isVideoplayIconAlwaysOn=!0;break;case"never":L.isVideoplayIconAlwaysOn=!1;break;case"mobile_only":L.isVideoplayIconAlwaysOn=1==e;break;case"desktop_only":L.isVideoplayIconAlwaysOn=0==e}}function o(e,t){if(e.addClass("ug-tile"),L.funcCustomTileHtml)return L.funcCustomTileHtml(e,t),!1;var i="";1==L.hasImageContainer&&(i+="<div class='ug-image-container ug-trans-enabled'>");var n="ug-thumb-image";(0==z.tile_enable_image_effect||1==z.tile_image_effect_reverse)&&(n+=" ug-trans-enabled");var r=M.stripTags(t.title);r=M.htmlentitles(r),i+='<img src="'+M.escapeDoubleSlash(t.urlThumb)+"\" alt='"+r+"' class='"+n+"'>",1==L.hasImageContainer&&(i+="</div>"),e.append(i),z.tile_size_by==C.sizeby.GLOBAL_RATIO&&e.fadeTo(0,0);var o={};if(1==z.tile_enable_background&&(o["background-color"]=z.tile_background_color),1==z.tile_enable_border&&(o["border-width"]=z.tile_border_width+"px",o["border-style"]="solid",o["border-color"]=z.tile_border_color,z.tile_border_radius&&(o["border-radius"]=z.tile_border_radius+"px")),1==z.tile_enable_outline&&(o.outline="1px solid "+z.tile_outline_color),1==z.tile_enable_shadow){var a=z.tile_shadow_h+"px ";a+=z.tile_shadow_v+"px ",a+=z.tile_shadow_blur+"px ",a+=z.tile_shadow_spread+"px ",a+=z.tile_shadow_color,o["box-shadow"]=a}e.css(o);var s="";if(z.tile_enable_icons){if(0==z.tile_as_link&&1==z.tile_enable_action){var l="ug-button-play ug-icon-zoom";"image"!=t.type&&(l="ug-button-play ug-icon-play"),s+="<div class='ug-tile-icon "+l+"' style='display:none'></div>"}if(t.link&&1==z.tile_show_link_icon||1==z.tile_as_link)if(0==z.tile_as_link){var u="";1==z.tile_link_newpage&&(u=" target='_blank'"),s+="<a href='"+t.link+"'"+u+" class='ug-tile-icon ug-icon-link'></a>"}else s+="<div class='ug-tile-icon ug-icon-link' style='display:none'></div>";var d=L.isSaparateIcons;if(0==d&&"image"!=t.type&&1==L.isVideoplayIconAlwaysOn&&(d=!0),d)var c=e;else c=e.children(".ug-thumb-overlay");c.append(s);var g=c.children("."+l);0==g.length?g=null:g.hide();var _=c.children(".ug-icon-link");0==_.length?_=null:_.hide(),_||1!=z.tile_enable_action||e.addClass("ug-tile-clickable")}else 1==z.tile_enable_action&&e.addClass("ug-tile-clickable");if(1==z.tile_enable_image_effect){var h="";0==z.tile_image_effect_reverse&&(h=" ug-trans-enabled");var p="<div class='ug-tile-image-overlay"+h+"' >",f=" ug-"+z.tile_image_effect_type+"-effect";p+='<img src="'+M.escapeDoubleSlash(t.urlThumb)+"\" alt='"+t.title+"' class='"+f+h+"'>",p+="</div>",e.append(p),1==z.tile_image_effect_reverse&&e.children(".ug-tile-image-overlay").fadeTo(0,0)}if(1==z.tile_enable_textpanel){var m=new UGTextPanel;m.init(A,z,"tile");var v="";(1==z.tile_textpanel_always_on||1==L.isTextpanelOutside)&&(v="ug-trans-enabled"),m.appendHTML(e,v);var b=t.title,y="";switch(z.tile_textpanel_source){case"desc":case"description":b=t.description;break;case"desc_title":""!=t.description&&(b=t.description);break;case"title_and_desc":b=t.title,y=t.description}if(m.setTextPlain(b,y),0==z.tile_textpanel_always_on&&m.getElement().fadeTo(0,0),e.data("objTextPanel",m),1==z.tile_textpanel_always_on)T(e).css("z-index",2);if(1==L.isTextpanelOutside){e.append("<div class='ug-tile-cloneswrapper'></div>");var w=e.children(".ug-tile-cloneswrapper"),I=new UGTextPanel;I.init(A,z,"tile"),I.appendHTML(w),I.setTextPlain(b,y),e.data("objTextPanelClone",I)}}null!==t.addHtml&&e.append(t.addHtml)}function g(e){return e.children(".ug-tile-image-overlay")}function l(e){return e.data("objTextPanel")}function T(e){return e.children(".ug-textpanel")}function m(e){if(1==L.isTextpanelOutside)var t=function(e){var t=e.find(".ug-tile-cloneswrapper .ug-textpanel");if(0==t.length)throw new Error("text panel cloned element not found");return t}(e);else t=T(e);return t?M.getElementSize(t).height:0}function v(e){var t=e.find(".ug-icon-link");return 0==t.length?null:t}function b(e){var t=e.find(".ug-button-play");return 0==t.length?null:t}function r(e){return!!e.hasClass("ug-thumb-over")}function a(e){return e.hasClass("ug-tile-clickable")}function s(e){return 1==z.tile_enable_icons&&1==L.isVideoplayIconAlwaysOn&&"image"!=e.type}function y(e,t,i,n){var r=g(e),o=C.getTileImage(e),a=e.find(".ug-tile-image-overlay img");t-=L.tileInnerReduce,i-=L.tileInnerReduce;var s,l=null;if(1==L.isTextpanelOutside){var u=m(e);if(i-=u,"top"==z.tile_textpanel_position&&(l=u),1==L.hasImageContainer){var d=(s=e,0==L.hasImageContainer?null:s.children(".ug-image-container"));M.setElementSize(d,t,i),null!==l&&M.placeElement(d,0,l)}}if(0==z.tile_enable_image_effect)M.scaleImageCoverParent(o,t,i),0==L.hasImageContainer&&null!==l&&M.placeElement(o,0,l);else{var c="nothing";!0===n&&0==L.isTextpanelOutside&&(c=1==z.tile_image_effect_reverse?"effect":"image"),"effect"!=c&&(M.setElementSize(r,t,i),null!==l&&M.placeElement(r,0,l),M.scaleImageCoverParent(a,t,i)),"image"!=c&&(1==L.hasImageContainer?M.scaleImageCoverParent(o,t,i):"effect"==c?(M.scaleImageCoverParent(o,t,i),null!==l&&M.placeElement(o,0,l)):M.cloneElementSizeAndPos(a,o,!1,null,l))}}function w(e,t,i,n){var r=null;if(i&&(r=i-L.tileInnerReduce),n&&(n-=L.tileInnerReduce),"clone"==t)return e.data("objTextPanelClone").refresh(!0,!0,r),!(C.getItemByTile(e).textPanelCloneSizeSet=!0);var o=l(e);if(!o)return!1;var a=null;if(1==L.isTextpanelOutside&&(a=m(e)),o.refresh(!1,!0,r,a),1==z.tile_textpanel_always_on||"fade"==z.tile_textpanel_appear_type)if(1==L.isTextpanelOutside&&n&&"bottom"==z.tile_textpanel_position){var s=n-a;o.positionPanel(s)}else o.positionPanel()}function u(e){var t=(C.getItemByTile(e),b(e)),i=v(e),n=M.getElementSize(e);y(e,n.width,n.height),1==z.tile_enable_textpanel&&w(e,"regular",n.width,n.height);var r=n.width-L.tileInnerReduce,o=n.height-L.tileInnerReduce,a=0;if(1==L.isTextpanelOutside){var s=m(e);o-=s,"top"==z.tile_textpanel_position&&(a=s)}var l=e.children(".ug-thumb-overlay");if(M.setElementSizeAndPosition(l,0,a,r,o),t||i){var u=0;if(1==z.tile_enable_textpanel&&0==L.isTextPanelHidden&&0==L.isTextpanelOutside){var d=T(e),c=M.getElementSize(d);0<c.height&&(u=Math.floor(c.height/2*-1))}}if(t&&i){var g=M.getElementSize(t),_=M.getElementSize(i),h=z.tile_space_between_icons,p=g.width+h+_.width,f=Math.floor((n.width-p)/2);f<h&&(h=Math.floor((n.width-g.width-_.width)/3),p=g.width+h+_.width,f=Math.floor((n.width-p)/2)),M.placeElement(t,f,"middle",0,u),M.placeElement(i,f+g.width+h,"middle",0,u)}else t&&M.placeElement(t,"center","middle",0,u),i&&M.placeElement(i,"center","middle",0,u);t&&t.show(),i&&i.show()}function d(e,t){var i=(C.getItemByTile(e),g(e)),n=z.thumb_transition_duration;if(0==z.tile_image_effect_reverse){var r=C.getTileImage(e);t?(r.fadeTo(0,1),i.stop(!0).fadeTo(n,0)):i.stop(!0).fadeTo(n,1)}else t?i.stop(!0).fadeTo(n,1):i.stop(!0).fadeTo(n,0)}function c(e,t){var i=z.thumb_transition_duration,n=T(e);if(!n)return!0;if("slide"==z.tile_textpanel_appear_type){var r=M.getElementSize(n);if(0==r.width)return!1;var o=-r.height,a={},s={},l="bottom";"inside_top"==z.tile_textpanel_position&&(l="top"),a[l]=o+"px",s[l]="0px",1==t?(n.fadeTo(0,1),0==n.is(":animated")&&n.css(a),s.opacity=1,n.stop(!0).animate(s,i)):n.stop(!0).animate(a,i)}else 1==t?n.stop(!0).fadeTo(i,1):n.stop(!0).fadeTo(i,0)}function _(e,t,i){var n=z.thumb_transition_duration;i&&!0===i&&(n=0);var r=b(e),o=v(e),a=t?1:0;r&&r.stop(!0).fadeTo(n,a),o&&o.stop(!0).fadeTo(n,a)}function e(e,t){if(t=jQuery(t),z.tile_enable_image_effect&&d(t,!0),1==z.tile_enable_textpanel&&0==z.tile_textpanel_always_on&&0==L.isTextPanelHidden&&c(t,!0),L.isSaparateIcons&&1==z.tile_enable_icons){var i=1==z.thumb_overlay_reverse;0==s(C.getItemByTile(t))&&_(t,i,!1)}}function i(e,t){if(t=jQuery(t),z.tile_enable_image_effect&&d(t,!1),1==z.tile_enable_textpanel&&0==z.tile_textpanel_always_on&&c(t,!1),1==L.isSaparateIcons&&1==z.tile_enable_icons){var i=1!=z.thumb_overlay_reverse;0==s(C.getItemByTile(t))?_(t,i,!1):_(t,!0,!0)}}function h(e,t,i){return t=jQuery(t),1==z.tile_visible_before_image&&!0!==t.data("image_placed")&&!0!==i||(u(t),void O.setThumbNormalStyle(t))}function p(e,t,i){u(t),i.fadeTo(0,1),t.data("image_placed",!0)}function f(e){return 1==a(e)?(j.trigger(C.events.TILE_CLICK,e),!0):void(0==r(e)&&(t=e,O.getThumbs().not(t).each(function(e,t){O.setThumbNormalStyle(jQuery(t))}),O.setThumbOverStyle(e)));var t}function I(e){var t=jQuery(this),i=t.prop("tagName").toLowerCase(),n=!0;if(L.funcParentApproveClick&&0==L.funcParentApproveClick()&&(n=!1),"a"==i)0==n&&e.preventDefault();else if(0==r(t))1==n&&f(t);else{if(0==a(t))return!0;1==n&&j.trigger(C.events.TILE_CLICK,t)}}function E(e){e.stopPropagation();var t=jQuery(this).parents(".ug-tile"),i=!0;return L.funcParentApproveClick&&0==L.funcParentApproveClick()&&(i=!1),0==r(t)?(f(t),!0):1==i?(j.trigger(C.events.TILE_CLICK,t),!1):void 0}function S(e){var t=jQuery(this).parents(".ug-tile");L.funcParentApproveClick&&0==L.funcParentApproveClick()&&e.preventDefault(),0==r(t)&&0==z.tile_as_link&&(e.preventDefault(),f(t))}var x,P,C=this,j=jQuery(this),A=new UniteGalleryMain,M=new UGFunctions,O=new UGThumbsGeneral;this.resizemode={FULL:"full",WRAPPER_ONLY:"wrapper_only",VISIBLE_ELEMENTS:"visible_elements"},this.sizeby={GLOBAL_RATIO:"global_ratio",TILE_RATIO:"tile_ratio",IMAGE_RATIO:"image_ratio",CUSTOM:"custom"},this.events={TILE_CLICK:"tile_click"};var z={tile_width:250,tile_height:200,tile_size_by:C.sizeby.IMAGE_RATIO,tile_visible_before_image:!1,tile_enable_background:!0,tile_background_color:"#F0F0F0",tile_enable_border:!1,tile_border_width:3,tile_border_color:"#F0F0F0",tile_border_radius:0,tile_enable_outline:!1,tile_outline_color:"#8B8B8B",tile_enable_shadow:!1,tile_shadow_h:1,tile_shadow_v:1,tile_shadow_blur:3,tile_shadow_spread:2,tile_shadow_color:"#8B8B8B",tile_enable_action:!0,tile_as_link:!1,tile_link_newpage:!0,tile_enable_overlay:!0,tile_overlay_opacity:.4,tile_overlay_color:"#000000",tile_enable_icons:!0,tile_show_link_icon:!1,tile_videoplay_icon_always_on:"never",tile_space_between_icons:26,tile_enable_image_effect:!1,tile_image_effect_type:"bw",tile_image_effect_reverse:!1,tile_enable_textpanel:!1,tile_textpanel_source:"title",tile_textpanel_always_on:!1,tile_textpanel_appear_type:"slide",tile_textpanel_position:"inside_bottom",tile_textpanel_offset:0},k={thumb_color_overlay_effect:!0,thumb_overlay_reverse:!0,thumb_image_overlay_effect:!1,tile_textpanel_enable_description:!1,tile_textpanel_bg_opacity:.6,tile_textpanel_padding_top:8,tile_textpanel_padding_bottom:8},L={ratioByHeight:0,ratioByWidth:0,eventSizeChange:"thumb_size_change",funcCustomTileHtml:null,funcCustomPositionElements:null,funcParentApproveClick:null,isSaparateIcons:!1,tileInnerReduce:0,isTextpanelOutside:!1,hasImageContainer:!1,isVideoplayIconAlwaysOn:!1,isTextPanelHidden:!1};this.loadTileImage=function(i){var e=C.getTileImage(i);M.checkImagesLoaded(e,null,function(e,t){p(0,i,jQuery(e))})},this.setHtml=function(e){x=e,t(),O.setHtmlThumbs(e)},this.initEvents=function(){O.initEvents(),jQuery(O).on(O.events.SETOVERSTYLE,e),jQuery(O).on(O.events.SETNORMALSTYLE,i),jQuery(O).on(O.events.PLACEIMAGE,p),P.on(L.eventSizeChange,h),x.delegate(".ug-tile .ug-button-play","click",E),x.delegate(".ug-tile","click",I),x.delegate(".ug-tile .ug-icon-link","click",S)},this.destroy=function(){if(jQuery(O).off(O.events.SETOVERSTYLE),jQuery(O).off(O.events.SETNORMALSTYLE),jQuery(O).off(O.events.PLACEIMAGE),P.off(L.eventSizeChange),1==z.tile_enable_textpanel){var e=O.getThumbs();jQuery.each(e,function(e,t){var i=l(jQuery(t));i&&i.destroy()})}O.destroy()},this.init=function(e,t,i){n(e,t)},this.setFixedMode=function(){z.tile_size_by=C.sizeby.GLOBAL_RATIO,z.tile_visible_before_image=!0},this.setApproveClickFunction=function(e){L.funcParentApproveClick=e},this.resizeTile=function(e,t,i,n){if(1==L.isTextpanelOutside&&w(e,"clone",t),t){if(!i)i=C.getTileHeightByWidth(t,e,"resizeTile")}else t=z.tile_width,i=z.tile_height;switch(M.setElementSize(e,t,i),n){default:case C.resizemode.FULL:C.triggerSizeChangeEvent(e,!0);break;case C.resizemode.WRAPPER_ONLY:return!0;case C.resizemode.VISIBLE_ELEMENTS:if(L.funcCustomTileHtml)return C.triggerSizeChangeEvent(e,!0),!0;y(e,t,i,!0),1==z.tile_enable_textpanel&&1==z.tile_textpanel_always_on&&t&&w(e,"regular",t,i)}},this.resizeAllTiles=function(i,n){t();var r=null;z.tile_size_by==C.sizeby.GLOBAL_RATIO&&(r=C.getTileHeightByWidth(i,null,"resizeAllTiles")),O.getThumbs().each(function(e,t){C.resizeTile(jQuery(t),i,r,n)})},this.triggerSizeChangeEvent=function(e,t){if(!e)return!1;if(!t)t=!1;P.trigger(L.eventSizeChange,[e,t])},this.triggerSizeChangeEventAllTiles=function(t){O.getThumbs().each(function(){var e=jQuery(this);C.triggerSizeChangeEvent(e,t)})},this.disableEvents=function(){O.getThumbs().css("pointer-events","none")},this.enableEvents=function(){O.getThumbs().css("pointer-events","auto")},this.setOptions=function(e){z=jQuery.extend(z,e),O.setOptions(e)},this.setTileSizeOptions=function(e){if(z.tile_size_by!==C.sizeby.GLOBAL_RATIO)throw new Error("setNewTileOptions works with global ration only");z.tile_width=e,z.tile_height=Math.floor(e*L.ratioByHeight)},this.setCustomFunctions=function(e,t){L.funcCustomTileHtml=e,L.funcCustomPositionElements=t},this.run=function(){var e=O.getThumbs();z.tile_size_by==C.sizeby.GLOBAL_RATIO&&C.resizeAllTiles(z.tile_width,C.resizemode.WRAPPER_ONLY),1==z.tile_enable_image_effect&&0==z.tile_image_effect_reverse&&e.children(".ug-thumb-image").fadeTo(0,0),O.setHtmlProperties(),1==z.tile_visible_before_image&&(e.children(".ug-thumb-image").fadeTo(0,0),O.loadThumbsImages())},this._____________EXTERNAL_GETTERS____________=function(){},this.getObjThumbs=function(){return O},this.getOptions=function(){return z},this.getTileImage=function(e){return e.find("img.ug-thumb-image")},this.getItemByTile=function(e){return O.getItemByThumb(e)},this.getTileHeightByWidth=function(e,t,i){var n=function(e,t){var i=L.ratioByHeight;switch(z.tile_size_by){default:i=L.ratioByHeight;break;case C.sizeby.IMAGE_RATIO:if(!e)throw new Error("tile should be given for tile ratio");var n=C.getItemByTile(e);if(void 0!==n.thumbRatioByHeight){if(0==n.thumbRatioByHeight)throw trace(n),new Error("the item ratio not inited yet");i=n.thumbRatioByHeight}break;case C.sizeby.CUSTOM:return null}return i}(t);if(null===n)return null;var r=Math.floor((e-L.tileInnerReduce)*n)+L.tileInnerReduce;return t&&1==L.isTextpanelOutside&&z.tile_size_by==C.sizeby.IMAGE_RATIO&&(r+=m(t)),r},this.getTileImageSize=function(e){var t=C.getItemByTile(e);if(!t.thumbWidth||!t.thumbHeight)throw new Error("Can't get image size - image not inited.");return{width:t.thumbWidth,height:t.thumbHeight}},this.getGlobalTileSize=function(){if(z.tile_size_by!=C.sizeby.GLOBAL_RATIO)throw new Error("The size has to be global ratio");return{width:z.tile_width,height:z.tile_height}}}function UGAviaControl(){function t(e){jQuery("body").on("touchstart",function(e){return 0==_.isControlEnabled||void(_.touchEnabled=!0)}),jQuery("body").mousemove(function(e){if(0==_.isControlEnabled)return!0;if(1==_.touchEnabled)return jQuery("body").off("mousemove"),!0;_.isMouseInsideStrip=d.ismouseover();var t,i,n,r=l.isTouchMotionActive();if(1==_.isMouseInsideStrip&&0==r){var o=(n=e,0==u?n.pageX:n.pageY);i=o,null!==(t=0==u?function(e){var t=g.strip_padding_left,i=g.strip_padding_right,n=d.width()-t-i,r=c.width();if(r<n)return null;var o=d.offset().left,a=e-o-t,s=g.thumb_width,l=n-g.thumb_width;a<s&&(a=s),l<a&&(a=l);var u=(a-s)/(l-s)*(r-n);return u=-1*Math.round(u)+t}(i):function(e){var t=g.strip_padding_top,i=(g.strip_padding_bottom,d.height()),n=c.height();if(n<i)return null;var r=d.offset().top,o=e-r-t;if(o<0)return null;var a=g.thumb_height,s=i-g.thumb_height;o<a&&(o=a),s<o&&(o=s);var l=(o-a)/(s-a)*(n-i);return l=-1*Math.round(l)+t}(i))&&(_.is_strip_moving=!0,_.strip_finalPos=t,1!=_.isStripMoving&&(_.isStripMoving=!0,_.handle_timeout=setInterval(a,10)))}else s()})}function a(){if(0==_.is_strip_moving)return!1;var e=l.getInnerStripPos();Math.floor(e)==Math.floor(_.strip_finalPos)&&s();var t,i=Math.abs(_.strip_finalPos-e);i<1?t=i:0<(t=i/4)&&t<1&&(t=1),_.strip_finalPos<e&&(t*=-1);var n=e+t;l.positionInnerStrip(n)}function s(){return 0!=_.isStripMoving&&(_.isStripMoving=!1,void(_.handle_timeout=clearInterval(_.handle_timeout)))}var l,i,d,c,g,u,_={touchEnabled:!1,isMouseInsideStrip:!1,strip_finalPos:0,handle_timeout:"",isStripMoving:!1,isControlEnabled:!0};this.enable=function(){_.isControlEnabled=!0},this.disable=function(){_.isControlEnabled=!1},this.init=function(e){i=(l=e).getObjects(),i.g_gallery,d=i.g_objStrip,c=i.g_objStripInner,g=i.g_options,u=i.isVertical,t()},this.destroy=function(){jQuery("body").off("touchstart"),jQuery("body").off("mousemove")}}function UGSlider(){function n(e,t,i){ie=e,i&&($=i,t=se.convertCustomPrefixOptions(t,$,"slider")),W=jQuery(e);var n,r,o=ie.getObjects();if(Q=o.g_objWrapper,o.g_objThumbs,t.hasOwnProperty("slider_progress_indicator_type")&&(de.slider_progress_indicator_type=t.slider_progress_indicator_type),"bar"==de.slider_progress_indicator_type&&(de=jQuery.extend(de,ce)),t&&ee.setOptions(t),n=ie.getOptions(),r=n.gallery_skin,""==de.slider_bullets_skin&&(de.slider_bullets_skin=r),""==de.slider_arrows_skin&&(de.slider_arrows_skin=r),""==de.slider_zoompanel_skin&&(de.slider_zoompanel_skin=r),""==de.slider_play_button_skin&&(de.slider_play_button_skin=r),""==de.slider_fullscreen_button_skin&&(de.slider_fullscreen_button_skin=r),de.video_enable_closebutton=de.slider_video_enable_closebutton,"zoom"!=n.gallery_mousewheel_role&&(de.slider_zoom_mousewheel=!1),1==de.slider_enable_bullets){oe=new UGBullets;var a={bullets_skin:de.slider_bullets_skin,bullets_space_between:de.slider_bullets_space_between};oe.init(ie,a)}de.slider_enable_text_panel&&(ue=new UGTextPanel).init(ie,de,"slider"),de.slider_enable_zoom_panel&&(J=new UGZoomButtonsPanel).init(ee,de);var s=ie.getGalleryID();ae.init(de,!1,s)}function e(){if(1==ge.isRunOnce)return!1;if(ge.isRunOnce=!0,de.slider_background_color){var e=de.slider_background_color;1!=de.slider_background_opacity&&(e=se.convertHexToRGB(e,de.slider_background_opacity)),F.css("background-color",e)}else 1!=de.slider_background_opacity&&(e=se.convertHexToRGB("#000000",de.slider_background_opacity),F.css("background-color",e));1==de.slider_control_swipe&&(Z=new UGTouchSliderControl).init(ee,de),1==de.slider_control_zoom&&(K=new UGZoomSliderControl).init(ee,de),ue&&ue.run(),W.on(ie.events.ITEM_IMAGE_UPDATED,k),W.on(ie.events.ITEM_CHANGE,E),oe&&jQuery(oe).on(oe.events.BULLET_CLICK,S),1==de.slider_enable_arrows&&(se.addClassOnHover(q,"ug-arrow-hover"),se.addClassOnHover(X,"ug-arrow-hover"),ie.setNextButton(q),ie.setPrevButton(X)),0==de.slider_controls_always_on&&F.hover(j,A),F.on("touchend click",x),te.on(ee.events.CLICK,P),ue&&1==ge.isTextPanelSaparateHover&&F.hover(s,a),ne&&(se.addClassOnHover(ne,"ug-button-hover"),ie.setPlayButton(ne)),re&&(se.addClassOnHover(re,"ug-button-hover"),ie.setFullScreenToggleButton(re)),K&&te.on(ee.events.ZOOM_CHANGE,C),J&&J.initEvents(),ae.initEvents(),jQuery(ae).on(ae.events.SHOW,O),jQuery(ae).on(ae.events.HIDE,z),H(Y),H(U),H(V),te.on(ee.events.AFTER_PUT_IMAGE,L),F.delegate(".ug-item-wrapper img","mouseenter",function(e){te.trigger(ee.events.IMAGE_MOUSEENTER)}),F.delegate(".ug-item-wrapper img","mouseleave",function(e){var t=ee.isMouseInsideSlideImage(e);0==t&&te.trigger(ee.events.IMAGE_MOUSELEAVE)})}function r(e,t){var i="ug-type-square";"round"==de.slider_videoplay_button_type&&(i="ug-type-round");var n="";return n+="<div class='ug-slide-wrapper ug-slide"+t+"'>",n+="<div class='ug-item-wrapper'></div>",n+="<div class='ug-slider-preloader "+e+"'></div>",(n+="<div class='ug-button-videoplay "+i+"' style='display:none'></div>")+"</div>"}function t(e){e&&(Q=e);var t=function(){var e;switch(de.slider_loader_type){default:case 1:e="ug-loader1";break;case 2:e="ug-loader2";break;case 3:e="ug-loader3";break;case 4:e="ug-loader4";break;case 5:e="ug-loader5";break;case 6:e="ug-loader6";break;case 7:e="ug-loader7";break;case 8:e="ug-loader8";break;case 9:e="ug-loader9"}return"black"==de.slider_loader_color&&(e+=" ug-loader-black"),e}(),i=(ie.getOptions(),"<div class='ug-slider-wrapper'>");(i+="<div class='ug-slider-inner'>",i+=r(t,1),i+=r(t,2),i+=r(t,3),i+="</div>",1==de.slider_enable_arrows&&(i+="<div class='ug-slider-control ug-arrow-left ug-skin-"+de.slider_arrows_skin+"'></div>",i+="<div class='ug-slider-control ug-arrow-right ug-skin-"+de.slider_arrows_skin+"'></div>"),1==de.slider_enable_play_button&&(i+="<div class='ug-slider-control ug-button-play ug-skin-"+de.slider_play_button_skin+"'></div>"),1==de.slider_enable_fullscreen_button&&(i+="<div class='ug-slider-control ug-button-fullscreen ug-skin-"+de.slider_fullscreen_button_skin+"'></div>"),i+="</div>",Q.append(i),F=Q.children(".ug-slider-wrapper"),B=F.children(".ug-slider-inner"),Y=B.children(".ug-slide1"),U=B.children(".ug-slide2"),V=B.children(".ug-slide3"),Y.data("slidenum",1),U.data("slidenum",2),V.data("slidenum",3),oe&&oe.appendHTML(F),1==de.slider_enable_arrows&&(X=F.children(".ug-arrow-left"),q=F.children(".ug-arrow-right")),1==de.slider_enable_play_button&&(ne=F.children(".ug-button-play")),1==de.slider_enable_fullscreen_button&&(re=F.children(".ug-button-fullscreen")),1==de.slider_enable_progress_indicator)&&("bar"==(le=se.initProgressIndicator(de.slider_progress_indicator_type,de,F)).getType()&&"pie"==de.slider_progress_indicator_type&&(de.slider_progress_indicator_type="bar",de=jQuery.extend(de,ce)),ie.setProgressIndicator(le));1==de.slider_enable_text_panel&&(ue.appendHTML(F),0==de.slider_textpanel_always_on)&&(ue.getElement().hide().data("isHidden",!0),ge.isTextPanelSaparateHover=!0);1==de.slider_enable_zoom_panel&&J.appendHTML(F),ae.setHtml(B)}function i(e){var t=R(e);se.placeElementInParentCenter(t);var i=D(e);se.placeElementInParentCenter(i)}function d(){if(oe&&(objBullets=oe.getElement(),se.placeElement(objBullets,de.slider_bullets_align_hor,de.slider_bullets_align_vert,de.slider_bullets_offset_hor,de.slider_bullets_offset_vert),se.placeElement(objBullets,de.slider_bullets_align_hor,de.slider_bullets_align_vert,de.slider_bullets_offset_hor,de.slider_bullets_offset_vert)),1==de.slider_enable_arrows&&(se.placeElement(X,de.slider_arrow_left_align_hor,de.slider_arrow_left_align_vert,de.slider_arrow_left_offset_hor,de.slider_arrow_left_offset_vert),se.placeElement(q,de.slider_arrow_right_align_hor,de.slider_arrow_left_align_vert,de.slider_arrow_right_offset_hor,de.slider_arrow_right_offset_vert)),0==de.slider_controls_always_on&&I(!0),le){var e=le.getElement();if("bar"==de.slider_progress_indicator_type){var t=F.width();le.setSize(t),se.placeElement(e,"left",de.slider_progress_indicator_align_vert,0,de.slider_progress_indicator_offset_vert)}else se.placeElement(e,de.slider_progress_indicator_align_hor,de.slider_progress_indicator_align_vert,de.slider_progress_indicator_offset_hor,de.slider_progress_indicator_offset_vert)}ue&&ue.positionPanel(),function(){if(ne&&se.placeElement(ne,de.slider_play_button_align_hor,de.slider_play_button_align_vert,de.slider_play_button_offset_hor,de.slider_play_button_offset_vert),re&&se.placeElement(re,de.slider_fullscreen_button_align_hor,de.slider_fullscreen_button_align_vert,de.slider_fullscreen_button_offset_hor,de.slider_fullscreen_button_offset_vert),J){var e=J.getElement();se.placeElement(e,de.slider_zoompanel_align_hor,de.slider_zoompanel_align_vert,de.slider_zoompanel_offset_hor,de.slider_zoompanel_offset_vert)}}(),i(Y),i(U),i(V),ie.isMobileMode()?(1==de.slider_fullscreen_button_mobilehide&&re&&re.hide(),1==de.slider_play_button_mobilehide&&ne&&ne.hide(),1==de.slider_zoompanel_mobilehide&&J&&J.getElement().hide()):(1==de.slider_fullscreen_button_mobilehide&&re&&re.show(),1==de.slider_play_button_mobilehide&&ne&&ne.show(),1==de.slider_zoompanel_mobilehide&&J&&J.getElement().show())}function c(){var e,t,i,n,r=ee.getSlidesReference(),o=0;i=ee.isSlideHasItem(r.objNextSlide),(n=ee.isSlideHasItem(r.objPrevSlide))?(o=r.objPrevSlide.outerWidth(),r.objPrevSlide.css("z-index",1)):r.objPrevSlide.hide(),e=t=o+r.objCurrentSlide.outerWidth(),i?(e=t+r.objNextSlide.outerWidth(),r.objPrevSlide.css("z-index",2)):r.objNextSlide.hide(),r.objCurrentSlide.css("z-index",3),se.placeElement(r.objCurrentSlide,o,0),B.css({left:-o+"px",width:e+"px"}),n&&(se.placeElement(r.objPrevSlide,0,0),se.showElement(r.objPrevSlide)),i&&(se.showElement(r.objNextSlide),se.placeElement(r.objNextSlide,t,0))}function g(e){var t=e.data("index");if(void 0===t||null==t)return!1;var i=ie.getItem(t);return!!i&&void f(e,i)}function _(e){e.stop(!0).hide(100)}function h(e,t,i){var n={};if(1==de.slider_image_border){n["border-style"]="solid";var r=function(e,t){if((a=de.slider_image_border_width)<=10)return a;var i=se.getElementSize(e),n=i.width,r=i.height;if(t&&(t.hasOwnProperty("imageWidth")&&(n=t.imageWidth),t.hasOwnProperty("imageHeight")&&(r=t.imageHeight)),n<=0)return a;var o=n<r?n:r;if(2*a/o<de.slider_image_border_maxratio)return a;var a=o*de.slider_image_border_maxratio/2;return Math.round(a)}(e,i);n["border-width"]=r+"px",n["border-color"]=de.slider_image_border_color,n["border-radius"]=de.slider_image_border_radius}"image"!=t&&1==de.slider_video_constantsize&&(n["background-color"]="#000000"),1==de.slider_image_shadow&&(n["box-shadow"]="3px 3px 10px 0px #353535"),e.css(n)}function p(e,t){var i=de.slider_video_constantsize_width,n=de.slider_video_constantsize_height,r=de.slider_video_constantsize_scalemode;return se.scaleImageExactSizeInParent(e,t.imageWidth,t.imageHeight,i,n,r)}function o(e,t,i){var n=e.children(".ug-item-wrapper"),r=R(e);if(void 0===t.urlImage||""==t.urlImage)throw new Error("The slide don't have big image defined ( data-image='imageurl' ). Please check gallery items.","showbig");var o=t.urlImage,a=e.data("urlImage");e.data("urlImage",o);var s=ee.getScaleMode(e),l=ee.getSlideType(e);if(objPadding=ee.getObjImagePadding(),a==o&&!0!==i){var u=n.children("img");(0==t.imageWidth||0==t.imageHeight)&&ie.checkFillImageSize(u,t);var d={};h(u,l,d="image"!=l&&1==de.slider_video_constantsize?p(u,t):se.scaleImageFitParent(u,t.imageWidth,t.imageHeight,s,objPadding)),te.trigger(ee.events.AFTER_PUT_IMAGE,e)}else if(u=se.placeImageInsideParent(o,n,t.imageWidth,t.imageHeight,s,objPadding),1==t.isBigImageLoaded){if(u.fadeTo(0,1),_(r),"image"!=l&&1==de.slider_video_constantsize)d=p(u,t);else d=se.getImageInsideParentData(n,t.imageWidth,t.imageHeight,s,objPadding);u.css("width",d.imageWidth+"px"),h(u,l,d),te.trigger(ee.events.AFTER_PUT_IMAGE,e)}else u.fadeTo(0,0),r.stop(!0).show(100),e.data("isLoading",!0),ee.isSlideCurrent(e)&&te.trigger(ee.events.CURRENTSLIDE_LOAD_START),u.data("itemIndex",t.index),u.on("load",function(){var e=jQuery(this),t=e.data("itemIndex");e.fadeTo(0,1);var i=e.parent().parent(),n=ee.getSlideType(i),r=R(i),o=ee.getObjImagePadding(),a=ee.getScaleMode(i);_(r),i.data("isLoading",!1),ee.isSlideCurrent(i)&&te.trigger(ee.events.CURRENTSLIDE_LOAD_END),ie.onItemBigImageLoaded(null,e);var s=ie.getItem(t),l={};"image"!=n&&1==de.slider_video_constantsize?p(e,s):l=se.scaleImageFitParent(e,s.imageWidth,s.imageHeight,a,o),e.fadeTo(0,1),h(e,n,l),te.trigger(ee.events.AFTER_PUT_IMAGE,i)})}function f(e,t){try{var i=e.children(".ug-item-wrapper");if(null==t)return i.html(""),e.removeData("index"),e.removeData("type"),e.removeData("urlImage"),!1;e.data("index"),e.data("index",t.index),e.data("type",t.type),1==de.slider_enable_links&&"image"==t.type&&(t.link?e.addClass("ug-slide-clickable"):e.removeClass("ug-slide-clickable")),o(e,t);var n=D(e);switch(t.type){case"image":n.hide();break;default:n.show()}}catch(e){throw void 0!==e.fileName&&"showbig"==e.fileName&&ie.showErrorMessageReplaceGallery(e.message),i.html(""),new Error(e)}}function a(){if(!ue)return!1;if(1==l())return!1;var e=ue.getElement(),t=0;(1==ge.isTextPanelSaparateHover||1==de.slider_textpanel_always_on)&&(t=de.slider_controls_appear_duration),e.stop().fadeTo(t,0),e.data("isHidden",!0)}function s(){if(!ue)return!1;if(0==l())return!1;var e=ue.getElement(),t=0;(1==ge.isTextPanelSaparateHover||1==de.slider_textpanel_always_on)&&(e.show(),ue.positionElements(),t=de.slider_controls_appear_duration),e.stop().show().fadeTo(t,1),e.data("isHidden",!1)}function l(){return!1!==ue.getElement().data("isHidden")}function m(){var e=ee.getCurrentSlide(),t=ee.getSlideImage(e),i=se.getElementSize(e),n=i.left,r=i.top;if(1==de.slider_video_constantsize){var o=se.getElementSize(t);n+=o.left,r+=o.top}else n+=de.slider_video_padding_left,r+=de.slider_video_padding_top;ae.setPosition(n,r)}function v(){var e=de.slider_video_constantsize_width,t=de.slider_video_constantsize_height;ae.setSize(e,t),h(ae.getObject(),"video")}function u(e,t,i){te.trigger(ee.events.TRANSITION_START);var n=de.slider_transition;switch(i&&(n=i),ee.stopSlideAction(null,!0),n){default:case"fade":y(t);break;case"slide":!function o(e,t){var i=ee.isAnimating();if(1==i)return ge.itemWaiting=t,!0;null!=ge.itemWaiting&&(ge.itemWaiting=null);var n=ee.getSlidesReference();switch(e){case"right":f(n.objPrevSlide,t),c();var r=se.getElementSize(n.objPrevSlide),a=-r.left;ee.switchSlideNums("right");break;case"left":f(n.objNextSlide,t),c();var s=se.getElementSize(n.objNextSlide),a=-s.left;ee.switchSlideNums("left");break;default:throw new Error("wrong direction: "+e)}var l=de.slider_transition_speed,u=de.slider_transition_easing,d={duration:l,easing:u,queue:!1,always:function(){if(ee.stopSlideAction(),ae.hide(),null!=ge.itemWaiting){var e=(t=ge.itemWaiting,i=ee.getSlidesReference().objCurrentSlide.data("index"),n=t.index,r="left",n<i&&(r="right"),r);o(e,ge.itemWaiting)}else ee.placeNabourItems(),te.trigger(ee.events.TRANSITION_END);var t,i,n,r}};B.animate({left:a+"px"},d)}(e,t);break;case"lightbox_open":y(t,!1,!0)}}function b(e,t,i){i?e.fadeTo(de.slider_transition_speed,t,i):e.fadeTo(de.slider_transition_speed,t)}function y(e,t,i){if(!t)t=!1;var n=ee.getSlidesReference();f(n.objNextSlide,e);var r=se.getElementSize(n.objCurrentSlide);se.placeElement(n.objNextSlide,r.left,r.top);var o=ge.numCurrent;if(ge.numCurrent=ge.numNext,ge.numNext=o,te.trigger(ee.events.ITEM_CHANGED),n.objNextSlide.stop(!0),n.objCurrentSlide.stop(!0),1==t)n.objCurrentSlide.fadeTo(0,0),n.objNextSlide.fadeTo(0,1),ee.placeNabourItems(),te.trigger(ee.events.TRANSITION_END),!0!==i&&ae.hide();else{if(n.objNextSlide.fadeTo(0,0),b(n.objCurrentSlide,0,function(){ee.placeNabourItems(),te.trigger(ee.events.TRANSITION_END),!0!==i&&ae.hide()}),1==ae.isVisible())b(ae.getObject(),0);b(n.objNextSlide,1)}}function w(){return F.children(".ug-slider-control")}function I(e){if(0==se.isTimePassed("sliderControlsToggle"))return!1;if(0==ge.isControlsVisible)return!1;if(!e)e=!1;var t=w();!0===e?t.stop().fadeTo(0,0).hide():t.stop().fadeTo(de.slider_controls_appear_duration,0,function(){t.hide()}),ge.isControlsVisible=!1}function T(e){if(0==se.isTimePassed("sliderControlsToggle"))return!1;if(1==ge.isControlsVisible)return!0;if(!e)e=!1;var t=w();!0===e?t.stop().show():(t.stop().show().fadeTo(0,0),t.fadeTo(de.slider_controls_appear_duration,1)),ge.isControlsVisible=!0}function E(e,t,i){var n=ie.getSelectedItem();ee.setItem(n,!1,i);var r=n.index;oe&&oe.setActive(r),ue&&0==ge.isTextPanelSaparateHover&&s(),function(e){if(e==ge.currentControlsMode)return;switch(e){case"image":J&&J.getElement().show();break;case"video":J&&J.getElement().hide();break;default:throw new Error("wrong controld mode: "+e)}ge.currentControlsMode=e}("image"==n.type?"image":"video")}function S(e,t){ie.selectItem(t)}function x(e){return!(!Z||0!=Z.isTapEventOccured(e))||void te.trigger(ee.events.CLICK,e)}function P(){var e=ee.getCurrentSlide().hasClass("ug-slide-clickable"),t=ee.getCurrentItem();return e?(0==de.slider_links_newpage?location.href=t.link:window.open(t.link,"_blank"),!0):void(0==de.slider_controls_always_on&&1==de.slider_controls_appear_ontap&&1==ee.isCurrentSlideType("image")&&(0==ge.isControlsVisible?T():I(),ue&&1==de.slider_textpanel_always_on&&ee.isCurrentSlideType("image")&&ee.isCurrentSlideImageFit()&&s()))}function C(e){ue&&ee.isCurrentSlideType("image")&&0==ee.isCurrentSlideImageFit()&&a()}function j(){T()}function A(){I()}function M(e){var t=e.parent();ee.startSlideAction(t)}function O(){ie.isPlayMode()&&ie.pausePlaying(),te.trigger(ee.events.ACTION_START)}function z(){ie.isPlayMode()&&ie.continuePlaying(),te.trigger(ee.events.ACTION_END)}function k(e,t,i){Y.data("index")==t&&(objItem=ie.getItem(t),o(Y,objItem,!0)),U.data("index")==t&&(objItem=ie.getItem(t),o(U,objItem,!0)),V.data("index")==t&&(objItem=ie.getItem(t),o(V,objItem,!0))}function L(e,t){t=jQuery(t);var i=ee.getSlideImage(t),n=D(t),r=se.getElementSize(i);se.placeElement(n,"center","middle",r.left,r.top,i)}function H(e){var t=D(e);se.addClassOnHover(t),se.setButtonOnClick(t,M)}function N(e){switch(e){case 1:return Y;case 2:return U;case 3:return V;default:throw new Error("wrong num: "+e)}}function R(e){if(!e)e=ee.getCurrentSlide();return e.children(".ug-slider-preloader")}function D(e){return e.children(".ug-button-videoplay")}function G(e){if(!e)e=ee.getCurrentSlide();var t=e.data("index");return null==t?null:ie.getItem(t)}var W,Q,F,B,Y,U,V,X,q,Z,K,J,$,ee=this,te=jQuery(ee),ie=new UniteGalleryMain,ne=null,re=null,oe=null,ae=new UGVideoPlayer,se=new UGFunctions,le=null,ue=null,de={slider_scale_mode:"fill",slider_scale_mode_media:"fill",slider_scale_mode_fullscreen:"down",slider_item_padding_top:0,slider_item_padding_bottom:0,slider_item_padding_left:0,slider_item_padding_right:0,slider_background_color:"",slider_background_opacity:1,slider_image_padding_top:0,slider_image_padding_bottom:0,slider_image_padding_left:0,slider_image_padding_right:0,slider_image_border:!(this.events={ITEM_CHANGED:"item_changed",BEFORE_SWITCH_SLIDES:"before_switch",BEFORE_RETURN:"before_return",AFTER_RETURN:"after_return",ZOOM_START:"slider_zoom_start",ZOOM_END:"slider_zoom_end",ZOOMING:"slider_zooming",ZOOM_CHANGE:"slider_zoom_change",START_DRAG:"start_drag",AFTER_DRAG_CHANGE:"after_drag_change",ACTION_START:"action_start",ACTION_END:"action_end",CLICK:"slider_click",TRANSITION_START:"slider_transition_start",TRANSITION_END:"slider_transition_end",AFTER_PUT_IMAGE:"after_put_image",IMAGE_MOUSEENTER:"slider_image_mouseenter",IMAGE_MOUSELEAVE:"slider_image_mouseleave",CURRENTSLIDE_LOAD_START:"slider_current_loadstart",CURRENTSLIDE_LOAD_END:"slider_current_loadend"}),slider_image_border_width:10,slider_image_border_color:"#ffffff",slider_image_border_radius:0,slider_image_border_maxratio:.35,slider_image_shadow:!1,slider_video_constantsize:!1,slider_video_constantsize_scalemode:"fit",slider_video_constantsize_width:854,slider_video_constantsize_height:480,slider_video_padding_top:0,slider_video_padding_bottom:0,slider_video_padding_left:0,slider_video_padding_right:0,slider_video_enable_closebutton:!0,slider_transition:"slide",slider_transition_speed:300,slider_transition_easing:"easeInOutQuad",slider_control_swipe:!0,slider_control_zoom:!0,slider_zoom_mousewheel:!0,slider_vertical_scroll_ondrag:!1,slider_loader_type:1,slider_loader_color:"white",slider_enable_links:!0,slider_links_newpage:!1,slider_enable_bullets:!1,slider_bullets_skin:"",slider_bullets_space_between:-1,slider_bullets_align_hor:"center",slider_bullets_align_vert:"bottom",slider_bullets_offset_hor:0,slider_bullets_offset_vert:10,slider_enable_arrows:!0,slider_arrows_skin:"",slider_arrow_left_align_hor:"left",slider_arrow_left_align_vert:"middle",slider_arrow_left_offset_hor:20,slider_arrow_left_offset_vert:0,slider_arrow_right_align_hor:"right",slider_arrow_right_align_vert:"middle",slider_arrow_right_offset_hor:20,slider_arrow_right_offset_vert:0,slider_enable_progress_indicator:!0,slider_progress_indicator_type:"pie",slider_progress_indicator_align_hor:"right",slider_progress_indicator_align_vert:"top",slider_progress_indicator_offset_hor:10,slider_progress_indicator_offset_vert:10,slider_enable_play_button:!0,slider_play_button_skin:"",slider_play_button_align_hor:"left",slider_play_button_align_vert:"top",slider_play_button_offset_hor:40,slider_play_button_offset_vert:8,slider_play_button_mobilehide:!1,slider_enable_fullscreen_button:!0,slider_fullscreen_button_skin:"",slider_fullscreen_button_align_hor:"left",slider_fullscreen_button_align_vert:"top",slider_fullscreen_button_offset_hor:11,slider_fullscreen_button_offset_vert:9,slider_fullscreen_button_mobilehide:!1,slider_enable_zoom_panel:!0,slider_zoompanel_skin:"",slider_zoompanel_align_hor:"left",slider_zoompanel_align_vert:"top",slider_zoompanel_offset_hor:12,slider_zoompanel_offset_vert:92,slider_zoompanel_mobilehide:!1,slider_controls_always_on:!1,slider_controls_appear_ontap:!0,slider_controls_appear_duration:300,slider_enable_text_panel:!0,slider_textpanel_always_on:!0,slider_videoplay_button_type:"square"},ce={slider_progress_indicator_align_hor:"left",slider_progress_indicator_align_vert:"bottom",slider_progress_indicator_offset_hor:0,slider_progress_indicator_offset_vert:0},ge={isRunOnce:!1,isTextPanelSaparateHover:!1,numPrev:1,numCurrent:2,numNext:3,isControlsVisible:!0,currentControlsMode:"image"};this.switchSlideNums=function(e){switch(te.trigger(ee.events.BEFORE_SWITCH_SLIDES),e){case"left":var t=ge.numCurrent;ge.numCurrent=ge.numNext,ge.numNext=ge.numPrev,ge.numPrev=t;break;case"right":t=ge.numCurrent;ge.numCurrent=ge.numPrev,ge.numPrev=ge.numNext,ge.numNext=t;break;default:throw new Error("wrong direction: "+e)}te.trigger(ee.events.ITEM_CHANGED)},this.destroy=function(){te.off(ee.events.AFTER_PUT_IMAGE),W.off(ie.events.ITEM_IMAGE_UPDATED),W.off(ie.events.ITEM_CHANGE),oe&&jQuery(oe).on(oe.events.BULLET_CLICK),F.off("mouseenter"),F.off("mouseleave"),F.off("touchend"),F.off("click"),te.off(ee.events.CLICK),K&&te.off(ee.events.ZOOM_CHANGE),te.off(ee.events.BEFORE_SWITCH_SLIDES),jQuery(ae).off(ae.events.SHOW),jQuery(ae).off(ae.events.HIDE),ae.destroy(),F.undelegate(".ug-item-wrapper img","mouseenter"),F.undelegate(".ug-item-wrapper img","mouseleave")},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(e,t,i){n(e,t,i)},this.getSlideImage=function(e){if(!e)e=ee.getCurrentSlide();return e.find(".ug-item-wrapper img")},this.setHtml=function(e){t(e)},this.run=function(){e()},this.isInnerInPlace=function(){var e=ee.getSlidesReference();return-se.getElementSize(e.objCurrentSlide).left==se.getElementSize(B).left},this.isAnimating=function(){return B.is(":animated")},this.isSlideCurrent=function(e){var t=e.data("slidenum");return ge.numCurrent==t},this.isSlideHasItem=function(e){var t=e.data("index");return null!=t},this.getObjImagePadding=function(){return{padding_top:de.slider_image_padding_top,padding_bottom:de.slider_image_padding_bottom,padding_left:de.slider_image_padding_left,padding_right:de.slider_image_padding_right}},this.getSlidesReference=function(){return{objPrevSlide:N(ge.numPrev),objNextSlide:N(ge.numNext),objCurrentSlide:N(ge.numCurrent)}},this.getCurrentSlide=function(){return ee.getSlidesReference().objCurrentSlide},this.getCurrentItemIndex=function(){var e=ee.getSlidesReference().objCurrentSlide.data("index");return null==e&&(e=-1),e},this.getCurrentItem=function(){var e=ee.getCurrentItemIndex();return-1==e?null:ie.getItem(e)},this.getSlideType=function(e){return null==e&&(e=ee.getCurrentSlide()),e.data("type")},this.isMouseInsideSlideImage=function(e){var t=ee.getSlideImage(),i=se.getMousePosition(e);void 0===i.pageX&&(i=Z.getLastMousePos());var n=se.getMouseElementPoint(i,t),r=se.getElementSize(t);return isMouseInside=se.isPointInsideElement(n,r),isMouseInside},this.isCurrentSlideType=function(e){return ee.getSlideType()==e},this.isCurrentSlideLoadingImage=function(){return!0===ee.getCurrentSlide().data("isLoading")},this.setItem=function(e,t,i){var n=ee.getSlidesReference(),r=n.objCurrentSlide.data("index"),o=e.index;if(o==r)return!0;if(null==r)f(n.objCurrentSlide,e),ee.placeNabourItems();else{var a="left";ie.getNumItems(),"next"==i?a="left":"prev"==i||o<r?a="right":o<r&&(a="right"),u(a,e,t)}},this.placeNabourItems=function(){var e=ee.getSlidesReference(),t=e.objCurrentSlide.data("index"),i=ie.getPrevItem(t),n=ie.getNextItem(t);f(e.objNextSlide,n),f(e.objPrevSlide,i),c()},this.________EXTERNAL_API___________=function(){},this.stopSlideAction=function(e,t){e||(e=ee.getCurrentSlide()),!0===t?ae.pause():ae.hide()},this.startSlideAction=function(e){e||(e=ee.getCurrentSlide());var t=G(e);if("image"==t.type)return!0;switch(1==de.slider_video_constantsize&&v(),m(),ae.show(),t.type){case"youtube":ae.playYoutube(t.videoid);break;case"vimeo":ae.playVimeo(t.videoid);break;case"html5video":ae.playHtml5Video(t.videoogv,t.videowebm,t.videomp4,t.urlImage);break;case"soundcloud":ae.playSoundCloud(t.trackid);break;case"wistia":ae.playWistia(t.videoid)}},this.getScaleMode=function(e){if(!e)e=ee.getCurrentSlide();return"image"!=ee.getSlideType(e)?de.slider_scale_mode_media:de.slider_scale_mode==de.slider_scale_mode_fullscreen?de.slider_scale_mode:1==ie.isFullScreen()?de.slider_scale_mode_fullscreen:de.slider_scale_mode},this.getObjects=function(){return{g_objSlider:F,g_objInner:B,g_options:de,g_objZoomSlider:K}},this.getObjZoom=function(){return K},this.getOptions=function(){return de},this.getElement=function(){return F},this.getVideoObject=function(){return ae},this.isCurrentSlideImageFit=function(){var e=ee.getCurrentSlide();ee.getSlideType(e),function(e,t){null==t&&(t=ee.getCurrentSlide());var i=ee.getSlideType(t);if(i!=e)throw new Error("Wrong slide type: "+i+", should be: "+e)}("image",e);var t=ee.getSlideImage(e);return 0!=t.length&&se.isImageFitParent(t)},this.isCurrentImageInPlace=function(){var e=ee.getSlideImage();if(0==e.length)return!1;var t=ee.getScaleMode(),i=ee.getObjImagePadding(),n=G(),r=e.parent(),o=se.getImageInsideParentData(r,n.imageWidth,n.imageHeight,t,i),a=se.getElementSize(e),s=!1;return o.imageWidth==a.width&&(s=!0),s},this.isSlideActionActive=function(){return ae.isVisible()},this.isSwiping=function(){return!!Z&&Z.isTouchActive()},this.isPreloading=function(){return!!R().is(":visible")},this.setOptions=function(e){$&&(e=se.convertCustomPrefixOptions(e,$,"slider")),de=jQuery.extend(de,e)},this.setSize=function(e,t){if(e<0||t<0)return!0;var i={};i.width=e+"px",i.height=t+"px",F.css(i);var n={};n.height=t+"px",n.top="0px",n.left="0px",B.css(n);var r={};r.height=t+"px",r.width=e+"px",Y.css(r),U.css(r),V.css(r);var o=e-de.slider_item_padding_left-de.slider_item_padding_right,a=t-de.slider_item_padding_top-de.slider_item_padding_bottom,s={};if(s.width=o+"px",s.height=a+"px",s.top=de.slider_item_padding_top+"px",s.left=de.slider_item_padding_left+"px",F.find(".ug-item-wrapper").css(s),ue&&ue.setSizeByParent(),d(),g(Y),g(U),g(V),c(),"image"!=ee.getSlideType()&&1==de.slider_video_constantsize)v();else{var l=e-de.slider_video_padding_left-de.slider_video_padding_right,u=t-de.slider_video_padding_top-de.slider_video_padding_bottom;ae.setSize(l,u)}m()},this.refreshSlideItems=function(){return 1==ee.isAnimating()||(g(Y),g(U),g(V),void c())},this.isMouseOver=function(){return F.ismouseover()},this.setPosition=function(e,t){se.placeElement(F,e,t)},this.zoomIn=function(){return!K||void K.zoomIn()},this.zoomOut=function(){return!K||void K.zoomOut()},this.zoomBack=function(){return!K||void K.zoomBack()}}function UGTextPanel(){function n(e,t){if(!t)t=f.textpanel_padding_top;var i=t;if(l){var n=i;h.placeElement(l,0,n);i=h.getElementSize(l).bottom}var r="";if(u&&(r=jQuery.trim(u.text())),""!=r){var o=i;l&&(o+=f.textpanel_padding_title_description),h.placeElement(u,0,o),i=h.getElementSize(u).bottom}f.textpanel_height||1!=m.setInternalHeight||function(e,t){if(!t)var t=!1;if(1==t){if(d){var i=d.height();i<e&&d.height(e)}var n={height:e+"px"};a.add(c).animate(n,f.textpanel_fade_duration)}else d&&d.height(e),a.add(c).height(e)}(i+f.textpanel_padding_bottom,e)}function r(){var e=0;if(l&&(e+=l.outerHeight()),u){var t="";u&&(t=jQuery.trim(u.text())),""!=t&&(l&&(e+=f.textpanel_padding_title_description),e+=u.outerHeight())}return e}function o(){if(1==f.textpanel_enable_bg){(d=a.children(".ug-textpanel-bg")).fadeTo(0,f.textpanel_bg_opacity);var e={"background-color":f.textpanel_bg_color};e=jQuery.extend(e,f.textpanel_bg_css),d.css(e)}if(1==f.textpanel_enable_title){l=c.children(".ug-textpanel-title");var t={};null!==f.textpanel_title_color&&(t.color=f.textpanel_title_color),null!==f.textpanel_title_font_family&&(t["font-family"]=f.textpanel_title_font_family),null!==f.textpanel_title_text_align&&(t["text-align"]=f.textpanel_title_text_align),null!==f.textpanel_title_font_size&&(t["font-size"]=f.textpanel_title_font_size+"px"),null!==f.textpanel_title_bold&&(!0===f.textpanel_title_bold?t["font-weight"]="bold":t["font-weight"]="normal"),f.textpanel_css_title&&(t=jQuery.extend(t,f.textpanel_css_title)),l.css(t)}if(1==f.textpanel_enable_description){u=c.children(".ug-textpanel-description");var i={};null!==f.textpanel_desc_color&&(i.color=f.textpanel_desc_color),null!==f.textpanel_desc_font_family&&(i["font-family"]=f.textpanel_desc_font_family),null!==f.textpanel_desc_text_align&&(i["text-align"]=f.textpanel_desc_text_align),null!==f.textpanel_desc_font_size&&(i["font-size"]=f.textpanel_desc_font_size+"px"),null!==f.textpanel_desc_bold&&(!0===f.textpanel_desc_bold?i["font-weight"]="bold":i["font-weight"]="normal"),f.textpanel_css_title&&(i=jQuery.extend(i,f.textpanel_css_description)),u.css(i)}}function e(){var e=g.getSelectedItem();_.setText(e.title,e.description)}var a,s,l,u,d,c,g,_=this,h=new UGFunctions,p="",f={textpanel_align:"bottom",textpanel_margin:0,textpanel_text_valign:"middle",textpanel_padding_top:10,textpanel_padding_bottom:10,textpanel_height:null,textpanel_padding_title_description:5,textpanel_padding_right:11,textpanel_padding_left:11,textpanel_fade_duration:200,textpanel_enable_title:!0,textpanel_enable_description:!0,textpanel_enable_bg:!0,textpanel_bg_color:"#000000",textpanel_bg_opacity:.4,textpanel_title_color:null,textpanel_title_font_family:null,textpanel_title_text_align:null,textpanel_title_font_size:null,textpanel_title_bold:null,textpanel_css_title:{},textpanel_desc_color:null,textpanel_desc_font_family:null,textpanel_desc_text_align:null,textpanel_desc_font_size:null,textpanel_desc_bold:null,textpanel_css_description:{},textpanel_desc_style_as_title:!1,textpanel_bg_css:{}},m={isFirstTime:!0,setInternalHeight:!0};this.positionElements=function(e){if(!f.textpanel_height||"top"==f.textpanel_text_valign)return n(e),!1;switch(f.textpanel_text_valign){default:case"top":n(!1);break;case"bottom":i=r(),n(!1,c.height()-i-f.textpanel_padding_bottom);break;case"center":case"middle":t=r(),n(!1,(c.height()-t)/2)}var t,i},this.init=function(e,t,i){if(g=e,i&&(p=i,t=h.convertCustomPrefixOptions(t,p,"textpanel")),t&&(f=jQuery.extend(f,t)),0==f.textpanel_enable_title&&0==f.textpanel_enable_description)throw new Error("Textpanel Error: The title or description must be enabled");f.textpanel_height&&f.textpanel_height<0&&(f.textpanel_height=null),1==f.textpanel_desc_style_as_title&&(f.textpanel_desc_color||(f.textpanel_desc_color=f.textpanel_title_color),f.textpanel_desc_bold||(f.textpanel_desc_bold=f.textpanel_title_bold),f.textpanel_desc_font_family||(f.textpanel_desc_font_family=f.textpanel_title_font_family),f.textpanel_desc_font_size||(f.textpanel_desc_font_size=f.textpanel_title_font_size),f.textpanel_desc_text_align||(f.textpanel_desc_text_align=f.textpanel_title_text_align))},this.appendHTML=function(e,t){s=e;var i="<div class='ug-textpanel"+(t=t?" "+t:"")+"'>";1==f.textpanel_enable_bg&&(i+="<div class='ug-textpanel-bg"+t+"'></div>"),i+="<div class='ug-textpanel-textwrapper"+t+"'>",1==f.textpanel_enable_title&&(i+="<div class='ug-textpanel-title"+t+"'></div>"),1==f.textpanel_enable_description&&(i+="<div class='ug-textpanel-description"+t+"'></div>"),i+="</div></div>",e.append(i),a=e.children(".ug-textpanel"),c=a.children(".ug-textpanel-textwrapper"),o()},this.destroy=function(){jQuery(g).off(g.events.ITEM_CHANGE)},this.run=function(){_.setSizeByParent(),jQuery(g).on(g.events.ITEM_CHANGE,e)},this.setPanelSize=function(e,t){if(m.setInternalHeight=!0,t)m.setInternalHeight=!1;else t=80;f.textpanel_height&&(t=f.textpanel_height),a.width(e),a.height(t),d&&(d.width(e),d.height(t));var i=e-f.textpanel_padding_left-f.textpanel_padding_right,n=f.textpanel_padding_left;h.setElementSizeAndPosition(c,n,0,i,t),l&&l.width(i),u&&u.width(i),0==m.isFirstTime&&_.positionElements(!1)},this.setSizeByParent=function(){var e=h.getElementSize(s);_.setPanelSize(e.width)},this.setTextPlain=function(e,t){l&&l.html(e),u&&u.html(t)},this.setText=function(e,t){1==m.isFirstTime?(_.setTextPlain(e,t),m.isFirstTime=!1,_.positionElements(!1)):c.stop().fadeTo(f.textpanel_fade_duration,0,function(){_.setTextPlain(e,t),_.positionElements(!0),jQuery(this).fadeTo(f.textpanel_fade_duration,1)})},this.positionPanel=function(e,t){var i={};if(null!=e)i.top=e,i.bottom="auto";else switch(f.textpanel_align){case"top":i.top=f.textpanel_margin+"px";break;case"bottom":i.top="auto",i.bottom=f.textpanel_margin+"px";break;case"middle":i.top=h.getElementRelativePos(a,"middle",f.textpanel_margin)}null!=t&&(i.left=t),a.css(i)},this.setOptions=function(e){p&&(e=h.convertCustomPrefixOptions(e,p,"textpanel")),f=jQuery.extend(f,e)},this.getElement=function(){return a},this.getSize=function(){return h.getElementSize(a)},this.refresh=function(e,t,i,n){o(),i?_.setPanelSize(i,n):_.setSizeByParent(),_.positionElements(!1),!0!==t&&_.positionPanel(),!0===e&&_.show()},this.hide=function(){a.hide()},this.show=function(){a.show()},this.getOptions=function(){return f},this.getOption=function(e){return 0==f.hasOwnProperty(e)?null:f[e]}}function UGZoomButtonsPanel(){function e(e){return!e||!!e.hasClass("ug-zoompanel-button-disabled")}function t(e){e&&e.addClass("ug-zoompanel-button-disabled")}function i(e){e&&e.removeClass("ug-zoompanel-button-disabled")}function n(){if(0==l.isCurrentSlideType("image"))return!0;1==l.isCurrentSlideImageFit()?0==e(a)&&(t(a),t(s)):1==e(a)&&(i(a),i(s))}var r,o,a,s,l=new UGSlider,u=new UGFunctions,d={slider_zoompanel_skin:""};this.init=function(e,t){l=e,t&&(d=jQuery.extend(d,t))},this.appendHTML=function(e){e;var t="<div class='ug-slider-control ug-zoompanel ug-skin-"+d.slider_zoompanel_skin+"'>";t+="<div class='ug-zoompanel-button ug-zoompanel-plus'></div>",t+="<div class='ug-zoompanel-button ug-zoompanel-minus ug-zoompanel-button-disabled'></div>",t+="<div class='ug-zoompanel-button ug-zoompanel-return ug-zoompanel-button-disabled'></div>",t+="</div>",e.append(t),r=e.children(".ug-zoompanel"),o=r.children(".ug-zoompanel-plus"),a=r.children(".ug-zoompanel-minus"),s=r.children(".ug-zoompanel-return")},this.setObjects=function(e,t,i){o=e,s=i,(a=t)&&a.addClass("ug-zoompanel-button-disabled"),s&&s.addClass("ug-zoompanel-button-disabled")},this.getElement=function(){return r},this.initEvents=function(){u.addClassOnHover(o,"ug-button-hover"),u.addClassOnHover(a,"ug-button-hover"),u.addClassOnHover(s,"ug-button-hover"),u.setButtonOnClick(o,function(){return 1==e(o)||void l.zoomIn()}),u.setButtonOnClick(a,function(){return 1==e(a)||void l.zoomOut()}),u.setButtonOnClick(s,function(){return 1==e(s)||void l.zoomBack()}),jQuery(l).on(l.events.ZOOM_CHANGE,n),jQuery(l).on(l.events.ITEM_CHANGED,n)}}function UGBullets(){function n(){var e="",t="";-1!=_.bullets_space_between&&(t=" style='margin-left:"+_.bullets_space_between+"px'");for(var i=0;i<u;i++)e+=0==i?"<div class='ug-bullet'></div>":"<div class='ug-bullet'"+t+"></div>";if(a.html(e),!s){var n=a.find(".ug-bullet:first-child");n.length&&(s=n.width())}}function t(e){if(1==l.isActive(e))return!0;var t=e.index();jQuery(l).trigger(l.events.BULLET_CLICK,t)}function r(){var e=a.children(".ug-bullet");c.setButtonOnClick(e,t),e.on("mousedown mouseup",function(e){return!1})}function i(e){if(e<0||u<=e)throw new Error("wrong bullet index: "+e)}function o(){if(1==g.isInited)return!0;throw new Error("The bullets are not inited!")}var a,s,l=this,u=0,d=new UniteGalleryMain,c=new UGFunctions,g={isInited:!1},_={bullets_skin:"",bullets_addclass:"",bullets_space_between:-1};this.events={BULLET_CLICK:"bullet_click"},this.init=function(e,t,i){d=e,u=i||d.getNumItems(),g.isInited=!0,""==(_=jQuery.extend(_,t)).bullets_skin&&(_.bullets_skin=_.gallery_skin)},this.getBulletsWidth=function(){return 0==u?0:s?u*s+(u-1)*_.bullets_space_between:0},this.appendHTML=function(e){e,o();var t="";""!=_.bullets_addclass&&(t=" "+_.bullets_addclass);var i="<div class='ug-slider-control ug-bullets ug-skin-"+_.bullets_skin+t+"'>";a=jQuery(i+="</div>"),e.append(a),n(),r()},this.updateNumBullets=function(e){u=e,n(),r()},this.getElement=function(){return a},this.setActive=function(e){o(),i(e);var t=a.children(".ug-bullet");t.removeClass("ug-bullet-active"),jQuery(t[e]).addClass("ug-bullet-active"),e},this.isActive=function(e){if(i(e),"number"!=typeof e)var t=e;else t=a.children(".ug-bullet")[e];return!!t.hasClass("ug-bullet-active")},this.getNumBullets=function(){return u}}function UGProgressBar(){var r,o,i=this,t=0,a=new UGFunctions,s={slider_progressbar_color:"#ffffff",slider_progressbar_opacity:.6,slider_progressbar_line_width:5};this.put=function(e,t){t&&(s=jQuery.extend(s,t)),e.append("<div class='ug-progress-bar'><div class='ug-progress-bar-inner'></div></div>"),r=e.children(".ug-progress-bar"),(o=r.children(".ug-progress-bar-inner")).css("background-color",s.slider_progressbar_color),r.height(s.slider_progressbar_line_width),o.height(s.slider_progressbar_line_width),o.width("0%");var i=s.slider_progressbar_opacity,n=o[0];n.style.opacity=i,n.style.filter="alpha(opacity="+100*i+")"},this.putHidden=function(e,t){i.put(e,t),r.hide()},this.getElement=function(){return r},this.setSize=function(e){r.width(e),o.width(e),i.draw()},this.setPosition=function(e,t,i,n){a.placeElement(r,e,t,i,n)},this.draw=function(){var e=100*t;o.width(e+"%")},this.setProgress=function(e){t=a.normalizePercent(e),i.draw()},this.getType=function(){return"bar"}}function UGProgressPie(){function i(e){if(!e)e=0;var t=Math.min(d.slider_progresspie_width,d.slider_progresspie_height)/2,i=l[0].getContext("2d");0==u&&(u=!0,i.rotate(1.5*Math.PI),i.translate(-2*t,0)),i.clearRect(0,0,d.slider_progresspie_width,d.slider_progresspie_height);var n=d.slider_progresspie_width/2,r=d.slider_progresspie_height/2,o=0,a=e*Math.PI*2;if(1==d.slider_progresspie_type_fill)i.beginPath(),i.moveTo(n,r),i.arc(n,r,t,o,a),i.lineTo(n,r),i.fillStyle=d.slider_progresspie_color1,i.fill(),i.closePath();else{i.globalCompositeOperation="source-over",i.beginPath(),i.moveTo(n,r),i.arc(n,r,t,o,a),i.lineTo(n,r),i.fillStyle=d.slider_progresspie_color1,i.fill(),i.closePath(),i.globalCompositeOperation="destination-out";var s=t-d.slider_progresspie_stroke_width;i.beginPath(),i.moveTo(n,r),i.arc(n,r,s,o,a),i.lineTo(n,r),i.fillStyle=d.slider_progresspie_color1,i.fill(),i.closePath()}1==d.slider_progresspie_type_fill&&(o=a,a=2*Math.PI,i.beginPath(),i.arc(n,r,t,o,a),i.lineTo(n,r),i.fillStyle=d.slider_progresspie_color2,i.fill(),i.closePath())}var l,n=this,u=!1,r=new UGFunctions,d={slider_progresspie_type_fill:!1,slider_progresspie_color1:"#B5B5B5",slider_progresspie_color2:"#E5E5E5",slider_progresspie_stroke_width:6,slider_progresspie_width:30,slider_progresspie_height:30};this.put=function(e,t){t&&(d=jQuery.extend(d,t)),e.append("<canvas class='ug-canvas-pie' width='"+d.slider_progresspie_width+"' height='"+d.slider_progresspie_height+"'></canvas>"),l=e.children(".ug-canvas-pie")},this.putHidden=function(e,t){n.put(e,t),i(.1),l.hide()},this.getElement=function(){return l},this.setPosition=function(e,t){r.placeElement(l,e,t)},this.getSize=function(){return{width:d.slider_progresspie_width,height:d.slider_progresspie_height}},this.setProgress=function(e){e=r.normalizePercent(e),i(e)},this.getType=function(){return"pie"}}function UGTouchSliderControl(){function o(e){if(!e)e=h.getSlidesReference();return-p.getElementSize(e.objCurrentSlide).left-p.getElementSize(g).left}function a(e){if(1==h.isInnerInPlace())return!1;if(_.trigger(h.events.BEFORE_RETURN),!e)e=h.getSlidesReference();var o=-p.getElementSize(e.objCurrentSlide).left;g.animate({left:o+"px"},{duration:f.slider_transition_return_speed,easing:f.slider_transition_continuedrag_easing,queue:!1,progress:function(e,t,i){if(1==m.isDragVideo){var n=p.getElementSize(g).left-o,r=m.videoStartX+n;m.videoObject.css("left",r)}},complete:function(){_.trigger(h.events.AFTER_RETURN)}})}function n(){var e=h.getSlidesReference(),t=o(e);if(0==t)return!1;var i=0<t?"left":"right",n=!1;switch(i){case"right":if(h.isSlideHasItem(e.objPrevSlide))var r=-p.getElementSize(e.objPrevSlide).left;else n=!0;break;case"left":if(h.isSlideHasItem(e.objNextSlide))r=-p.getElementSize(e.objNextSlide).left;else n=!0}1==n?a(e):g.stop().animate({left:r+"px"},{duration:f.slider_transition_continuedrag_speed,easing:f.slider_transition_continuedrag_easing,queue:!1,progress:function(){if(1==m.isDragVideo){var e=p.getElementSize(g).left-m.startPosx,t=m.videoStartX+e;m.videoObject.css("left",t)}},always:function(){var e;e=i,h.getVideoObject().hide(),h.switchSlideNums(e),h.placeNabourItems(),_.trigger(h.events.AFTER_DRAG_CHANGE)}})}function s(e){var t=p.getMousePosition(e);m.startMouseX=t.pageX,m.startMouseY=t.pageY,m.lastMouseX=m.startMouseX,m.lastMouseY=m.startMouseY,m.startTime=jQuery.now();var i=p.getArrTouches(e);m.startArrTouches=p.getArrTouchPositions(i);var n=p.getElementSize(g);m.startPosx=n.left,m.isInitDataValid=!0,m.isDragVideo=!1,p.storeEventData(e,m.storedEventID)}function r(e){m.touch_active=!1}function l(e,t){m.touch_active=!0,s(t)}function i(e){return e.preventDefault(),m.isDragging=!1,1==h.isAnimating()&&g.stop(!0,!0),1<p.getArrTouches(e).length?(1==m.touch_active&&r(),!0):1==m.touch_active||void l(0,e)}function u(e){if(0==m.touch_active)return!0;if(0==e.buttons)return r(),n(),!0;p.updateStoredEventData(e,m.storedEventID),e.preventDefault();var t=p.getMousePosition(e);m.lastMouseX=t.pageX,m.lastMouseY=t.pageY;var i=null;1==f.slider_vertical_scroll_ondrag&&(i=p.handleScrollTop(m.storedEventID)),"vert"!==i&&function(e){var t=m.lastMouseX-m.startMouseX;if(0==t)return;var i=t<0?"left":"right",n=h.getObjZoom();if(n){if(1==n.isPanEnabled(e,i))return m.isInitDataValid=!1;if(0==m.isInitDataValid)return s(e)}var r=m.startPosx+t;0<t&&0<r?r/=3:t<0&&r+g.width()<c.width()&&(r=m.startPosx+t/3);if(0==m.isDragging&&(m.isDragging=!0,_.trigger(h.events.START_DRAG)),g.css("left",r+"px"),1==m.isDragVideo){var o=r-m.startPosx,a=m.videoStartX+o;m.videoObject.css("left",a)}}(e)}function d(e){var t=p.getArrTouches(e).length;if(1==h.isInnerInPlace()&&0==m.touch_active&&0==t)return!0;if(0==t&&1==m.touch_active){r();var i=!1;0==p.wasVerticalScroll(m.storedEventID)&&(i=function(){var e=h.getSlidesReference(),t=o(e),i=Math.round(3*e.objCurrentSlide.width()/8);if(Math.abs(t)>=i)return!0;var n=Math.abs(m.lastMouseX-m.startMouseX);return Math.abs(m.lastMouseY-m.startMouseY),!(n<20)&&jQuery.now()-m.startTime<500}()),1==i?n():a()}else 1==t&&0==m.touch_active&&l(0,e)}var c,g,_,h=new UGSlider,p=new UGFunctions,f={slider_transition_continuedrag_speed:250,slider_transition_continuedrag_easing:"linear",slider_transition_return_speed:300,slider_transition_return_easing:"easeInOutQuad"},m={touch_active:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startPosx:0,startTime:0,isInitDataValid:!1,slides:null,lastNumTouches:0,isDragging:!1,storedEventID:"touchSlider",videoStartX:0,isDragVideo:!1,videoObject:null};this.isTapEventOccured=function(e){var t=p.getArrTouches(e).length;if(0!=t||0!=m.lastNumTouches)return m.lastNumTouches=t,!1;m.lastNumTouches=t;var i=(o(h.getSlidesReference()),Math.abs(m.lastMouseX-m.startMouseX)),n=Math.abs(m.lastMouseY-m.startMouseY),r=jQuery.now()-m.startTime;return i<20&&n<50&&r<500},this.init=function(e,t){h=e,_=jQuery(h),g_objects=e.getObjects(),c=g_objects.g_objSlider,g=g_objects.g_objInner,f=jQuery.extend(f,t),c.bind("mousedown touchstart",i),jQuery("body").bind("mousemove touchmove",u),jQuery(window).add("body").bind("mouseup touchend",d)},this.getLastMousePos=function(){return{pageX:m.lastMouseX,pageY:m.lastMouseY}},this.isTouchActive=function(){return m.touch_active}}function UGZoomSliderControl(){function i(e,t){m=e,f=jQuery(m),g_objects=e.getObjects(),p=g_objects.g_objSlider,g_objects.g_objInner,b=jQuery.extend(b,t),p.on("mousewheel",h),p.bind("mousedown touchstart",n),jQuery("body").bind("mousemove touchmove",_),jQuery(window).add("body").bind("mouseup touchend",g),f.bind(m.events.BEFORE_RETURN,function(){c()}),f.bind(m.events.ITEM_CHANGED,function(){y.isZoomedOnce=!1}),f.bind(m.events.ZOOM_CHANGE,function(){y.isZoomedOnce=!0})}function l(){var e=m.getScaleMode();return"down"!=e&&(e="fit"),e}function r(){if((i=jQuery.now())-y.storeImageLastTime<20)return!1;var e=m.getSlidesReference();if(y.objSlide=e.objCurrentSlide,y.objImage=e.objCurrentSlide.find("img"),0==y.objImage.length)return!1;y.objImageSize=v.getElementSize(y.objImage),y.objParent=y.objImage.parent(),y.objParentSize=v.getElementSize(y.objParent);var t=l();objPadding=m.getObjImagePadding(),y.objFitImageSize=v.getImageInsideParentDataByImage(y.objImage,t,objPadding);var i=jQuery.now();return y.storeImageLastTime=i,!0}function o(e,t){var i=m.getSlidesReference().objCurrentSlide.find("img"),n=l();f.trigger(m.events.ZOOM_START);var r=!0,o=m.getObjImagePadding();if("back"==e){var a=v.getImageOriginalSize(i);v.scaleImageFitParent(i,a.width,a.height,n,o)}else{var s="in"==e;r=v.zoomImageInsideParent(i,s,b.slider_zoom_step,t,n,b.slider_zoom_max_ratio,o)}1==r&&(f.trigger(m.events.ZOOMING),f.trigger(m.events.ZOOM_CHANGE),f.trigger(m.events.ZOOM_END))}function a(e,t,i){var n=v.getArrTouches(t);if(!0===i){if(1!=n.length)return!1}else if(1<n.length)return!1;return!!v.isElementBiggerThenParent(e)}function s(e){var t,i;y.isPanActive=!0,t=e,i=v.getMousePosition(t),y.startMouseX=i.pageX,y.startMouseY=i.pageY,y.lastMouseX=y.startMouseX,y.lastMouseY=y.startMouseY,y.startImageX=y.objImageSize.left,y.startImageY=y.objImageSize.top,y.panXActive=y.objImageSize.width>y.objParentSize.width,y.panYActive=y.objImageSize.height>y.objParentSize.height}function u(e){if(0==y.isZoomActive)return!1;2!=v.getArrTouches(e).length&&(y.isZoomActive=!1,f.trigger(m.events.ZOOM_END))}function d(e){if(1==y.isZoomActive)return!0;var t,i=v.getArrTouches(e);return 2!=i.length||(t=i,y.isZoomActive=!0,y.startDistance=v.getDistance(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY),0==y.startDistance&&(y.startDistance=1),y.startMiddlePoint=v.getMiddlePoint(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY),y.objImageSize=v.getElementSize(y.objImage),y.startImageX=y.objImageSize.left,y.startImageY=y.objImageSize.top,y.imageOrientPoint=v.getElementLocalPoint(y.startMiddlePoint,y.objImage),0==v.isPointInsideElement(y.imageOrientPoint,y.objImageSize)&&(y.imageOrientPoint=v.getElementCenterPoint(y.objImage)),void f.trigger(m.events.ZOOM_START))}function c(){if(null==y.objImage||0==y.objImage.length)return!0;if(v.getElementSize(y.objImage).width<y.objFitImageSize.imageWidth){y.objImage.css({position:"absolute",margin:"none"});var e={top:y.objFitImageSize.imageTop+"px",left:y.objFitImageSize.imageLeft+"px",width:y.objFitImageSize.imageWidth+"px",height:y.objFitImageSize.imageHeight+"px"};y.objImage.animate(e,{duration:b.slider_zoom_return_pan_duration,easing:b.slider_zoom_return_pan_easing,queue:!1})}else!function(){var e=!1,t=!1,i=0,n=0,r=v.getElementSize(y.objImage),o=m.getObjImagePadding(),a=v.getElementCenterPosition(y.objImage,o);y.panXActive=y.objImageSize.width>y.objParentSize.width,y.panYActive=y.objImageSize.height>y.objParentSize.height,1==y.panYActive?0<r.top?t=!(n=0):r.bottom<y.objParentSize.height&&(n=y.objParentSize.height-r.height,t=!0):r.top!=a.top&&(t=!0,n=a.top),1==y.panXActive?0<r.left?e=!(i=0):r.right<y.objParentSize.width&&(i=y.objParentSize.width-r.width,e=!0):r.left!=a.left&&(e=!0,i=a.left);var s={};1==t&&(s.top=n+"px"),1==e&&(s.left=i+"px"),(1==t||1==e)&&y.objImage.animate(s,{duration:b.slider_zoom_return_pan_duration,easing:b.slider_zoom_return_pan_easing,queue:!1})}()}function n(e){return 0==m.isCurrentSlideType("image")||(r(),null==y.objImage||0==y.objImage.length||(e.preventDefault(),1==!(!y.objImage||!y.objImage.is(":animated"))&&y.objImage.stop(!0),1==y.isZoomActive?u(e):d(e),void(1==y.isZoomActive?y.isPanActive=!1:1==a(y.objImage,e)&&1==y.isZoomedOnce&&s(e))))}function g(e){if(0==m.isCurrentSlideType("image"))return!0;if(1==jQuery(e.target).data("ug-button"))return!1;if(r(),null==y.objImage||0==y.objImage.length)return!0;var t=y.isPanActive,i=y.isZoomActive;if(0==m.isInnerInPlace())return y.isZoomActive=!1,!(y.isPanActive=!1);if(1==y.isZoomActive?u(e):d(e),1==y.isZoomActive)y.isPanActive=!1;else{var n=a(y.objImage,e,!0);1==y.isPanActive?y.isPanActive=!1:1==n&&s(e)}(t||i)&&0==y.isZoomActive&&0==y.isPanActive&&c()}function _(e){return 0==m.isCurrentSlideType("image")||void(1==y.isZoomActive?function(e){var t=v.getArrTouches(e),i=v.getDistance(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY)/y.startDistance,n=v.getMiddlePoint(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY),r=y.objImageSize.width*i,o=y.objImageSize.height*i,a=v.getImageOriginalSize(y.objImage),s=1;if(0<a.width&&(s=r/a.width),s>b.slider_zoom_max_ratio)return;panX=-(y.imageOrientPoint.x*i-y.imageOrientPoint.x),panY=-(y.imageOrientPoint.y*i-y.imageOrientPoint.y);var l=n.x-y.startMiddlePoint.x,u=n.y-y.startMiddlePoint.y,d=y.startImageX+panX+l,c=y.startImageY+panY+u;v.setElementSizeAndPosition(y.objImage,d,c,r,o),f.trigger(m.events.ZOOMING),f.trigger(m.events.ZOOM_CHANGE)}(e):1==y.isPanActive&&function(e){if(null==y.objImage||0==y.objImage.length)return;var t=v.getMousePosition(e),i=(t.pageX,y.startMouseX,t.pageY,y.startMouseY,t.pageX-y.lastMouseX),n=t.pageY-y.lastMouseY,r=i<0?"left":"right",o=n<0?"up":"down";y.lastMouseX=t.pageX,y.lastMouseY=t.pageY;var a=v.getElementSize(y.objImage);0==y.panYActive?n=0:"down"==o&&0<a.top?n/=3:"up"==o&&a.bottom<y.objParentSize.height&&(n/=3),0==y.panXActive||0==m.isInnerInPlace()?i=0:"right"==r&&0<a.left?i/=3:"left"==r&&a.right<y.objParentSize.width&&(i/=3);var s=a.left+i,l=a.top+n;v.placeElement(y.objImage,s,l)}(e))}function h(e,t,i,n){return 0==b.slider_zoom_mousewheel||(0==m.isCurrentSlideType("image")||(e.preventDefault(),void o(1==0<t?"in":"out",v.getMousePosition(e))))}var p,f,m=new UGSlider,v=new UGFunctions,b={slider_zoom_step:1.2,slider_zoom_max_ratio:6,slider_zoom_return_pan_duration:400,slider_zoom_return_pan_easing:"easeOutCubic"},y={isPanActive:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startImageX:0,startImageY:0,panXActive:!1,panYActive:!1,objImage:null,objImageSize:null,objParent:null,objParentSize:null,objSlide:null,storeImageLastTime:0,isZoomActive:!1,startDistance:0,startMiddlePoint:null,imageOrientPoint:null,objFitImageSize:null,isZoomedOnce:!1};this.________EXTERNAL_____________=function(){},this.isPanEnabled=function(e,t){if(r(),null==y.objImage||0==y.objImage.length)return!1;if(0==y.isZoomedOnce)return!1;if(0==a(y.objImage,e))return!1;if(0==m.isInnerInPlace())return!1;if("left"==t){if(y.objImageSize.right<=y.objParentSize.width)return!1}else if(0<=y.objImageSize.left)return!1;return!0},this.init=function(e,t){i(e,t)},this.zoomIn=function(){o("in")},this.zoomOut=function(){o("out")},this.zoomBack=function(){o("back")}}function UGWistiaAPI(){function o(){return"undefined"!=typeof Wistia}function a(e,t,i,n,r){l=null,c=!1;var o=e+"_video",a="<div id='"+o+"' class='wistia_embed' style='width:"+i+";height:"+n+";' data-video-width='"+i+"' data-video-height='"+n+"'>&nbsp;</div>";jQuery("#"+e).html(a),l=Wistia.embed(t,{version:"v1",videoWidth:i,videoHeight:n,container:o,autoPlay:r}),c=!0,l.bind("play",function(){d.trigger(u.events.START_PLAYING)}),l.bind("pause",function(){d.trigger(u.events.STOP_PLAYING)}),l.bind("end",function(){d.trigger(u.events.STOP_PLAYING),d.trigger(u.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var s,l,u=this,d=jQuery(this),c=!1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugWistiaAPI.isAPILoaded||(o()?g_ugWistiaAPI.isAPILoaded=!0:(g_ugFunctions.loadJs("fast.wistia.com/assets/external/E-v1.js",!0),void(g_ugWistiaAPI.isAPILoaded=!0)))},this.doCommand=function(e){if(null==l)return!1;if(0==c)return!1;switch(e){case"play":l.play();break;case"pause":l.pause()}},this.pause=function(){u.doCommand("pause")},this.play=function(){u.doCommand("play")},this.putVideo=function(e,t,i,n,r){return o()?(a(e,t,i,n,r),!0):(this.loadAPI(),void(s=setInterval(function(){o()&&(a(e,t,i,n,r),clearInterval(s))},500)))},this.isPlayerReady=function(){return!(!c||!l)}}function UGSoundCloudAPI(){function o(){return"undefined"!=typeof SC}function a(e,t,i,n,r){l=null,g_isPlayerReady=!1;var o=e+"_iframe",a=location.protocol+"//w.soundcloud.com/player/?url=http://api.soundcloud.com/tracks/"+t;a+="&amp;buying=false&amp;liking=false&amp;download=false&amp;sharing=false&amp;show_artwork=true&show_comments=false&amp;show_playcount=true&amp;show_user=false&amp;hide_related=true&amp;visual=true&amp;start_track=0&amp;callback=true";var s="<iframe id='"+o+"' src="+(a+=!0===r?"&amp;auto_play=true":"&amp;auto_play=false")+" width='"+i+"' height='"+n+"' frameborder='0' scrolling='no' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+e).html(s),(l=SC.Widget(o)).bind(SC.Widget.Events.READY,function(){l&&(g_isPlayerReady=!0,l.bind(SC.Widget.Events.PLAY,function(){c.trigger(d.events.START_PLAYING)}),l.bind(SC.Widget.Events.PAUSE,function(){c.trigger(d.events.STOP_PLAYING)}),l.bind(SC.Widget.Events.FINISH,function(){c.trigger(d.events.STOP_PLAYING),c.trigger(d.events.VIDEO_ENDED)}))}),u=e}this.isAPILoaded=!1;var s,l,u,d=this,c=jQuery(this);this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugSoundCloudAPI.isAPILoaded||(o()?g_ugSoundCloudAPI.isAPILoaded=!0:(g_ugFunctions.loadJs("w.soundcloud.com/player/api.js",!0),void(g_ugSoundCloudAPI.isAPILoaded=!0)))},this.putSound=function(e,t,i,n,r){return o()?(a(e,t,i,n,r),!0):(this.loadAPI(),void(s=setInterval(function(){o()&&(a(e,t,i,n,r),clearInterval(s))},500)))},this.doCommand=function(e){if(null==l)return!1;if(0==g_isPlayerReady)return!1;switch(e){case"play":l.play();break;case"pause":l.pause()}},this.pause=function(){d.doCommand("pause")},this.play=function(){d.doCommand("play")},this.destroy=function(){g_isPlayerReady=!1,l=null,u&&(jQuery("#"+u).html(""),u=null)}}function UGHtml5MediaAPI(){function o(){return"undefined"!=typeof mejs}function a(e,t,i,n,r){c=null,g_isPlayerReady=!1;var o=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/flashmediaelement-cdn.swf",a=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/silverlightmediaelement.xap",s=e+"_video",l="";r&&!0===r&&(l="autoplay='autoplay'");var u="";t.posterImage&&(u="poster='"+t.posterImage+"'");var d="<video id='"+s+"' width='"+i+"' height='"+n+"'  controls='controls' preload='none' "+l+" "+u+">";""!=t.mp4&&(d+="<source type='video/mp4' src='"+t.mp4+"' />"),""!=t.webm&&(d+="<source type='video/webm' src='"+t.webm+"' />"),""!=t.ogv&&(d+="<source type='video/ogg' src='"+t.ogv+"' />"),d+="<object width='"+i+"' height='"+n+"' type='application/x-shockwave-flash' data='"+o+"'>",d+="<param name='movie' value='"+o+"' />",d+="<param name='flashvars' value='controls=true&file="+t.mp4+"' />",d+="</object>",d+="</video>",jQuery("#"+e).html(d),new MediaElement(s,{enablePluginDebug:!1,flashName:o,silverlightName:a,success:function(e,t){g_isPlayerReady=!0,c=e,0==r&&c.pause(),g_ugFunctions.addEvent(c,"play",function(){_.trigger(g.events.START_PLAYING)}),g_ugFunctions.addEvent(c,"pause",function(){_.trigger(g.events.STOP_PLAYING)}),g_ugFunctions.addEvent(c,"ended",function(){_.trigger(g.events.STOP_PLAYING),_.trigger(g.events.VIDEO_ENDED)})},error:function(e){trace(e)}})}this.isAPILoaded=!1;var s,c,g=this,_=jQuery(this);this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugHtml5MediaAPI.isAPILoaded||(o()?g_ugHtml5MediaAPI.isAPILoaded=!0:(g_ugFunctions.loadJs("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelement.min.js",!0),g_ugFunctions.loadCss("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelementplayer.min.css",!0),void(g_ugHtml5MediaAPI.isAPILoaded=!0)))},this.putVideo=function(e,t,i,n,r){return o()?(a(e,t,i,n,r),!0):(this.loadAPI(),void(s=setInterval(function(){o()&&(a(e,t,i,n,r),clearInterval(s))},500)))},this.doCommand=function(e){if(null==c)return!1;if(0==g_isPlayerReady)return!1;switch(e){case"play":c.play();break;case"pause":c.pause()}},this.pause=function(){g.doCommand("pause")},this.play=function(){g.doCommand("play")}}function UGVimeoAPI(){function o(){return"undefined"!=typeof Froogaloop}function a(e,t,i,n,r){c=null,g=!1;var o=location.protocol+"//player.vimeo.com/video/"+t+"?api=1";!0===r&&(o+="&amp;byline=0&amp;autoplay=1&amp;title=0&amp;portrait=0");var a="<iframe src="+o+" width='"+i+"' height='"+n+"' frameborder='0' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+e).html(a);var s=jQuery("#"+e+" iframe")[0];(c=Froogaloop(s)).addEvent("ready",function(){c&&(g=!0,c&&(c.addEvent("cuechange",function(){1==_&&u.play()}),c.addEvent("play",function(){d.trigger(u.events.START_PLAYING)}),c.addEvent("pause",function(){d.trigger(u.events.STOP_PLAYING)}),c.addEvent("finish",function(){d.trigger(u.events.STOP_PLAYING),d.trigger(u.events.VIDEO_ENDED)})))}),l=e}this.isAPILoaded=!1;var s,l,u=this,d=jQuery(this),c=null,g=!1,_=!1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugVimeoAPI.isAPILoaded||(o()?g_ugVimeoAPI.isAPILoaded=!0:(g_ugFunctions.loadJs("f.vimeocdn.com/js/froogaloop2.min.js",!0),void(g_ugVimeoAPI.isAPILoaded=!0)))},this.doCommand=function(e){return null!=c&&(0!=g&&void c.api(e))},this.pause=function(){u.doCommand("pause")},this.play=function(){u.doCommand("play")},this.destroy=function(){c&&(c.api("unload"),c=null,g=!1),l&&jQuery("#"+l).html("")},this.putVideo=function(e,t,i,n,r){return o()?(a(e,t,i,n,r),!0):(this.loadAPI(),void(s=setInterval(function(){o()&&(a(e,t,i,n,r),clearInterval(s))},500)))},this.isPlayerReady=function(){return!(!g||!c)},this.changeVideo=function(e,t){return 0!=u.isPlayerReady()&&(_=t,void c.api("loadVideo",e))},this.getVideoImages=function(e,i,n){var t=location.protocol+"//vimeo.com/api/v2/video/"+e+".json";jQuery.get(t,{},function(e){var t={};t.preview=e[0].thumbnail_large,t.thumb=e[0].thumbnail_medium,n(i,t)})}}function UGYoutubeAPI(){function o(e,t,i,n,r){c&&g&&c.destroy();var o={controls:2,showinfo:_.video_youtube_showinfo,rel:0};!0===r&&(o.autoplay=1),g=!1,c=new YT.Player(e,{height:n,width:i,videoId:t,playerVars:o,events:{onReady:s,onStateChange:l}}),d=e}function a(){return"undefined"!=typeof YT&&void 0!==YT.Player}function s(){g=!0}function l(){if("function"!=typeof c.getPlayerState)return trace("Youtube API error: can't get player state"),!1;var e=c.getPlayerState();switch(e){case YT.PlayerState.PLAYING:t.trigger(i.events.START_PLAYING);break;case YT.PlayerState.ENDED:t.trigger(i.events.STOP_PLAYING),t.trigger(i.events.VIDEO_ENDED);break;default:n==YT.PlayerState.PLAYING&&t.trigger(i.events.STOP_PLAYING)}n=e}this.isAPILoaded=!1;var u,d,i=this,c=null,g=!1,t=jQuery(this),n=-1,_={video_youtube_showinfo:!0};this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.setOptions=function(e){_=jQuery.extend(_,e)},this.putVideo=function(e,t,i,n,r){return a()?(o(e,t,i,n,r),!0):(this.loadAPI(),void(u=setInterval(function(){a()&&(o(e,t,i,n,r),clearInterval(u))},500)))},this.loadAPI=function(){return 1==g_ugYoutubeAPI.isAPILoaded||("undefined"!=typeof YT?g_ugYoutubeAPI.isAPILoaded=!0:(g_ugFunctions.loadJs("https://www.youtube.com/player_api",!1),void(g_ugYoutubeAPI.isAPILoaded=!0)))},this.doCommand=function(e,t){if(!c)return!0;if(0==g)return!1;switch(e){case"play":if("function"!=typeof c.playVideo)return!1;c.playVideo();break;case"pause":if("function"!=typeof c.pauseVideo)return!1;c.pauseVideo();break;case"seek":if("function"!=typeof c.seekTo)return!1;c.seekTo(t);break;case"stopToBeginning":var i=c.getPlayerState();switch(c.pauseVideo(),i){case YT.PlayerState.PLAYING:case YT.PlayerState.ENDED:case YT.PlayerState.PAUSED:c.seekTo(0)}}},this.play=function(){i.doCommand("play")},this.pause=function(){i.doCommand("pause")},this.destroy=function(){try{c&&(g=!1,c.clearVideo(),c.destroy())}catch(e){jQuery("#"+d).html("")}},this.stopToBeginning=function(){i.doCommand("stopToBeginning")},this.changeVideo=function(e,t){return 0!=i.isPlayerReady()&&void(t&&1==t?c.loadVideoById(e,0,"large"):c.cueVideoById(e,0,"large"))},this.isPlayerReady=function(){return!(!g||!c)},this.getVideoImages=function(e){var t={};return t.preview="https://i.ytimg.com/vi/"+e+"/sddefault.jpg",t.thumb="https://i.ytimg.com/vi/"+e+"/default.jpg",t}}function UGVideoPlayer(){function e(){_.hide()}function t(){h.trigger(_.events.PLAY_START),d&&d.hide()}function i(){h.trigger(_.events.PLAY_STOP),d&&d.show()}function n(){h.trigger(_.events.VIDEO_ENDED)}function a(e){var t=["youtube","vimeo","html5","soundcloud","wistia"];for(var i in t){var n=t[i];if(n!=e)switch(n){case"youtube":f.pause(),f.destroy(),s.hide();break;case"vimeo":m.pause(),m.destroy(),l.hide();break;case"html5":v.pause(),u.hide();break;case"soundcloud":b.pause(),b.destroy(),c.hide();break;case"wistia":y.pause(),g.hide()}}}var r,o,s,l,u,d,c,g,_=this,h=jQuery(this),p=new UGFunctions,f=new UGYoutubeAPI,m=new UGVimeoAPI,v=new UGHtml5MediaAPI,b=new UGSoundCloudAPI,y=new UGWistiaAPI,w=null,I={video_enable_closebutton:!0},T={standAloneMode:!(this.events={SHOW:"video_show",HIDE:"video_hide",PLAY_START:"video_play_start",PLAY_STOP:"video_play_stop",VIDEO_ENDED:"video_ended"}),youtubeInnerID:"",vimeoPlayerID:"",html5PlayerID:"",wistiaPlayerID:"",soundCloudPlayerID:""};this.init=function(e,t,i){if(!(r=i))throw new Error("missing gallery ID for video player, it's a must!");I=jQuery.extend(I,e),f.setOptions(I),t&&1==t&&(T.standAloneMode=!0)},this.setHtml=function(e){T.youtubeInnerID=r+"_youtube_inner",T.vimeoPlayerID=r+"_videoplayer_vimeo",T.html5PlayerID=r+"_videoplayer_html5",T.wistiaPlayerID=r+"_videoplayer_wistia",T.soundCloudPlayerID=r+"_videoplayer_soundcloud";var t="<div class='ug-videoplayer' style='display:none'>";t+="<div class='ug-videoplayer-wrapper ug-videoplayer-youtube' style='display:none'><div id='"+T.youtubeInnerID+"'></div></div>",t+="<div id='"+T.vimeoPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-vimeo' style='display:none'></div>",t+="<div id='"+T.html5PlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-html5'></div>",t+="<div id='"+T.soundCloudPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-soundcloud'></div>",t+="<div id='"+T.wistiaPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-wistia'></div>",0==T.standAloneMode&&1==I.video_enable_closebutton&&(t+="<div class='ug-videoplayer-button-close'></div>"),t+="</div>",e.append(t),o=e.children(".ug-videoplayer"),s=o.children(".ug-videoplayer-youtube"),l=o.children(".ug-videoplayer-vimeo"),u=o.children(".ug-videoplayer-html5"),c=o.children(".ug-videoplayer-soundcloud"),g=o.children(".ug-videoplayer-wistia"),0==T.standAloneMode&&1==I.video_enable_closebutton&&(d=o.children(".ug-videoplayer-button-close"))},this.destroy=function(){d&&(d.off("click"),d.off("touchend")),jQuery(f).off(f.events.START_PLAYING),jQuery(f).off(f.events.STOP_PLAYING),jQuery(m).off(m.events.START_PLAYING),jQuery(m).off(m.events.STOP_PLAYING),jQuery(v).off(v.events.START_PLAYING),jQuery(v).off(v.events.STOP_PLAYING),jQuery(b).off(b.events.START_PLAYING,t),jQuery(b).off(b.events.STOP_PLAYING,i),jQuery(y).off(y.events.START_PLAYING,t),jQuery(y).off(y.events.STOP_PLAYING,i),w=null},this.initEvents=function(){d&&(p.setButtonMobileReady(d),p.setButtonOnClick(d,e)),jQuery(f).on(f.events.START_PLAYING,t),jQuery(f).on(f.events.STOP_PLAYING,i),jQuery(f).on(f.events.VIDEO_ENDED,n),jQuery(m).on(m.events.START_PLAYING,t),jQuery(m).on(m.events.STOP_PLAYING,i),jQuery(m).on(m.events.VIDEO_ENDED,n),jQuery(v).on(v.events.START_PLAYING,t),jQuery(v).on(v.events.STOP_PLAYING,i),jQuery(v).on(v.events.VIDEO_ENDED,n),jQuery(b).on(b.events.START_PLAYING,t),jQuery(b).on(b.events.STOP_PLAYING,i),jQuery(b).on(b.events.VIDEO_ENDED,n),jQuery(y).on(y.events.START_PLAYING,t),jQuery(y).on(y.events.STOP_PLAYING,i),jQuery(y).on(y.events.VIDEO_ENDED,n)},this.setSize=function(e,t){p.setElementSize(o,e,t),d&&p.placeElement(d,"right","top")},this.setPosition=function(e,t){p.placeElement(o,e,t)},this.getObject=function(){return o},this.show=function(){return 1==_.isVisible()||(o.show(),o.fadeTo(0,1),d&&d.show(),void h.trigger(_.events.SHOW))},this.hide=function(){return 0==_.isVisible()||(a(),w=null,o.hide(),void h.trigger(_.events.HIDE))},this.getActiveAPI=function(){switch(w){case"youtube":return f;case"vimeo":return m;case"wistia":return y;case"soundcloud":return b;case"html5":return v;default:return null}},this.pause=function(){var e=_.getActiveAPI();return null!=e&&void("function"==typeof e.pause&&e.pause())},this.isVisible=function(){return o.is(":visible")},this.playYoutube=function(e,t){if(void 0===t)t=!0;a("youtube"),s.show(),0==s.children("#"+T.youtubeInnerID).length&&s.append("<div id='"+T.youtubeInnerID+"'></div>"),1==f.isPlayerReady()&&1==T.standAloneMode?f.changeVideo(e,t):f.putVideo(T.youtubeInnerID,e,"100%","100%",t),w="youtube"},this.playVimeo=function(e,t){if(void 0===t)t=!0;a("vimeo"),l.show(),m.putVideo(T.vimeoPlayerID,e,"100%","100%",t),w="vimeo"},this.playHtml5Video=function(e,t,i,n,r){if(void 0===r)r=!0;a("html5"),u.show();var o={ogv:e,webm:t,mp4:i,posterImage:n};v.putVideo(T.html5PlayerID,o,"100%","100%",r),w="html5"},this.playSoundCloud=function(e,t){if(void 0===t)t=!0;a("soundcloud"),c.show(),b.putSound(T.soundCloudPlayerID,e,"100%","100%",t),w="soundcloud"},this.playWistia=function(e,t){if(void 0===t)t=!0;a("wistia"),g.show(),y.putVideo(T.wistiaPlayerID,e,"100%","100%",t),w="wistia"}}function ugCheckForMinJQueryVersion(){if(0==g_ugFunctions.checkMinJqueryVersion("1.8.0"))throw new Error("The gallery can run from jquery 1.8 You have jQuery "+jQuery.fn.jquery+" Please update your jQuery library.")}function ugCheckForErrors(t,i){try{"jquery"==i?(function(){if("undefined"==typeof jQuery)throw new Error("jQuery library not included")}(),ugCheckForMinJQueryVersion()):(ugCheckForMinJQueryVersion(),function(){if("function"==typeof jQuery.fn.unitegallery)return;var e="You have some jquery.js library include that comes after the gallery files js include.";throw e+="<br> This include eliminates the gallery libraries, and make it not work.","cms"==i?(e+="<br><br> To fix it you can:<br>&nbsp;&nbsp;&nbsp; 1. In the Gallery Settings -> Troubleshooting set option:  <strong><b>Put JS Includes To Body</b></strong> option to true.",e+="<br>&nbsp;&nbsp;&nbsp; 2. Find the double jquery.js include and remove it."):e+="<br><br> Please find and remove this jquery.js include and the gallery will work. <br> * There should be only one jquery.js include before all other js includes in the page.",new Error(e)}())}catch(e){var n=e.message;if(n="<div style='font-size:16px;color:#BC0C06;max-width:900px;border:1px solid red;padding:10px;'>"+(n="Unite Gallery Error: "+n)+"</div>","jquery"==i){var r=document.getElementById(t);r.innerHTML=n,r.style.display="block"}else jQuery(t).show().html(n);return!1}return!0}function UniteGalleryMain(){function __________INIT_GALLERY_______(){}function getThemeFunction(e){var t=e;return-1==t.indexOf("UGTheme_")&&(t="UGTheme_"+t),t}function initTheme(objCustomOptions){if(objCustomOptions.hasOwnProperty("gallery_theme"))g_options.gallery_theme=objCustomOptions.gallery_theme;else{var defaultTheme=g_options.gallery_theme;0==g_ugFunctions.isThemeRegistered(defaultTheme)&&(g_options.gallery_theme=g_ugFunctions.getFirstRegisteredTheme())}var themeFunction=getThemeFunction(g_options.gallery_theme);try{g_options.gallery_theme=eval(themeFunction)}catch(e){}g_options.gallery_theme=eval(themeFunction),g_objTheme=new g_options.gallery_theme,g_objTheme.init(t,objCustomOptions)}function resetOptions(){g_options=jQuery.extend({},g_temp.originalOptions),g_selectedItemIndex=-1,g_selectedItem=null,g_objSlider=g_objThumbs=g_objSlider=void 0}function checkForStartupErrors(){try{ugCheckForMinJQueryVersion()}catch(e){throwErrorShowMessage(e.message)}"object"==typeof g_objWrapper.outerWidth()&&throwErrorShowMessage("You have some buggy script. most chances jquery-ui.js that destroy jquery outerWidth, outerHeight functions. The gallery can't run. Please update jquery-ui.js to latest version."),setTimeout(function(){ugCheckForErrors(g_galleryID,"cms")},5e3)}function runGallery(e,i,n,r){var o="object"==typeof i;if(o&&(g_temp.objCustomOptions=i),1==g_temp.isRunFirstTime){if(g_galleryID=e,0==(g_objWrapper=jQuery(g_galleryID)).length)return trace("div with id: "+g_galleryID+" not found"),!1;g_objParent=g_objWrapper.parent(),checkForStartupErrors(),g_temp.originalOptions=jQuery.extend({},g_options),o&&(g_options=jQuery.extend(g_options,i)),1==g_options.gallery_enable_cache&&g_options.gallery_initial_catid&&cacheItems(g_options.gallery_initial_catid),t.setSizeClass(),fillItemsArray(g_objWrapper.children()),loadAPIs(),g_objWrapper.find("img").fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}else if(t.destroy(),resetOptions(),g_options=jQuery.extend(g_options,g_temp.objCustomOptions),n){if(r&&1==g_options.gallery_enable_cache&&cacheItems(r,n),"noitems"==n)return showErrorMessage("No items in this category",""),!1;g_objWrapper.html(n),fillItemsArray(g_objWrapper.children()),loadAPIs(),g_objWrapper.children().fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}1==g_temp.isRunFirstTime&&1==g_options.gallery_enable_tabs&&(g_objTabs=new UGTabs).init(t,g_options),o&&modifyInitParams(g_temp.objCustomOptions),validateParams(),1==g_options.gallery_shuffle&&t.shuffleItems(),initTheme(g_temp.objCustomOptions),setGalleryHtml(),setHtmlObjectsProperties(),0==g_objWrapper.width()?g_functions.waitForWidth(g_objWrapper,runGalleryActually):runGalleryActually()}function runGalleryActually(){t.setSizeClass(),0==g_temp.isFreestyleMode&&1==g_options.gallery_preserve_ratio&&setHeightByOriginalRatio(),g_objTheme.run(),g_objTabs&&g_temp.isRunFirstTime&&g_objTabs.run(),preloadBigImages(),initEvents(),0<g_numItems&&t.selectItem(0),1==g_options.gallery_autoplay&&t.startPlayMode(),g_temp.isRunFirstTime=!1}function showErrorMessage(e,t){if(void 0===t)t="<b>Unite Gallery Error: </b>";var i="<div class='ug-error-message-wrapper'><div class='ug-error-message'>"+(e=t+e)+"</div></div>";g_objWrapper.children().remove(),g_objWrapper.html(i),g_objWrapper.show()}function throwErrorShowMessage(e){throw showErrorMessage(e),new Error(e)}function modifyInitParams(){g_options.gallery_images_preload_type||(g_options.gallery_images_preload_type="minimal"),(null==g_options.gallery_min_height||g_options.gallery_height<g_options.gallery_min_height)&&(g_options.gallery_min_height=0),(null==g_options.gallery_min_width||g_options.gallery_width<g_options.gallery_min_width)&&(g_options.gallery_min_width=0)}function validateParams(){if(!g_options.gallery_theme)throw new Error("The gallery can't run without theme");if(jQuery.isNumeric(g_options.gallery_height)&&g_options.gallery_height<g_options.gallery_min_height)throw new Error("The <b>gallery_height</b> option must be bigger then <b>gallery_min_height option</b>");if(g_options.gallery_width<g_options.gallery_min_width)throw new Error("The <b>gallery_width</b> option must be bigger then <b>gallery_min_width option</b>")}function setGalleryHtml(){g_objWrapper.addClass("ug-gallery-wrapper"),g_objWrapper.append("<div class='ug-overlay-disabled' style='display:none'></div>"),t.setSizeClass()}function clearInitData(){g_objWrapper.children().remove()}function storeLastSize(){var e=t.getSize();g_temp.lastWidth=e.width,g_temp.lastHeight=e.height}function setHeightByOriginalRatio(){var e=t.getSize();if(e.width/e.height!=e.orig_ratio){var i=e.width/e.orig_ratio;(i=Math.round(i))<g_options.gallery_min_height&&(i=g_options.gallery_min_height),g_objWrapper.height(i)}}function setHtmlObjectsProperties(){var e={"max-width":g_functions.getCssSizeParam(g_options.gallery_width),"min-width":g_functions.getCssSizeParam(g_options.gallery_min_width)};if(0==g_temp.isFreestyleMode){var t=g_functions.getCssSizeParam(g_options.gallery_height);e.height=t}else e.overflow="visible";g_options.gallery_background_color&&(e["background-color"]=g_options.gallery_background_color),g_objWrapper.css(e)}function fillItemsArray(e){g_arrItems=[];for(var i=t.isMobileMode(),n=0,r=0;r<e.length;r++){var o=jQuery(e[r]),a="";if("a"==(s=o.prop("tagName").toLowerCase())){a=o.attr("href");var s=(o=o.children()).prop("tagName").toLowerCase()}var l=o.data("type");null==l&&(l="image");var u={};if(u.type=l,"img"==s){var d=o.data("lazyload-src");d&&""!=d&&(o.attr("src",d),jQuery.removeData(o,"lazyload-src"));var c=o.data("image"),g=o.data("thumb");void 0===c&&(c=null),void 0===g&&(g=null);var _=o.attr("src");c||(c=_),g||(g=_),g||(g=c),c||(c=g),u.urlThumb=g,u.urlImage=c,u.title=o.attr("alt"),u.objThumbImage=o,u.objThumbImage.attr("src",u.urlThumb)}else{if("image"==l)throw trace("Problematic gallery item found:"),trace(o),trace("Please look for some third party js script that could add this item to the gallery"),new Error("The item should not be image type");u.urlThumb=o.data("thumb"),u.title=o.data("title"),u.objThumbImage=null,u.urlImage=o.data("image")}if(1==i){var h=o.data("thumb-mobile");void 0!==h&&""!=h&&(u.urlThumb=h,"img"==s&&o.attr("src",u.urlThumb));var p=o.data("image-mobile");void 0!==p&&""!=p&&(u.urlImage=p)}u.link=a,u.description=o.attr("title"),u.description||(u.description=o.data("description")),u.description||(u.description=""),u.isLoaded=!1,u.isThumbImageLoaded=!1,u.objPreloadImage=null,u.isBigImageLoadStarted=!1,u.isBigImageLoaded=!1,u.isBigImageLoadError=!1,u.imageWidth=0,u.imageHeight=0,u.thumbWidth=0,u.thumbHeight=0,u.thumbRatioByWidth=0,u.thumbRatioByHeight=0;var f=o.data("width"),m=o.data("height");f&&"number"==typeof f&&m&&"number"==typeof m&&(u.thumbWidth=f,u.thumbHeight=m,u.thumbRatioByWidth=f/m,u.thumbRatioByHeight=m/f);var v=(u.addHtml=null)==u.urlImage||""==u.urlImage,b=null==u.urlThumb||""==u.urlThumb;switch(u.type){case"youtube":if(u.videoid=o.data("videoid"),v||b){var y=g_ugYoutubeAPI.getVideoImages(u.videoid);v&&(u.urlImage=y.preview),b&&(u.urlThumb=y.thumb,"img"==s&&o.attr("src",u.urlThumb))}g_temp.isYoutubePresent=!0;break;case"vimeo":u.videoid=o.data("videoid"),g_temp.isVimeoPresent=!0;break;case"html5video":u.videoogv=o.data("videoogv"),u.videowebm=o.data("videowebm"),u.videomp4=o.data("videomp4"),g_temp.isHtml5VideoPresent=!0;break;case"soundcloud":u.trackid=o.data("trackid"),g_temp.isSoundCloudPresent=!0;break;case"wistia":u.videoid=o.data("videoid"),g_temp.isWistiaPresent=!0;break;case"custom":var w=o.children("img");w.length&&(w=jQuery(w[0]),u.urlThumb=w.attr("src"),u.title=w.attr("alt"),u.objThumbImage=w);var I=o.children().not("img:first-child");I.length&&(u.addHtml=I.clone())}u.objThumbImage&&(u.objThumbImage.removeAttr("data-description",""),u.objThumbImage.removeAttr("data-image",""),u.objThumbImage.removeAttr("data-thumb",""),u.objThumbImage.removeAttr("title","")),u.index=n,g_arrItems.push(u),n++}g_numItems=g_arrItems.length}function loadAPIs(){g_temp.isYoutubePresent&&g_ugYoutubeAPI.loadAPI(),g_temp.isVimeoPresent&&g_ugVimeoAPI.loadAPI(),g_temp.isHtml5VideoPresent&&g_ugHtml5MediaAPI.loadAPI(),g_temp.isSoundCloudPresent&&g_ugSoundCloudAPI.loadAPI(),g_temp.isWistiaPresent&&g_ugWistiaAPI.loadAPI()}function preloadBigImages(){if("visible"!=g_options.gallery_images_preload_type||g_objThumbs||(g_options.gallery_images_preload_type="minimal"),1==g_temp.isAllItemsPreloaded)return!0;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":jQuery(g_arrItems).each(function(){preloadItemImage(this)});break;case"visible":jQuery(g_arrItems).each(function(){1==g_objThumbs.isItemThumbVisible(this)&&preloadItemImage(this)})}}function checkPreloadItemImage(e){if(1==e.isBigImageLoadStarted||1==e.isBigImageLoaded||1==e.isBigImageLoadError)return!1;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":preloadItemImage(e);break;case"visible":1==g_objThumbs.isItemThumbVisible(e)&&preloadItemImage(e)}}function preloadItemImage(e){if(1==e.isBigImageLoadStarted||1==e.isBigImageLoaded||1==e.isBigImageLoadError)return!0;var i=e.urlImage;return""==i||null==i?!(e.isBigImageLoadError=!0):(e.isBigImageLoadStarted=!0,e.objPreloadImage=jQuery("<img/>").attr("src",i),e.objPreloadImage.data("itemIndex",e.index),e.objPreloadImage.on("load",t.onItemBigImageLoaded),e.objPreloadImage.on("error",function(){var e=jQuery(this).data("itemIndex"),i=g_arrItems[e];i.isBigImageLoadError=!0,i.isBigImageLoaded=!1;var n=jQuery(this).attr("src");console.log("Can't load image: "+n),g_objGallery.trigger(t.events.ITEM_IMAGE_UPDATED,[e,i.urlImage]),i.objThumbImage.attr("src",i.urlThumb)}),void checkAllItemsStartedPreloading())}function preloadNearBigImages(e){if(1==g_temp.isAllItemsPreloaded)return!1;if(!e)e=g_selectedItem;if(!e)return!0;var t=e.index,i=t-1,n=t+1;0<i&&preloadItemImage(g_arrItems[i]),n<g_numItems&&preloadItemImage(g_arrItems[n])}function checkAllItemsStartedPreloading(){if(1==g_temp.isAllItemsPreloaded)return!1;for(var e in g_arrItems)if(0==g_arrItems[e].isBigImageLoadStarted)return!1;g_temp.isAllItemsPreloaded=!0}function __________END_INIT_GALLERY_______(){}function __________EVENTS_____________(){}function onSliderMouseEnter(e){1==g_options.gallery_pause_on_mouseover&&0==t.isFullScreen()&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()&&t.pausePlaying()}function onSliderMouseLeave(e){1==g_options.gallery_pause_on_mouseover&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()&&(0==g_objSlider.isCurrentSlideLoadingImage()&&t.continuePlaying())}function onKeyPress(e){var i=jQuery(e.target);if(i.is("textarea")||i.is("select")||i.is("input"))return!0;var n=e.charCode?e.charCode:e.keyCode?e.keyCode:e.which?e.which:0,r=!0;switch(n){case 39:t.nextItem();break;case 37:t.prevItem();break;default:r=!1}1==r&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()),g_objGallery.trigger(t.events.GALLERY_KEYPRESS,[n,e])}function onGalleryResized(){var e;if(0==(e=t.getSize()).width)return!0;if(t.setSizeClass(),(e=t.getSize()).width!=g_temp.lastWidth||e.height!=g_temp.lastHeight){var i=!1;if(g_temp.funcCustomHeight){var n=g_temp.funcCustomHeight(e);n&&(g_objWrapper.height(n),i=!0)}0==i&&1==g_options.gallery_preserve_ratio&&0==g_temp.isFreestyleMode&&setHeightByOriginalRatio(),storeLastSize(),g_objGallery.trigger(t.events.SIZE_CHANGE)}}function onThumbsChange(e){"visible"==g_options.gallery_images_preload_type&&0==g_temp.isAllItemsPreloaded&&preloadBigImages()}function onFullScreenChange(){var e=g_functions.isFullScreen(),i=e?t.events.ENTER_FULLSCREEN:t.events.EXIT_FULLSCREEN,n=g_functions.getGlobalData("fullscreenID");return g_galleryID!==n||(e?g_objWrapper.addClass("ug-fullscreen"):g_objWrapper.removeClass("ug-fullscreen"),g_objGallery.trigger(i),void onGalleryResized())}function onItemImageUpdated(e,i){checkPreloadItemImage(t.getItem(i))}function onCurrentSlideImageLoadEnd(){1==t.isPlayMode()&&t.continuePlaying()}function initEvents(){if(g_objWrapper.on("dragstart",function(e){e.preventDefault()}),g_objGallery.on(t.events.ITEM_IMAGE_UPDATED,onItemImageUpdated),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).on(g_objThumbs.events.STRIP_MOVE,onThumbsChange);break;case"grid":jQuery(g_objThumbs).on(g_objThumbs.events.PANE_CHANGE,onThumbsChange)}if("advance"==g_options.gallery_mousewheel_role&&0==g_temp.isFreestyleMode&&g_objWrapper.on("mousewheel",t.onGalleryMouseWheel),storeLastSize(),jQuery(window).resize(function(){g_objWrapper.css("width","auto"),g_functions.whenContiniousEventOver("gallery_resize",onGalleryResized,g_temp.resizeDelay)}),setTimeout(function(){setInterval(onGalleryResized,2e3)},1e4),g_functions.addFullScreenChangeEvent(onFullScreenChange),g_objSlider){if(jQuery(g_objSlider).on(g_objSlider.events.ITEM_CHANGED,function(){var e=g_objSlider.getCurrentItemIndex();-1!=e&&t.selectItem(e)}),1==g_options.gallery_pause_on_mouseover)g_objSlider.getElement().hover(onSliderMouseEnter,onSliderMouseLeave),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){onSliderMouseLeave()});retriggerEvent(g_objSlider,g_objSlider.events.ACTION_START,t.events.SLIDER_ACTION_START),retriggerEvent(g_objSlider,g_objSlider.events.ACTION_END,t.events.SLIDER_ACTION_END),jQuery(g_objSlider).on(g_objSlider.events.CURRENTSLIDE_LOAD_END,onCurrentSlideImageLoadEnd)}1==g_options.gallery_control_keyboard&&jQuery(document).keydown(onKeyPress)}function __________GENERAL_______(){}function cacheItems(e,t){if(t)"noitems"!=(i=t)&&(i=jQuery(t).clone());else var i=g_objWrapper.children().clone();g_objCache[e]=i}function removeAllSizeClasses(e){e||(e=g_objWrapper),e.removeClass("ug-under-480"),e.removeClass("ug-under-780"),e.removeClass("ug-under-960")}function retriggerEvent(e,t,i){jQuery(e).on(t,function(e){g_objGallery.trigger(i,[this])})}function advanceNextStep(){var e=jQuery.now(),i=e-g_temp.playTimeLastStep;if(g_temp.playTimePassed+=i,g_temp.playTimeLastStep=e,g_temp.objProgress){var n=g_temp.playTimePassed/g_options.gallery_play_interval;g_temp.objProgress.setProgress(n)}g_temp.playTimePassed>=g_options.gallery_play_interval&&(t.nextItem(),g_temp.playTimePassed=0)}function unselectSeletedItem(){return null==g_selectedItem||(g_objThumbs&&g_objThumbs.setThumbUnselected(g_selectedItem.objThumbWrapper),g_selectedItem=null,void(g_selectedItemIndex=-1))}function toFakeFullScreen(){jQuery("body").addClass("ug-body-fullscreen"),g_objWrapper.addClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!0,g_objGallery.trigger(t.events.ENTER_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}function exitFakeFullscreen(){jQuery("body").removeClass("ug-body-fullscreen"),g_objWrapper.removeClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!1,g_objGallery.trigger(t.events.EXIT_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}var t=this,g_galleryID,g_objGallery=jQuery(t),g_objWrapper,g_objParent,g_objThumbs,g_objSlider,g_functions=new UGFunctions,g_objTabs,g_arrItems=[],g_numItems,g_selectedItem=null,g_selectedItemIndex=-1,g_objTheme,g_objCache={};this.events={ITEM_CHANGE:"item_change",SIZE_CHANGE:"size_change",ENTER_FULLSCREEN:"enter_fullscreen",EXIT_FULLSCREEN:"exit_fullscreen",START_PLAY:"start_play",STOP_PLAY:"stop_play",PAUSE_PLAYING:"pause_playing",CONTINUE_PLAYING:"continue_playing",SLIDER_ACTION_START:"slider_action_start",SLIDER_ACTION_END:"slider_action_end",ITEM_IMAGE_UPDATED:"item_image_updated",GALLERY_KEYPRESS:"gallery_keypress",GALLERY_BEFORE_REQUEST_ITEMS:"gallery_before_request_items",OPEN_LIGHTBOX:"open_lightbox",CLOSE_LIGHTBOX:"close_lightbox"};var g_options={gallery_width:900,gallery_height:500,gallery_min_width:150,gallery_min_height:100,gallery_theme:"default",gallery_skin:"default",gallery_images_preload_type:"minimal",gallery_autoplay:!1,gallery_play_interval:3e3,gallery_pause_on_mouseover:!0,gallery_mousewheel_role:"zoom",gallery_control_keyboard:!0,gallery_carousel:!0,gallery_preserve_ratio:!0,gallery_background_color:"",gallery_debug_errors:!1,gallery_shuffle:!1,gallery_urlajax:null,gallery_enable_tabs:!1,gallery_enable_cache:!0,gallery_initial_catid:""},g_temp={objCustomOptions:{},isAllItemsPreloaded:!1,isFreestyleMode:!1,lastWidth:0,lastHeigh:0,handleResize:null,isInited:!1,isPlayMode:!1,isPlayModePaused:!1,playTimePassed:0,playTimeLastStep:0,playHandle:"",playStepInterval:33,objProgress:null,isFakeFullscreen:!1,thumbsType:null,isYoutubePresent:!1,isVimeoPresent:!1,isHtml5VideoPresent:!1,isSoundCloudPresent:!1,isWistiaPresent:!1,resizeDelay:100,isRunFirstTime:!0,originalOptions:{},funcCustomHeight:null};this.onItemBigImageLoaded=function(e,t){if(!t)t=jQuery(this);var i=t.data("itemIndex"),n=g_arrItems[i];n.isBigImageLoaded=!0;var r=g_functions.getImageOriginalSize(t);n.imageWidth=r.width,n.imageHeight=r.height},this.checkFillImageSize=function(e,t){if(!t){var i=e.data("itemIndex");if(void 0===i)throw new Error("Wrong image given to gallery.checkFillImageSize");t=g_arrItems[i]}var n=g_functions.getImageOriginalSize(e);t.imageWidth=n.width,t.imageHeight=n.height},this.setFreestyleMode=function(){g_temp.isFreestyleMode=!0},this.attachThumbsPanel=function(e,t){g_temp.thumbsType=e,g_objThumbs=t},this.initSlider=function(e,i){if(!e)e={};e=jQuery.extend(g_temp.objCustomOptions,e),(g_objSlider=new UGSlider).init(t,e,i)},this.onGalleryMouseWheel=function(e,i,n,r){e.preventDefault(),0<i?t.prevItem():t.nextItem()},this.destroy=function(){if(g_objWrapper.off("dragstart"),g_objGallery.off(t.events.ITEM_IMAGE_UPDATED),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).off(g_objThumbs.events.STRIP_MOVE);break;case"grid":jQuery(g_objThumbs).off(g_objThumbs.events.PANE_CHANGE)}if(g_objWrapper.off("mousewheel"),jQuery(window).off("resize"),g_functions.destroyFullScreenChangeEvent(),g_objSlider){jQuery(g_objSlider).off(g_objSlider.events.ITEM_CHANGED);var e=g_objSlider.getElement();e.off("mouseenter"),e.off("mouseleave"),g_objGallery.off(t.events.ENTER_FULLSCREEN),jQuery(g_objSlider).off(g_objSlider.events.ACTION_START),jQuery(g_objSlider).off(g_objSlider.events.ACTION_END),jQuery(g_objSlider).off(g_objSlider.events.CURRENTSLIDE_LOAD_END)}1==g_options.gallery_control_keyboard&&jQuery(document).off("keydown"),g_objTheme&&"function"==typeof g_objTheme.destroy&&g_objTheme.destroy(),g_objWrapper.html("")},this.getArrItems=function(){return g_arrItems},this.getObjects=function(){return{g_galleryID:g_galleryID,g_objWrapper:g_objWrapper,g_objThumbs:g_objThumbs,g_objSlider:g_objSlider,g_options:g_options,g_arrItems:g_arrItems,g_numItems:g_numItems}},this.getObjSlider=function(){return g_objSlider},this.getItem=function(e){if(e<0)throw new Error("item with index: "+e+" not found");if(g_numItems<=e)throw new Error("item with index: "+e+" not found");return g_arrItems[e]},this.getWidth=function(){return t.getSize().width},this.getHeight=function(){return t.getSize().height},this.getSize=function(){var e=g_functions.getElementSize(g_objWrapper);return e.orig_width=g_options.gallery_width,e.orig_height=g_options.gallery_height,e.orig_ratio=e.orig_width/e.orig_height,e},this.getGalleryID=function(){return g_galleryID.replace("#","")},this.getNextItem=function(e,t){"object"==typeof e&&(e=e.index);var i=e+1;if(!0!==t&&1==g_numItems)return null;if(g_numItems<=i){if(1!=g_options.gallery_carousel&&!0!==t)return null;i=0}return g_arrItems[i]},this.getPrevItem=function(e){"object"==typeof e&&(e=e.index);var t=e-1;if(t<0){if(1!=g_options.gallery_carousel&&!0!==forceCarousel)return null;t=g_numItems-1}return g_arrItems[t]},this.getSelectedItem=function(){return g_selectedItem},this.getSelectedItemIndex=function(){return g_selectedItemIndex},this.getNumItems=function(){return g_numItems},this.isLastItem=function(){return g_selectedItemIndex==g_numItems-1},this.isFirstItem=function(){return 0==g_selectedItemIndex},this.getOptions=function(){return g_options},this.getElement=function(){return g_objWrapper},this.___________SET_CONTROLS___________=function(){},this.setNextButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.nextItem)},this.setPrevButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.prevItem)},this.setFullScreenToggleButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.toggleFullscreen),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){e.addClass("ug-fullscreenmode")}),g_objGallery.on(t.events.EXIT_FULLSCREEN,function(){e.removeClass("ug-fullscreenmode")})},this.destroyFullscreenButton=function(e){g_functions.destroyButton(e),g_objGallery.off(t.events.ENTER_FULLSCREEN),g_objGallery.off(t.events.EXIT_FULLSCREEN)},this.setPlayButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.togglePlayMode),g_objGallery.on(t.events.START_PLAY,function(){e.addClass("ug-stop-mode")}),g_objGallery.on(t.events.STOP_PLAY,function(){e.removeClass("ug-stop-mode")})},this.destroyPlayButton=function(e){g_functions.destroyButton(e),g_objGallery.off(t.events.START_PLAY),g_objGallery.off(t.events.STOP_PLAY)},this.setProgressIndicator=function(e){g_temp.objProgress=e},this.setTextContainers=function(i,n){g_objGallery.on(t.events.ITEM_CHANGE,function(){var e=t.getSelectedItem();i.html(e.title),n.html(e.description)})},this.showDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").show()},this.hideDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").hide()},this.___________END_SET_CONTROLS___________=function(){},this.___________PLAY_MODE___________=function(){},this.startPlayMode=function(){if(g_temp.isPlayMode=!0,g_temp.isPlayModePaused=!1,g_temp.playTimePassed=0,g_temp.playTimeLastStep=jQuery.now(),g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval),g_temp.objProgress){var e=g_temp.objProgress.getElement();g_temp.objProgress.setProgress(0),e.show()}g_objGallery.trigger(t.events.START_PLAY),g_objSlider&&1==g_objSlider.isCurrentSlideLoadingImage()&&t.pausePlaying()},this.resetPlaying=function(){return 0==g_temp.isPlayMode||(g_temp.playTimePassed=0,void(g_temp.playTimeLastStep=jQuery.now()))},this.pausePlaying=function(){return 1==g_temp.isPlayModePaused||(g_temp.isPlayModePaused=!0,clearInterval(g_temp.playHandle),void g_objGallery.trigger(t.events.PAUSE_PLAYING))},this.continuePlaying=function(){return 0==g_temp.isPlayModePaused||(g_temp.isPlayModePaused=!1,g_temp.playTimeLastStep=jQuery.now(),void(g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval)))},this.stopPlayMode=function(){(g_temp.isPlayMode=!1,clearInterval(g_temp.playHandle),g_temp.playTimePassed=0,g_temp.objProgress)&&g_temp.objProgress.getElement().hide();g_objGallery.trigger(t.events.STOP_PLAY)},this.isPlayMode=function(){return g_temp.isPlayMode},this.togglePlayMode=function(){0==t.isPlayMode()?t.startPlayMode():t.stopPlayMode()},this.___________GENERAL_EXTERNAL___________=function(){},this.shuffleItems=function(){for(var e in g_arrItems=g_functions.arrayShuffle(g_arrItems))g_arrItems[e].index=parseInt(e)},this.setOptions=function(e){g_options=jQuery.extend(g_options,e)},this.selectItem=function(e,i){"number"==typeof e&&(e=t.getItem(e));var n=e.index;if(n==g_selectedItemIndex)return!0;(unselectSeletedItem(),g_selectedItem=e,g_selectedItemIndex=n,g_objGallery.trigger(t.events.ITEM_CHANGE,[e,i]),1==g_temp.isPlayMode)&&(t.resetPlaying(),1==g_objSlider.isCurrentSlideLoadingImage()&&t.pausePlaying())},this.nextItem=function(){var e=g_selectedItemIndex+1;return 0==g_numItems||(0==g_options.gallery_carousel&&g_numItems<=e||(g_numItems<=e&&(e=0),void t.selectItem(e,"next")))},this.prevItem=function(){var e=g_selectedItemIndex-1;return-1==g_selectedItemIndex&&(e=0),0==g_numItems||(0==g_options.gallery_carousel&&e<0||(e<0&&(e=g_numItems-1),void t.selectItem(e,"prev")))},this.isFullScreen=function(){return 1==g_temp.isFakeFullscreen||1==g_functions.isFullScreen()},this.isFakeFullscreen=function(){return g_temp.isFakeFullscreen},this.toFullScreen=function(){g_functions.setGlobalData("fullscreenID",g_galleryID);var e=g_objWrapper.get(0);0==g_functions.toFullscreen(e)&&toFakeFullScreen()},this.exitFullScreen=function(){1==g_temp.isFakeFullscreen?exitFakeFullscreen():g_functions.exitFullscreen()},this.toggleFullscreen=function(){0==t.isFullScreen()?t.toFullScreen():t.exitFullScreen()},this.resize=function(e,t,i){g_objWrapper.css("width","auto"),g_objWrapper.css("max-width",e+"px"),t&&g_objWrapper.height(t),i||!0===i||onGalleryResized()},this.setSizeClass=function(e,i){if(!e)e=g_objWrapper;if(!i)i=t.getSize().width;if(0==i)i=jQuery(window).width();var n="";return i<=480?n="ug-under-480":i<=780?n="ug-under-780":i<960&&(n="ug-under-960"),1==e.hasClass(n)||(removeAllSizeClasses(e),void(""!=n&&e.addClass(n)))},this.isMobileMode=function(){return!!g_objWrapper.hasClass("ug-under-480")},this.isSmallWindow=function(){var e=jQuery(window).width();return!e||e<=480},this.changeItems=function(e,t){if(!e)e="noitems";runGallery(g_galleryID,"nochange",e,t)},this.showErrorMessageReplaceGallery=function(e){showErrorMessage(e)},this.setFuncCustomHeight=function(e){g_temp.funcCustomHeight=e},this.__________AJAX_REQUEST_______=function(){},this.ajaxRequest=function(e,t,i,n){if(1==i&&"json",!n||"function"!=typeof n)throw new Error("ajaxRequest error: success function should be passed");if(""==g_options.gallery_urlajax)throw new Error("ajaxRequest error: Ajax url don't passed");if(void 0===t)t={};var r={action:"unitegallery_ajax_action",client_action:e,galleryID:g_galleryID,data:t};jQuery.ajax({type:"post",url:g_options.gallery_urlajax,dataType:"json",data:r,success:function(e){return e?-1==e||0===e?(showErrorMessage("ajax error!!!"),!1):void 0===e.success?(showErrorMessage("The 'success' param is a must!"),!1):0==e.success?(showErrorMessage(e.message),!1):void n(e):(showErrorMessage("Empty ajax response!","Ajax Error"),!1)},error:function(e,t,i){console.log("Ajax Error!!! "+t)}})},this.requestNewItems=function(e,i,n){var r=g_options.gallery_enable_cache;if(n||(n=e),1==i&&(r=!1),1==r&&g_objCache.hasOwnProperty(n)){var o=g_objCache[n];t.changeItems(o,n)}else g_objGallery.trigger(t.events.GALLERY_BEFORE_REQUEST_ITEMS),t.ajaxRequest("front_get_cat_items",{catid:e},!0,function(e){var i=e.html;t.changeItems(i,n)})},this.run=function(e,t){if(g_options.gallery_debug_errors,t&&t.hasOwnProperty("gallery_debug_errors")&&(g_options.gallery_debug_errors=t.gallery_debug_errors),1==g_options.gallery_debug_errors)try{runGallery(e,t)}catch(e){if("object"==typeof e){var i=e.message,n=e.lineNumber,r=e.fileName;e.stack,i+=" <br><br> in file: "+r,i+=" <b> line "+n+"</b>",trace(e)}else i=e;showErrorMessage(i=i.replace("Error:",""))}else runGallery(e,t)}}function UGLightbox(){function r(){1==q.isCompact&&1==X.lightbox_show_textpanel&&(X.lightbox_slider_image_padding_bottom=q.initTextPanelHeight),1==q.isCompact&&"inside"==X.lightbox_arrows_position&&(q.isArrowsInside=!0),1==q.isArrowsInside&&0==X.lightbox_arrows_inside_alwayson&&(q.isArrowsOnHoverMode=!0),0==X.lightbox_show_textpanel&&(q.isTopPanelEnabled=!1,q.topPanelHeight=0,X.lightbox_slider_image_padding_top=0)}function o(e){if(!Y)return!0;var t={slider_image_padding_top:e};Y.setOptions(t),Y.refreshSlideItems()}function s(e){if(!W)return!1;if(!V)return!1;var t=W.height();if(0==t)return!1;if(0==W.is(":visible"))return!1;var i=t,n=V.getSize().height;t!=q.topPanelHeight&&(i=q.topPanelHeight),i<n&&(i=n),t!=i&&(W.height(i),Y&&0==Y.isAnimating()&&o(i))}function a(e){if(0==q.isOpened)return!1;if(!V)return!1;if(!Y)return!1;var t=U.getElementSize(L),i=V.getSize();if(0==i.width||120<i.height)return!1;if(!e){var n=Y.getSlideImage();e=U.getElementSize(n)}if(0==e.height||0==e.width)return!1;if(e.bottom+i.height<t.height)return!1;var r=Y.getOptions(),o=i.height;if(o!=r.slider_image_padding_bottom){var a={slider_image_padding_bottom:o};if(0==Y.isAnimating())return Y.setOptions(a),Y.refreshSlideItems(),!0}return!1}function i(e){var t=(U.getElementSize(L),Y.getSlideImage()),i=U.getElementSize(t);if(0==i.width)return!1;q.textPanelLeft=i.left,q.textPanelTop=i.bottom;var n=i.width;if(G){var r=U.getElementSize(G);n-=r.width;var o=i.right-r.width;U.placeElement(G,o,q.textPanelTop)}V&&(V.show(),V.refresh(!0,!0,n),function(e,t){if(!e){var i=Y.getSlideImage();e=U.getElementSize(i)}q.textPanelTop=e.bottom,!0===t&&V.positionPanel(q.textPanelTop,q.textPanelLeft)}(i)),0==a(i)&&(q.positionFrom="handleCompactTextpanelSizes",V&&(V.positionPanel(q.textPanelTop,q.textPanelLeft),!0===e&&(e(),v())))}function c(){return 0==Y.isCurrentSlideType("image")||1==Y.isCurrentImageInPlace()}function n(e,t){if(0==q.isArrowsInside)return!1;if(!N)return!1;var i=c();if(N.show(),R.show(),q.positionFrom="positionArrowsInside",1==q.isArrowsOnHoverMode&&1==i&&0==g()&&_(!0),0==i)var n=U.getElementRelativePos(N,"left",X.lightbox_arrows_offset),r=U.getElementRelativePos(N,"middle"),o=U.getElementRelativePos(R,"right",X.lightbox_arrows_offset),a=r;else{var s=Y.getSlideImage(),l=U.getElementSize(s);n=(U.getElementSize(Y.getElement()),U.getElementRelativePos(N,"left",0,s)+l.left+X.lightbox_arrows_inside_offset),r=U.getElementRelativePos(N,"middle",0,s)+l.top,o=U.getElementRelativePos(N,"right",0,s)+l.left-X.lightbox_arrows_inside_offset,a=r}if(!0===t){var u={left:n,top:r},d={left:o,top:a};N.stop().animate(u,{duration:q.fadeDuration}),R.stop().animate(d,{duration:q.fadeDuration})}else N.stop(),R.stop(),U.placeElement(N,n,r),U.placeElement(R,o,a);1==e&&h(t)}function l(e,t){q.positionFrom=null;var i=c(),n=U.getElementRelativePos(D,"right",2,L);if(0==i)var r=2,o=n;else{var a=Y.getSlideImage(),s=U.getElementSize(a),l=U.getElementSize(Y.getElement()),u=U.getElementSize(D);l.top==l.height&&(l.top=0);o=l.left+s.right-u.width/2+X.lightbox_compact_closebutton_offsetx;(r=l.top+s.top-u.height/2-X.lightbox_compact_closebutton_offsety)<2&&(r=2),n<o&&(o=n)}if(!0===t){var d={left:o,top:r};D.stop().animate(d,{duration:q.fadeDuration})}else D.stop(),U.placeElement(D,o,r);!0===e&&(!0!==t&&D.stop(),D.fadeTo(q.fadeDuration,1))}function t(){D&&D.stop().fadeTo(q.fadeDuration,0),e(),d(),q.positionFrom="hideCompactElements",1==q.isArrowsInside&&_()}function u(){var e,t,i,n=U.getElementSize(L);W&&U.setElementSizeAndPosition(W,0,0,n.width,q.topPanelHeight),N&&0==q.isArrowsInside&&(1==X.lightbox_hide_arrows_onvideoplay&&(N.show(),R.show()),U.placeElement(N,"left","middle",X.lightbox_arrows_offset),U.placeElement(R,"right","middle",X.lightbox_arrows_offset)),0==q.isCompact&&U.placeElement(D,"right","top",2,2),V&&(q.positionFrom="positionElements",0==q.isCompact?(e=n,t={},i=X.lightbox_textpanel_width,e.width-47-40<i?(t.textpanel_padding_left=47,t.textpanel_padding_right=40,t.textpanel_title_text_align="center",t.textpanel_desc_text_align="center"):(t.textpanel_padding_left=Math.floor((e.width-i)/2),t.textpanel_padding_right=t.textpanel_padding_left,t.textpanel_title_text_align="left",t.textpanel_desc_text_align="left",X.lightbox_textpanel_title_text_align&&(t.textpanel_title_text_align=X.lightbox_textpanel_desc_text_align),X.lightbox_textpanel_desc_text_align&&(t.textpanel_desc_text_align=X.lightbox_textpanel_desc_text_align)),V.setOptions(t),V.refresh(!0,!0),s(),V.positionPanel()):(m(),v()));var r=n.width,o=n.height;if(Y){if(W){var a={slider_image_padding_top:W.height()};Y.setOptions(a)}Y.setSize(r,o),Y.setPosition(0,0)}}function e(){V&&V.getElement().stop().fadeTo(q.fadeDuration,0)}function d(){G&&G.stop().fadeTo(q.fadeDuration,0)}function g(){if(!q.lastMouseX)return!0;var e={pageX:q.lastMouseX,pageY:q.lastMouseY};return Y.isMouseInsideSlideImage(e)}function _(e,t){return!!N&&(1==q.isArrowsOnHoverMode&&!1===t?(g(),!0):void(!0===e?(N.stop().fadeTo(0,0),R.stop().fadeTo(0,0)):(N.stop().fadeTo(q.fadeDuration,0),R.stop().fadeTo(q.fadeDuration,0))))}function h(e,t){return!!N&&(1==q.isArrowsOnHoverMode&&!0!==t&&1==c()||(1==Y.isSwiping()||(!0!==e&&(N.stop(),R.stop()),N.fadeTo(q.fadeDuration,1),void R.fadeTo(q.fadeDuration,1))))}function p(e){if(!V)return!1;if(!e)e=Y.getCurrentItem();V.setTextPlain(e.title,e.description)}function f(e){if(!G)return!1;if(!e)e=Y.getCurrentItem();var t=B.getNumItems(),i=e.index+1;G.html(i+" / "+t)}function m(){return!!V&&void V.getElement().show().stop().fadeTo(q.fadeDuration,1)}function v(){G&&G.stop().fadeTo(q.fadeDuration,1)}function b(){return 0==q.isCompact||void t()}function y(){if(0==q.isCompact)return!0;(l(!(q.positionFrom="onZoomChange"),!0),n(!1,!0),1==q.isCompact)&&(0==(Y.isCurrentSlideType("image")&&1==Y.isCurrentImageInPlace())?(e(),d()):(q.positionFrom="onZoomChange",m(),v()))}function w(){if(0==q.isCompact)return!0;q.positionFrom="onSliderAfterReturn",l(!0),n(!0),0==a()&&i(),m(),v()}function I(e,t){return t=jQuery(t),0==q.isCompact||(0==Y.isSlideCurrent(t)||(q.positionFrom="onSliderAfterPutImage",l(!0),n(!0),void i()))}function T(){var e=Y.getOptions().slider_image_padding_top;if(W){var t=W.height();t!=e&&o(t)}if(1==q.isCompact){if(p(),f(),q.positionFrom="onSliderTransitionEnd",l(!0),n(!0),0==Y.isSlideActionActive())0==a()&&i();m(),v()}}function E(e,t){0==q.isCompact?(G&&f(t),V&&(p(t),0==q.isRightNowOpened&&(V.positionElements(!1),s(),V.positionPanel()))):0==Y.isAnimating()&&(V&&p(t),G&&f(t)),0==q.isSliderChangedOnce&&(q.isSliderChangedOnce=!0,F.trigger(Q.events.LIGHTBOX_INIT))}function S(e,t){if("image"!=Y.getSlideType()&&0==q.isCompact&&Y.isSlideActionActive())return!0;if(1==Y.isPreloading())return Q.close("slider"),!0;1==X.lightbox_close_on_emptyspace&&(0==Y.isMouseInsideSlideImage(t)&&Q.close("slider_inside"))}function x(){u()}function P(){W?!!W&&W.hide():G&&G.hide(),N&&1==X.lightbox_hide_arrows_onvideoplay&&(N.hide(),R.hide())}function C(){W?(!!W&&W.show(),s()):G&&G.show(),N&&1==X.lightbox_hide_arrows_onvideoplay&&(N.show(),R.show())}function j(e,t,i){var n=!1;switch(t){case 27:1==q.isOpened&&Q.close("keypress");break;case 38:case 40:case 33:case 34:n=!0}1==q.isOpened&&1==n&&i.preventDefault()}function A(){1==q.isArrowsOnHoverMode&&h(!1,!0)}function M(e){q.positionFrom="hideCompactElements",1==q.isArrowsOnHoverMode&&1==c()&&_(!1,!0)}function O(e){q.lastMouseX=e.pageX,q.lastMouseY=e.pageY,1==(!N||0==N.is(":visible")||1!=N.css("opacity"))&&g()&&0==Y.isAnimating()&&(q.positionFrom="onMouseMove",N&&0==N.is(":animated")&&h(!1,!0))}function z(e,t,i,n){if(0==q.isOpened)return!0;switch(X.gallery_mousewheel_role){default:case"zoom":"image"!=Y.getSlideType()&&e.preventDefault();break;case"none":e.preventDefault();break;case"advance":B.onGalleryMouseWheel(e,t,i,n)}}var k,L,H,N,R,D,G,W,Q=this,F=jQuery(this),B=new UniteGalleryMain,Y=new UGSlider,U=new UGFunctions,V=new UGTextPanel,X={lightbox_type:"wide",lightbox_show_textpanel:!0,lightbox_textpanel_width:550,lightbox_hide_arrows_onvideoplay:!0,lightbox_arrows_position:"sides",lightbox_arrows_offset:10,lightbox_arrows_inside_offset:10,lightbox_arrows_inside_alwayson:!1,lightbox_overlay_color:null,lightbox_overlay_opacity:1,lightbox_top_panel_opacity:null,lightbox_show_numbers:!0,lightbox_numbers_size:null,lightbox_numbers_color:null,lightbox_numbers_padding_top:null,lightbox_numbers_padding_right:null,lightbox_compact_closebutton_offsetx:1,lightbox_compact_closebutton_offsety:1,lightbox_close_on_emptyspace:!0},q={topPanelHeight:44,initTextPanelHeight:26,isOpened:!(this.events={LIGHTBOX_INIT:"lightbox_init"}),isRightNowOpened:!1,putSlider:!0,isCompact:!1,fadeDuration:300,positionFrom:null,textPanelTop:null,textPanelLeft:null,isArrowsInside:!1,isArrowsOnHoverMode:!1,lastMouseX:null,lastMouseY:null,originalOptions:null,isSliderChangedOnce:!1,isTopPanelEnabled:!0},Z={lightbox_slider_controls_always_on:!0,lightbox_slider_enable_bullets:!1,lightbox_slider_enable_arrows:!1,lightbox_slider_enable_progress_indicator:!1,lightbox_slider_enable_play_button:!1,lightbox_slider_enable_fullscreen_button:!1,lightbox_slider_enable_zoom_panel:!1,lightbox_slider_enable_text_panel:!1,lightbox_slider_scale_mode_media:"down",lightbox_slider_scale_mode:"down",lightbox_slider_loader_type:3,lightbox_slider_loader_color:"black",lightbox_slider_transition:"fade",lightbox_slider_image_padding_top:q.topPanelHeight,lightbox_slider_image_padding_bottom:0,lightbox_slider_video_padding_top:0,lightbox_slider_video_padding_bottom:0,lightbox_textpanel_align:"middle",lightbox_textpanel_padding_top:5,lightbox_textpanel_padding_bottom:5,slider_video_constantsize:!1,lightbox_slider_image_border:!1,lightbox_textpanel_enable_title:!0,lightbox_textpanel_enable_description:!1,lightbox_textpanel_desc_style_as_title:!0,lightbox_textpanel_enable_bg:!1,video_enable_closebutton:!1,lightbox_slider_video_enable_closebutton:!1,video_youtube_showinfo:!1,lightbox_slider_enable_links:!1},K={lightbox_overlay_opacity:.6,lightbox_slider_image_border:!0,lightbox_slider_image_shadow:!0,lightbox_slider_image_padding_top:30,lightbox_slider_image_padding_bottom:30,slider_video_constantsize:!0,lightbox_textpanel_align:"bottom",lightbox_textpanel_title_text_align:"left",lightbox_textpanel_desc_text_align:"left",lightbox_textpanel_padding_left:10,lightbox_textpanel_padding_right:10};this.destroy=function(){if(jQuery(document).unbind("mousemove"),H.off("touchstart"),H.off("touchend"),D.off("click"),k.off(B.events.ITEM_CHANGE),Y){jQuery(Y).off(Y.events.TRANSITION_END),jQuery(Y).off(Y.events.CLICK),jQuery(Y).off(Y.events.START_DRAG),jQuery(Y).off(Y.events.TRANSITION_START),jQuery(Y).off(Y.events.AFTER_DRAG_CHANGE),jQuery(Y).off(Y.events.AFTER_RETURN);var e=Y.getVideoObject();jQuery(e).off(e.events.PLAY_START),jQuery(e).off(e.events.PLAY_STOP),jQuery(Y).on(Y.events.IMAGE_MOUSEENTER,A),jQuery(Y).on(Y.events.IMAGE_MOUSELEAVE,M),Y.destroy()}jQuery(window).unbind("resize"),k.off(B.events.GALLERY_KEYPRESS,j),L.off("mousewheel"),L.remove()},this.open=function(e){var t=B.getItem(e);(q.isOpened=!0,q.isRightNowOpened=!0,setTimeout(function(){q.isRightNowOpened=!1},100),Y&&Y.setItem(t,"lightbox_open"),V&&V.setTextPlain(t.title,t.description),H.stop().fadeTo(0,0),L.show(),L.fadeTo(0,1),H.stop().fadeTo(q.fadeDuration,X.lightbox_overlay_opacity),u(),1==q.isCompact)&&(1==Y.isPreloading()?(D&&D.hide(),N&&1==q.isArrowsInside&&(N.hide(),R.hide()),G&&G.hide(),V&&V.hide()):1==q.isArrowsInside&&(N.hide(),R.hide()));Y&&Y.startSlideAction(),k.trigger(B.events.OPEN_LIGHTBOX,t)},this.close=function(e){q.isOpened=!1,1==q.isCompact&&t(),Y&&Y.stopSlideAction(),"image"!=Y.getSlideType()?L.hide():L.fadeTo(q.fadeDuration,0,function(){L.hide()}),k.trigger(B.events.CLOSE_LIGHTBOX)},this.init=function(e,t){var i,n;n=t,B=i=e,k=jQuery(i),X=jQuery.extend(X,Z),X=jQuery.extend(X,n),q.originalOptions=jQuery.extend({},X),"compact"==X.lightbox_type&&(q.isCompact=!0,X=jQuery.extend(X,K),X=jQuery.extend(X,n)),r(),1==q.putSlider?(B.initSlider(X,"lightbox"),g_objects=i.getObjects(),Y=g_objects.g_objSlider):Y=null,1==X.lightbox_show_textpanel?V.init(B,X,"lightbox"):V=null},this.putHtml=function(){var e,t;B.isSmallWindow()&&1==q.isCompact&&(q.isCompact=!1,r(),q.isArrowsInside=!1,q.isArrowsOnHoverMode=!1,(X=jQuery.extend({},q.originalOptions)).lightbox_arrows_position="sides",Y.setOptions(X)),t=e="",1==q.isCompact&&(t=" ug-lightbox-compact"),e+="<div class='ug-gallery-wrapper ug-lightbox"+t+"'>",e+="<div class='ug-lightbox-overlay'></div>",0==q.isCompact&&q.isTopPanelEnabled?(e+="<div class='ug-lightbox-top-panel'>",e+="<div class='ug-lightbox-top-panel-overlay'></div>",X.lightbox_show_numbers&&(e+="<div class='ug-lightbox-numbers'></div>"),e+="</div>"):X.lightbox_show_numbers&&(e+="<div class='ug-lightbox-numbers'></div>"),e+="<div class='ug-lightbox-button-close'></div>",e+="<div class='ug-lightbox-arrow-left'></div>",e+="<div class='ug-lightbox-arrow-right'></div>",e+="</div>",L=jQuery(e),jQuery("body").append(L),Y&&Y.setHtml(L),H=L.children(".ug-lightbox-overlay"),0==q.isCompact&&1==q.isTopPanelEnabled&&0==(W=L.children(".ug-lightbox-top-panel")).length&&(W=null),D=L.find(".ug-lightbox-button-close"),X.lightbox_show_numbers&&(G=L.find(".ug-lightbox-numbers")),N=L.children(".ug-lightbox-arrow-left"),R=L.children(".ug-lightbox-arrow-right"),V&&(W?V.appendHTML(W):V.appendHTML(L))},this.run=function(){(function(){if(null!==X.lightbox_overlay_color&&H.css("background-color",X.lightbox_overlay_color),null!==X.lightbox_overlay_opacity&&H.fadeTo(0,X.lightbox_overlay_opacity),W&&null!==X.lightbox_top_panel_opacity&&W.children(".ug-lightbox-top-panel-overlay").fadeTo(0,X.lightbox_top_panel_opacity),G){var e={};null!==X.lightbox_numbers_size&&(e["font-size"]=X.lightbox_numbers_size+"px"),X.lightbox_numbers_color&&(e.color=X.lightbox_numbers_color),null!==X.lightbox_numbers_padding_right&&(e["padding-right"]=X.lightbox_numbers_padding_right+"px"),null!==X.lightbox_numbers_padding_top&&(e["padding-top"]=X.lightbox_numbers_padding_top+"px"),G.css(e)}})(),Y&&Y.run(),function(){if(H.on("touchstart",function(e){e.preventDefault()}),H.on("touchend",function(e){Q.close("overlay")}),U.addClassOnHover(R,"ug-arrow-hover"),U.addClassOnHover(N,"ug-arrow-hover"),U.addClassOnHover(D),B.setNextButton(R),B.setPrevButton(N),D.click(function(){Q.close("button")}),k.on(B.events.ITEM_CHANGE,E),Y){jQuery(Y).on(Y.events.TRANSITION_END,T),jQuery(Y).on(Y.events.CLICK,S);var e=Y.getVideoObject();jQuery(e).on(e.events.PLAY_START,P),jQuery(e).on(e.events.PLAY_STOP,C),jQuery(Y).on(Y.events.START_DRAG,b),jQuery(Y).on(Y.events.TRANSITION_START,b),jQuery(Y).on(Y.events.AFTER_DRAG_CHANGE,w),jQuery(Y).on(Y.events.AFTER_RETURN,w),jQuery(Y).on(Y.events.AFTER_PUT_IMAGE,I),jQuery(Y).on(Y.events.ZOOM_CHANGE,y),jQuery(Y).on(Y.events.IMAGE_MOUSEENTER,A),jQuery(Y).on(Y.events.IMAGE_MOUSELEAVE,M)}jQuery(window).resize(function(){return 0==q.isOpened||void U.whenContiniousEventOver("lightbox_resize",x,100)}),k.on(B.events.GALLERY_KEYPRESS,j),1==q.isArrowsOnHoverMode&&jQuery(document).bind("mousemove",O),L.on("mousewheel",z)}()}}function UGCarousel(){function n(e,t){if(!t)t=k.initTileHeight/k.initTileWidth*e;var i={tile_width:k.tileWidth=e,tile_height:t};M.setOptions(i),z.tile_width=e,z.tile_height=t,M.resizeAllTiles(e),p(!0)}function e(){if(null===k.carouselMaxWidth)throw new Error("The carousel width not set");if(k.tileWidth<k.initTileWidth){(t=k.carouselMaxWidth-2*z.carousel_padding)>k.initTileWidth&&(t=k.initTileWidth),n(t);var e=A.getNumItemsInSpace(k.carouselMaxWidth,t,z.carousel_space_between_tiles)}else{var t;if((e=A.getNumItemsInSpace(k.carouselMaxWidth,k.tileWidth,z.carousel_space_between_tiles))<=0)e=1,n(t=k.carouselMaxWidth-2*z.carousel_padding)}var i=A.getSpaceByNumItems(e,k.tileWidth,z.carousel_space_between_tiles);i+=2*z.carousel_padding,S.width(i),1==k.isFirstTimeRun?(M.initEvents(),S.bind("mousedown touchstart",c),jQuery("body").bind("mousemove touchmove",v),jQuery(window).add("body").bind("mouseup touchend",b),S.hover(y,w),M.run(),jQuery.each(E,function(e,t){t.objThumbWrapper.data("index",e),T.trigger(k.eventSizeChange,[t.objThumbWrapper,!0]),t.objTileOriginal=t.objThumbWrapper.clone(!0,!0)}),p(!0)):(1==z.carousel_autoplay&&P.pauseAutoplay(),u(0,!1)),1==z.carousel_autoplay&&P.startAutoplay(),A.placeElement(x,0,z.carousel_padding),d(),k.isFirstTimeRun=!1}function g(){return A.getElementSize(x).left}function a(e){return A.getMousePosition(e).pageX}function s(){return x.children(".ug-thumb-wrapper")}function _(e){return A.getNumItemsInSpace(e,k.tileWidth,z.carousel_space_between_tiles)}function h(){return s().length}function l(e){o(e);var t=s();return jQuery(t[e])}function r(){return _(A.getElementSize(S).width)}function p(e){if(!e)e=!1;var n,r=s(),o=0,a=0;return jQuery.each(r,function(e,t){t=jQuery(t),A.placeElement(t,o,0);var i=A.getElementSize(t);o+=i.width+z.carousel_space_between_tiles,a=Math.max(a,i.height),e==r.length-1&&(n=i.right)}),x.width(n),a+=2*z.carousel_padding,!0===e&&(x.height(a),S.height(a)),u(k.numCurrent,!1),n}function o(e){if(e>s().length-1)throw new Error("Wrogn tile number: "+e)}function f(e,i){if("left"==i)var t=x.children(".ug-thumb-wrapper").first();else t=x.children(".ug-thumb-wrapper").last();var n=function(e,t,i){var n=e.data("index");if(null==n)throw new Error("every tile should have index!");for(var r=[],o=0;o<t;o++){if("prev"==i)var a=j.getPrevItem(n,!0);else a=j.getNextItem(n,!0);if(!a)throw new Error("the item to add is empty");var s=a.objTileOriginal.clone(!0,!0);n=a.index,s.addClass("cloned"),r.push(s)}return r}(t,e,"left"==i?"prev":"next");jQuery.each(n,function(e,t){"left"==i?x.prepend(t):x.append(t),T.trigger(k.eventSizeChange,t),M.loadTileImage(t)})}function m(e,t){o(n);for(var i=s(),n=i.length,r=0;r<e;r++)"left"==t?jQuery(i[r]).remove():jQuery(i[n-1-r]).remove()}function u(e,t,i){if(void 0===t){t=!0;if(x.is(":animated"))return!0}var n=l(e),r={left:-A.getElementSize(n).left+z.carousel_padding+"px"};if(!0===t){var o=z.carousel_scroll_duration,a=z.carousel_scroll_easing;!0===i&&(o=k.scrollShortDuration,a=k.scrollShortEasing),x.stop(!0).animate(r,{duration:o,easing:a,queue:!1,complete:function(){k.numCurrent=e,d()}})}else k.numCurrent=e,x.css(r)}function t(){var e,t,i,n;u((e=-g(),t=_(e),i=A.getElementSize(l(t)).left,n=A.getElementSize(l(t+1)).left,Math.abs(i-e)<Math.abs(n-e)?t:t+1),!0,!0)}function d(){var e,t,i,n,r=(n=-g(),k.sideSpace-n),o=(e=A.getElementSize(S),t=A.getElementSize(x),i=t.width-e.width+t.left,k.sideSpace-i),a=0,s=0,l=0,u=0,d=h();if(r>k.spaceActionSize)f(a=_(r),"left"),k.numCurrent+=a;else if(r<-k.spaceActionSize){m(l=_(Math.abs(r)),"left"),k.numCurrent-=l}if(o>k.spaceActionSize?f(s=_(o),"right"):o<-k.spaceActionSize&&m(u=_(Math.abs(o)),"right"),d<u)throw new Error("Can't remove more then num tiles");var c=!1;return(a||s||l||u)&&(p(),c=!0),c}function i(){"left"==z.carousel_autoplay_direction?P.scrollRight(1):P.scrollLeft(1)}function c(e){return 1==k.touchActive||(k.touchActive=!0,P.pauseAutoplay(),k.startTime=jQuery.now(),k.startMousePos=a(e),k.startInnerPos=g(),k.lastTime=k.startTime,k.lastMousePos=k.startMousePos,void A.storeEventData(e,k.storedEventID))}function v(e){if(0==k.touchActive)return!0;A.updateStoredEventData(e,k.storedEventID),e.preventDefault();var t=null;if(1==z.carousel_vertical_scroll_ondrag&&(t=A.handleScrollTop(k.storedEventID)),"vert"===t)return!0;k.lastMousePos=a(e);var i,n=k.lastMousePos-k.startMousePos,r=k.startInnerPos+n,o=0<n?"prev":"next";0<r&&"prev"==o&&(r/=3),r<-A.getElementSize(x).width&&"next"==o&&(r=k.startInnerPos+n/3),i={left:r+"px"},x.css(i)}function b(e){return 0==k.touchActive||(k.touchActive=!1,t(),void P.unpauseAutoplay())}function y(e){return 0==z.carousel_autoplay_pause_onhover||void(1==k.isPlayMode&&0==k.isPaused&&P.pauseAutoplay())}function w(e){return 0==z.carousel_autoplay_pause_onhover||void P.unpauseAutoplay()}function I(){var e=k.lastTime-k.startTime,t=Math.abs(k.lastMousePos-k.startMousePos);return!(300<e)&&!(30<t)}var T,E,S,x,P=this,C=jQuery(this),j=new UniteGalleryMain,A=new UGFunctions,M=new UGTileDesign,O=new UGThumbsGeneral,z={carousel_padding:8,carousel_space_between_tiles:20,carousel_navigation_numtiles:3,carousel_scroll_duration:500,carousel_scroll_easing:"easeOutCubic",carousel_autoplay:!0,carousel_autoplay_timeout:3e3,carousel_autoplay_direction:"right",carousel_autoplay_pause_onhover:!0,carousel_vertical_scroll_ondrag:!1},k={eventSizeChange:"thumb_size_change",isFirstTimeRun:!0,carouselMaxWidth:null,tileWidth:0,initTileWidth:0,initTileHeight:0,sideSpace:1500,spaceActionSize:500,numCurrent:0,touchActive:!(this.events={START_PLAY:"carousel_start_play",PAUSE_PLAY:"carousel_pause_play",STOP_PLAY:"carousel_stop_play"}),startInnerPos:0,lastTime:0,startTime:0,startMousePos:0,lastMousePos:0,scrollShortDuration:200,scrollShortEasing:"easeOutQuad",handle:null,isPlayMode:!1,isPaused:!1,storedEventID:"carousel"};this.startAutoplay=function(){k.isPlayMode=!0,k.isPaused=!1,C.trigger(P.events.START_PLAY),k.handle&&clearInterval(k.handle),k.handle=setInterval(i,z.carousel_autoplay_timeout)},this.unpauseAutoplay=function(){return 0==k.isPlayMode||(0==k.isPaused||void P.startAutoplay())},this.pauseAutoplay=function(){return 0==k.isPlayMode||(k.isPaused=!0,k.handle&&clearInterval(k.handle),void C.trigger(P.events.PAUSE_PLAY))},this.stopAutoplay=function(){return 0==k.isPlayMode||(k.isPaused=!1,k.isPlayMode=!1,k.handle&&clearInterval(k.handle),void C.trigger(P.events.STOP_PLAY))},this.destroy=function(){k.handle&&clearInterval(k.handle),C.off(P.events.START_PLAY),C.off(P.events.STOP_PLAY),S.unbind("mousedown"),S.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),S.off("mouseenter").off("mouseleave"),M.destroy()},this.init=function(e,t,i){var n,r;i&&this.setMaxWidth(i),n=e,r=t,g_objects=n.getObjects(),j=n,jQuery(n),T=g_objects.g_objWrapper,E=g_objects.g_arrItems,z=jQuery.extend(z,r),M.setFixedMode(),M.setApproveClickFunction(I),M.init(n,z),O=M.getObjThumbs(),z=M.getOptions(),k.initTileWidth=z.tile_width,k.initTileHeight=z.tile_height,k.tileWidth=z.tile_width},this.setMaxWidth=function(e){k.carouselMaxWidth=e},this.setHtml=function(e){!function(e){e||(e=T);T.append("<div class='ug-carousel-wrapper'><div class='ug-carousel-inner'></div></div>"),S=T.children(".ug-carousel-wrapper"),x=S.children(".ug-carousel-inner"),M.setHtml(x),O.getThumbs().fadeTo(0,1)}(e)},this.getElement=function(){return S},this.getObjTileDesign=function(){return M},this.getEstimatedHeight=function(){return z.tile_height+2*z.carousel_padding},this.run=function(){e()},this.scrollRight=function(e){if(!e||"object"==typeof e)e=z.carousel_navigation_numtiles;var t=r();t<e&&(e=t);var i=k.numCurrent-e;i<=0&&(i=0),u(i)},this.scrollLeft=function(e){if(!e||"object"==typeof e)e=z.carousel_navigation_numtiles;var t=r();t<e&&(e=t);var i=h(),n=k.numCurrent+e;i<=n&&(n=i-1),u(n)},this.setScrollLeftButton=function(e){A.setButtonMobileReady(e),A.setButtonOnClick(e,P.scrollLeft)},this.setScrollRightButton=function(e){A.setButtonMobileReady(e),A.setButtonOnClick(e,P.scrollRight)},this.setPlayPauseButton=function(e){A.setButtonMobileReady(e),1==k.isPlayMode&&0==k.isPaused&&e.addClass("ug-pause-icon"),C.on(P.events.START_PLAY,function(){e.addClass("ug-pause-icon")}),C.on(P.events.STOP_PLAY,function(){e.removeClass("ug-pause-icon")}),A.setButtonOnClick(e,function(){0==k.isPlayMode||1==k.isPaused?P.startAutoplay():P.stopAutoplay()})}}function UGTabs(){function e(){"select"==s.tabs_type?o.change(i):r.click(t)}function n(e){a.requestNewItems(e)}function t(){var e=s.tabs_class_selected,t=jQuery(this);if(t.hasClass(e))return!0;r.not(t).removeClass(e),t.addClass(e);var i=t.data("catid");return!i||void n(i)}function i(){var e=jQuery(this).val();return!e||void n(e)}var r,o,a=(jQuery(this),new UniteGalleryMain),s=(new UGFunctions,{tabs_type:"tabs",tabs_container:"#ug_tabs",tabs_class_selected:"ug-tab-selected"});this.events={},this.destroy=function(){o&&o.off("change"),r&&r.off("click")},this.init=function(e,t){var i;i=t,a=e,jQuery(a),"select"==(s=jQuery.extend(s,i)).tabs_type?o=jQuery(s.tabs_container):r=jQuery(s.tabs_container+" .ug-tab")},this.run=function(){e()}}function UG_API(e){function n(e){var t={index:e.index,title:e.title,description:e.description,urlImage:e.urlImage,urlThumb:e.urlThumb},i=e.objThumbImage.data();for(var n in i){switch(n){case"image":case"description":continue}t[n]=i[n]}return t}var r,o=this,a=(jQuery(o),new UniteGalleryMain),s=[];a=e,r=jQuery(e),this.events={API_INIT_FUNCTIONS:"api_init",API_ON_EVENT:"api_on_event"},this.on=function(e,t,i){switch(!0!==i&&s.push({event:e,func:t}),e){case"item_change":r.on(a.events.ITEM_CHANGE,function(){var e=n(a.getSelectedItem());t(e.index,e)});break;case"resize":r.on(a.events.SIZE_CHANGE,t);break;case"enter_fullscreen":r.on(a.events.ENTER_FULLSCREEN,t);break;case"exit_fullscreen":r.on(a.events.EXIT_FULLSCREEN,t);break;case"play":r.on(a.events.START_PLAY,t);break;case"stop":r.on(a.events.STOP_PLAY,t);break;case"pause":r.on(a.events.PAUSE_PLAYING,t);break;case"continue":r.on(a.events.CONTINUE_PLAYING,t);break;case"open_lightbox":r.on(a.events.OPEN_LIGHTBOX,t);break;case"close_lightbox":r.on(a.events.CLOSE_LIGHTBOX,t);break;default:console&&console.log("wrong api event: "+e)}r.trigger(o.events.API_ON_EVENT,[e,t])},this.play=function(){a.startPlayMode()},this.stop=function(){a.stopPlayMode()},this.togglePlay=function(){a.togglePlayMode()},this.enterFullscreen=function(){a.toFullScreen()},this.exitFullscreen=function(){a.exitFullScreen()},this.toggleFullscreen=function(){a.toggleFullscreen()},this.resetZoom=function(){var e=a.getObjSlider();return!!e&&void e.zoomBack()},this.zoomIn=function(){var e=a.getObjSlider();return!!e&&void e.zoomIn()},this.zoomOut=function(){var e=a.getObjSlider();return!!e&&void e.zoomOut()},this.nextItem=function(){a.nextItem()},this.prevItem=function(){a.prevItem()},this.selectItem=function(e){a.selectItem(e)},this.resize=function(e,t){t?a.resize(e,t):a.resize(e)},this.getItem=function(e){return n(a.getItem(e))},this.getNumItems=function(){return a.getNumItems()},this.reloadGallery=function(e){if(!e)e={};a.run(null,e),s.map(function(e){o.on(e.event,e.func,!0)})},this.destroy=function(){a.destroy()},r.trigger(o.events.API_INIT_FUNCTIONS,o)}!function(E,e){"use strict";var n={item:3,autoWidth:!1,slideMove:1,slideMargin:10,addClass:"",mode:"slide",useCSS:!0,cssEasing:"ease",easing:"linear",speed:400,auto:!1,pauseOnHover:!1,loop:!1,slideEndAnimation:!0,pause:2e3,keyPress:!1,controls:!0,prevHtml:"",nextHtml:"",rtl:!1,adaptiveHeight:!1,vertical:!1,verticalHeight:500,vThumbWidth:100,thumbItem:10,pager:!0,gallery:!1,galleryMargin:5,thumbMargin:5,currentPagerPosition:"middle",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:40,responsive:[],onBeforeStart:function(e){},onSliderLoad:function(e){},onBeforeSlide:function(e,t){},onAfterSlide:function(e,t){},onBeforeNextSlide:function(e,t){},onBeforePrevSlide:function(e,t){}};E.fn.lightSlider=function(e){if(0===this.length)return this;if(1<this.length)return this.each(function(){E(this).lightSlider(e)}),this;var i={},d=E.extend(!0,{},n,e),r={},c=this;i.$el=this,"fade"===d.mode&&(d.vertical=!1);var u=c.children(),o=E(window).width(),a=null,s=0,g=0,t=!1,_=0,h="",p=0,f=!0===d.vertical?"height":"width",m=!0===d.vertical?"margin-bottom":"margin-right",v=0,b=0,y=0,w=0,l=null,I="ontouchstart"in document.documentElement,T={chbreakpoint:function(){if(o=E(window).width(),d.responsive.length){var e;if(!1===d.autoWidth&&(e=d.item),o<d.responsive[0].breakpoint)for(var t=0;t<d.responsive.length;t++)o<d.responsive[t].breakpoint&&(d.responsive[t].breakpoint,a=d.responsive[t]);if(null!=a)for(var i in a.settings)a.settings.hasOwnProperty(i)&&((void 0===r[i]||null===r[i])&&(r[i]=d[i]),d[i]=a.settings[i]);if(!E.isEmptyObject(r)&&o>d.responsive[0].breakpoint)for(var n in r)r.hasOwnProperty(n)&&(d[n]=r[n]);!1===d.autoWidth&&0<v&&0<y&&e!==d.item&&(p=Math.round(v/((y+d.slideMargin)*d.slideMove)))}},calSW:function(){!1===d.autoWidth&&(y=(_-(d.item*d.slideMargin-d.slideMargin))/d.item)},calWidth:function(e){var t=!0===e?h.find(".lslide").length:u.length;if(!1===d.autoWidth)g=t*(y+d.slideMargin);else for(var i=g=0;i<t;i++)g+=parseInt(u.eq(i).width())+d.slideMargin;return g}};return(i={doCss:function(){return!(!d.useCSS||!function(){for(var e=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],t=document.documentElement,i=0;i<e.length;i++)if(e[i]in t.style)return!0}())},keyPress:function(){d.keyPress&&E(document).on("keyup.lightslider",function(e){E(":focus").is("input, textarea")||(e.preventDefault?e.preventDefault():e.returnValue=!1,37===e.keyCode?c.goToPrevSlide():39===e.keyCode&&c.goToNextSlide())})},controls:function(){d.controls&&(c.after('<div class="lSAction"><a class="lSPrev">'+d.prevHtml+'</a><a class="lSNext">'+d.nextHtml+"</a></div>"),d.autoWidth?T.calWidth(!1)<_&&h.find(".lSAction").hide():s<=d.item&&h.find(".lSAction").hide(),h.find(".lSAction a").on("click",function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,"lSPrev"===E(this).attr("class")?c.goToPrevSlide():c.goToNextSlide(),!1}))},initialStyle:function(){var l=this;"fade"===d.mode&&(d.autoWidth=!1,d.slideEndAnimation=!1),d.auto&&(d.slideEndAnimation=!1),d.autoWidth&&(d.slideMove=1,d.item=1),d.loop&&(d.slideMove=1,d.freeMove=!1),d.onBeforeStart.call(this,c),T.chbreakpoint(),c.addClass("lightSlider").wrap('<div class="lSSlideOuter '+d.addClass+'"><div class="lSSlideWrapper"></div></div>'),h=c.parent(".lSSlideWrapper"),!0===d.rtl&&h.parent().addClass("lSrtl"),d.vertical?(h.parent().addClass("vertical"),_=d.verticalHeight,h.css("height",_+"px")):_=c.outerWidth(),u.addClass("lslide"),!0===d.loop&&"slide"===d.mode&&(T.calSW(),T.clone=function(){if(T.calWidth(!0)>_){for(var e=0,t=0,i=0;i<u.length&&(t++,!((e+=parseInt(c.find(".lslide").eq(i).width())+d.slideMargin)>=_+d.slideMargin));i++);var n=!0===d.autoWidth?t:d.item;if(n<c.find(".clone.left").length)for(var r=0;r<c.find(".clone.left").length-n;r++)u.eq(r).remove();if(n<c.find(".clone.right").length)for(var o=u.length-1;o>u.length-1-c.find(".clone.right").length;o--)p--,u.eq(o).remove();for(var a=c.find(".clone.right").length;a<n;a++)c.find(".lslide").eq(a).clone().removeClass("lslide").addClass("clone right").appendTo(c),p++;for(var s=c.find(".lslide").length-c.find(".clone.left").length;s>c.find(".lslide").length-n;s--)c.find(".lslide").eq(s-1).clone().removeClass("lslide").addClass("clone left").prependTo(c);u=c.children()}else u.hasClass("clone")&&(c.find(".clone").remove(),l.move(c,0))},T.clone()),T.sSW=function(){s=u.length,!0===d.rtl&&!1===d.vertical&&(m="margin-left"),!1===d.autoWidth&&u.css(f,y+"px"),u.css(m,d.slideMargin+"px"),g=T.calWidth(!1),c.css(f,g+"px"),!0===d.loop&&"slide"===d.mode&&!1===t&&(p=c.find(".clone.left").length)},T.calL=function(){u=c.children(),s=u.length},this.doCss()&&h.addClass("usingCss"),T.calL(),"slide"===d.mode?(T.calSW(),T.sSW(),!0===d.loop&&(v=l.slideValue(),this.move(c,v)),!1===d.vertical&&this.setHeight(c,!1)):(this.setHeight(c,!0),c.addClass("lSFade"),this.doCss()||(u.fadeOut(0),u.eq(p).fadeIn(0))),!0===d.loop&&"slide"===d.mode?u.eq(p).addClass("active"):u.first().addClass("active")},pager:function(){var u=this;if(T.createPager=function(){w=(_-(d.thumbItem*d.thumbMargin-d.thumbMargin))/d.thumbItem;var e=h.find(".lslide"),t=h.find(".lslide").length,i=0,n="",r=0;for(i=0;i<t;i++){"slide"===d.mode&&(d.autoWidth?r+=(parseInt(e.eq(i).width())+d.slideMargin)*d.slideMove:r=i*(y+d.slideMargin)*d.slideMove);var o=e.eq(i*d.slideMove).attr("data-thumb");if(n+=!0===d.gallery?'<li style="width:100%;'+f+":"+w+"px;"+m+":"+d.thumbMargin+'px"><a href="#"><img src="'+o+'" /></a></li>':'<li><a href="#">'+(i+1)+"</a></li>","slide"===d.mode&&r>=g-_-d.slideMargin){i+=1;var a=2;d.autoWidth&&(n+='<li><a href="#">'+(i+1)+"</a></li>",a=1),i<a?(n=null,h.parent().addClass("noPager")):h.parent().removeClass("noPager");break}}var s=h.parent();s.find(".lSPager").html(n),!0===d.gallery&&(!0===d.vertical&&s.find(".lSPager").css("width",d.vThumbWidth+"px"),b=i*(d.thumbMargin+w)+.5,s.find(".lSPager").css({property:b+"px","transition-duration":d.speed+"ms"}),!0===d.vertical&&h.parent().css("padding-right",d.vThumbWidth+d.galleryMargin+"px"),s.find(".lSPager").css(f,b+"px"));var l=s.find(".lSPager").find("li");l.first().addClass("active"),l.on("click",function(){return!0===d.loop&&"slide"===d.mode?p+=l.index(this)-s.find(".lSPager").find("li.active").index():p=l.index(this),c.mode(!1),!0===d.gallery&&u.slideThumb(),!1})},d.pager){var e="lSpg";d.gallery&&(e="lSGallery"),h.after('<ul class="lSPager '+e+'"></ul>');var t=d.vertical?"margin-left":"margin-top";h.parent().find(".lSPager").css(t,d.galleryMargin+"px"),T.createPager()}setTimeout(function(){T.init()},0)},setHeight:function(n,r){var o=null,e=this;o=d.loop?n.children(".lslide ").first():n.children().first();var t=function(){var e=o.outerHeight(),t=0,i=e;r&&(e=0,t=100*i/_),n.css({height:e+"px","padding-bottom":t+"%"})};t(),o.find("img").length?o.find("img")[0].complete?(t(),l||e.auto()):o.find("img").on("load",function(){setTimeout(function(){t(),l||e.auto()},100)}):l||e.auto()},active:function(e,t){this.doCss()&&"fade"===d.mode&&h.addClass("on");var i,n,r=0;p*d.slideMove<s?(e.removeClass("active"),this.doCss()||"fade"!==d.mode||!1!==t||e.fadeOut(d.speed),r=!0===t?p:p*d.slideMove,!0===t&&(n=(i=e.length)-1,i<=r+1&&(r=n)),!0===d.loop&&"slide"===d.mode&&(r=!0===t?p-c.find(".clone.left").length:p*d.slideMove,!0===t&&(n=(i=e.length)-1,r+1===i?r=n:i<r+1&&(r=0))),this.doCss()||"fade"!==d.mode||!1!==t||e.eq(r).fadeIn(d.speed),e.eq(r).addClass("active")):(e.removeClass("active"),e.eq(e.length-1).addClass("active"),this.doCss()||"fade"!==d.mode||!1!==t||(e.fadeOut(d.speed),e.eq(r).fadeIn(d.speed)))},move:function(e,t){!0===d.rtl&&(t=-t),this.doCss()?e.css(!0===d.vertical?{transform:"translate3d(0px, "+-t+"px, 0px)","-webkit-transform":"translate3d(0px, "+-t+"px, 0px)"}:{transform:"translate3d("+-t+"px, 0px, 0px)","-webkit-transform":"translate3d("+-t+"px, 0px, 0px)"}):!0===d.vertical?e.css("position","relative").animate({top:-t+"px"},d.speed,d.easing):e.css("position","relative").animate({left:-t+"px"},d.speed,d.easing);var i=h.parent().find(".lSPager").find("li");this.active(i,!0)},fade:function(){this.active(u,!1);var e=h.parent().find(".lSPager").find("li");this.active(e,!0)},slide:function(){var e=this;T.calSlide=function(){_<g&&(v=e.slideValue(),e.active(u,!1),v>g-_-d.slideMargin?v=g-_-d.slideMargin:v<0&&(v=0),e.move(c,v),!0===d.loop&&"slide"===d.mode&&(p>=s-c.find(".clone.left").length/d.slideMove&&e.resetSlide(c.find(".clone.left").length),0===p&&e.resetSlide(h.find(".lslide").length)))},T.calSlide()},resetSlide:function(e){var t=this;h.find(".lSAction a").addClass("disabled"),setTimeout(function(){p=e,h.css("transition-duration","0ms"),v=t.slideValue(),t.active(u,!1),i.move(c,v),setTimeout(function(){h.css("transition-duration",d.speed+"ms"),h.find(".lSAction a").removeClass("disabled")},50)},d.speed+100)},slideValue:function(){var e=0;if(!1===d.autoWidth)e=p*(y+d.slideMargin)*d.slideMove;else for(var t=e=0;t<p;t++)e+=parseInt(u.eq(t).width())+d.slideMargin;return e},slideThumb:function(){var e;switch(d.currentPagerPosition){case"left":e=0;break;case"middle":e=_/2-w/2;break;case"right":e=_-w}var t=p-c.find(".clone.left").length,i=h.parent().find(".lSPager");"slide"===d.mode&&!0===d.loop&&(t>=i.children().length?t=0:t<0&&(t=i.children().length));var n=t*(w+d.thumbMargin)-e;b<n+_&&(n=b-_-d.thumbMargin),n<0&&(n=0),this.move(i,n)},auto:function(){d.auto&&(clearInterval(l),l=setInterval(function(){c.goToNextSlide()},d.pause))},pauseOnHover:function(){var e=this;d.auto&&d.pauseOnHover&&(h.on("mouseenter",function(){E(this).addClass("ls-hover"),c.pause(),d.auto=!0}),h.on("mouseleave",function(){E(this).removeClass("ls-hover"),h.find(".lightSlider").hasClass("lsGrabbing")||e.auto()}))},touchMove:function(e,t){if(h.css("transition-duration","0ms"),"slide"===d.mode){var i=v-(e-t);if(i>=g-_-d.slideMargin)if(!1===d.freeMove)i=g-_-d.slideMargin;else{var n=g-_-d.slideMargin;i=n+(i-n)/5}else i<0&&(!1===d.freeMove?i=0:i/=5);this.move(c,i)}},touchEnd:function(e){if(h.css("transition-duration",d.speed+"ms"),"slide"===d.mode){var o=!1,t=!0;(v-=e)>g-_-d.slideMargin?(v=g-_-d.slideMargin,!1===d.autoWidth&&(o=!0)):v<0&&(v=0);var i=function(e){var t=0;if(o||e&&(t=1),d.autoWidth)for(var i=0,n=0;n<u.length&&(i+=parseInt(u.eq(n).width())+d.slideMargin,p=n+t,!(v<=i));n++);else{var r=v/((y+d.slideMargin)*d.slideMove);p=parseInt(r)+t,v>=g-_-d.slideMargin&&r%1!=0&&p++}};e>=d.swipeThreshold?(i(!1),t=!1):e<=-d.swipeThreshold&&(i(!0),t=!1),c.mode(t),this.slideThumb()}else e>=d.swipeThreshold?c.goToPrevSlide():e<=-d.swipeThreshold&&c.goToNextSlide()},enableDrag:function(){var i=this;if(!I){var n=0,r=0,o=!1;h.find(".lightSlider").addClass("lsGrab"),h.on("mousedown",function(e){return!(g<_&&0!==g)&&void("lSPrev"!==E(e.target).attr("class")&&"lSNext"!==E(e.target).attr("class")&&(n=!0===d.vertical?e.pageY:e.pageX,o=!0,e.preventDefault?e.preventDefault():e.returnValue=!1,h.scrollLeft+=1,h.scrollLeft-=1,h.find(".lightSlider").removeClass("lsGrab").addClass("lsGrabbing"),clearInterval(l)))}),E(window).on("mousemove",function(e){o&&(r=!0===d.vertical?e.pageY:e.pageX,i.touchMove(r,n))}),E(window).on("mouseup",function(e){if(o){h.find(".lightSlider").removeClass("lsGrabbing").addClass("lsGrab");var t=(r=!(o=!1)===d.vertical?e.pageY:e.pageX)-n;Math.abs(t)>=d.swipeThreshold&&E(window).on("click.ls",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopImmediatePropagation(),e.stopPropagation(),E(window).off("click.ls")}),i.touchEnd(t)}})}},enableTouch:function(){var r=this;if(I){var o={},a={};h.on("touchstart",function(e){a=e.originalEvent.targetTouches[0],o.pageX=e.originalEvent.targetTouches[0].pageX,o.pageY=e.originalEvent.targetTouches[0].pageY,clearInterval(l)}),h.on("touchmove",function(e){if(g<_&&0!==g)return!1;var t=e.originalEvent;a=t.targetTouches[0];var i=Math.abs(a.pageX-o.pageX),n=Math.abs(a.pageY-o.pageY);!0===d.vertical?(i<3*n&&e.preventDefault(),r.touchMove(a.pageY,o.pageY)):(n<3*i&&e.preventDefault(),r.touchMove(a.pageX,o.pageX))}),h.on("touchend",function(){if(g<_&&0!==g)return!1;var e;e=!0===d.vertical?a.pageY-o.pageY:a.pageX-o.pageX,r.touchEnd(e)})}},build:function(){var e=this;e.initialStyle(),this.doCss()&&(!0===d.enableTouch&&e.enableTouch(),!0===d.enableDrag&&e.enableDrag()),E(window).on("focus",function(){e.auto()}),E(window).on("blur",function(){clearInterval(l)}),e.pager(),e.pauseOnHover(),e.controls(),e.keyPress()}}).build(),T.init=function(){T.chbreakpoint(),!0===d.vertical?(_=1<d.item?d.verticalHeight:u.outerHeight(),h.css("height",_+"px")):_=h.outerWidth(),!0===d.loop&&"slide"===d.mode&&T.clone(),T.calL(),"slide"===d.mode&&c.removeClass("lSSlide"),"slide"===d.mode&&(T.calSW(),T.sSW()),setTimeout(function(){"slide"===d.mode&&c.addClass("lSSlide")},1e3),d.pager&&T.createPager(),!0===d.adaptiveHeight&&!1===d.vertical&&c.css("height",u.eq(p).outerHeight(!0)),!1===d.adaptiveHeight&&("slide"===d.mode?!1===d.vertical?i.setHeight(c,!1):i.auto():i.setHeight(c,!0)),!0===d.gallery&&i.slideThumb(),"slide"===d.mode&&i.slide(),!1===d.autoWidth?u.length<=d.item?h.find(".lSAction").hide():h.find(".lSAction").show():T.calWidth(!1)<_&&0!==g?h.find(".lSAction").hide():h.find(".lSAction").show()},c.goToPrevSlide=function(){if(0<p)d.onBeforePrevSlide.call(this,c,p),p--,c.mode(!1),!0===d.gallery&&i.slideThumb();else if(!0===d.loop){if(d.onBeforePrevSlide.call(this,c,p),"fade"===d.mode)p=parseInt((s-1)/d.slideMove);c.mode(!1),!0===d.gallery&&i.slideThumb()}else!0===d.slideEndAnimation&&(c.addClass("leftEnd"),setTimeout(function(){c.removeClass("leftEnd")},400))},c.goToNextSlide=function(){var e=!0;"slide"===d.mode&&(e=i.slideValue()<g-_-d.slideMargin);p*d.slideMove<s-d.slideMove&&e?(d.onBeforeNextSlide.call(this,c,p),p++,c.mode(!1),!0===d.gallery&&i.slideThumb()):!0===d.loop?(d.onBeforeNextSlide.call(this,c,p),p=0,c.mode(!1),!0===d.gallery&&i.slideThumb()):!0===d.slideEndAnimation&&(c.addClass("rightEnd"),setTimeout(function(){c.removeClass("rightEnd")},400))},c.mode=function(e){!0===d.adaptiveHeight&&!1===d.vertical&&c.css("height",u.eq(p).outerHeight(!0)),!1===t&&("slide"===d.mode?i.doCss()&&(c.addClass("lSSlide"),""!==d.speed&&h.css("transition-duration",d.speed+"ms"),""!==d.cssEasing&&h.css("transition-timing-function",d.cssEasing)):i.doCss()&&(""!==d.speed&&c.css("transition-duration",d.speed+"ms"),""!==d.cssEasing&&c.css("transition-timing-function",d.cssEasing))),e||d.onBeforeSlide.call(this,c,p),"slide"===d.mode?i.slide():i.fade(),h.hasClass("ls-hover")||i.auto(),setTimeout(function(){e||d.onAfterSlide.call(this,c,p)},d.speed),t=!0},c.play=function(){c.goToNextSlide(),d.auto=!0,i.auto()},c.pause=function(){d.auto=!1,clearInterval(l)},c.refresh=function(){T.init()},c.getCurrentSlideCount=function(){var e=p;if(d.loop){var t=h.find(".lslide").length,i=c.find(".clone.left").length;e=p<=i-1?t+(p-i):t+i<=p?p-t-i:p-i}return e+1},c.getTotalSlideCount=function(){return h.find(".lslide").length},c.goToSlide=function(e){p=d.loop?e+c.find(".clone.left").length-1:e,c.mode(!1),!0===d.gallery&&i.slideThumb()},c.destroy=function(){c.lightSlider&&(c.goToPrevSlide=function(){},c.goToNextSlide=function(){},c.mode=function(){},c.play=function(){},c.pause=function(){},c.refresh=function(){},c.getCurrentSlideCount=function(){},c.getTotalSlideCount=function(){},c.goToSlide=function(){},c.lightSlider=null,T={init:function(){}},c.parent().parent().find(".lSAction, .lSPager").remove(),c.removeClass("lightSlider lSFade lSSlide lsGrab lsGrabbing leftEnd right").removeAttr("style").unwrap().unwrap(),c.children().removeAttr("style"),u.removeClass("lslide active"),c.find(".clone").remove(),l=u=null,t=!1,p=0)},setTimeout(function(){d.onSliderLoad.call(this,c)},10),E(window).on("resize orientationchange",function(e){setTimeout(function(){e.preventDefault?e.preventDefault():e.returnValue=!1,T.init()},200)}),this}}(jQuery);var g_ugFunctions=new UGFunctions;!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(u){function t(e){var t=e||window.event,i=h.call(arguments,1),n=0,r=0,o=0,a=0;if((e=u.event.fix(t)).type="mousewheel","detail"in t&&(o=-1*t.detail),"wheelDelta"in t&&(o=t.wheelDelta),"wheelDeltaY"in t&&(o=t.wheelDeltaY),"wheelDeltaX"in t&&(r=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(r=-1*o,o=0),n=0===o?r:o,"deltaY"in t&&(n=o=-1*t.deltaY),"deltaX"in t&&(r=t.deltaX,0===o&&(n=-1*r)),0!==o||0!==r){if(1===t.deltaMode){var s=u.data(this,"mousewheel-line-height");n*=s,o*=s,r*=s}else if(2===t.deltaMode){var l=u.data(this,"mousewheel-page-height");n*=l,o*=l,r*=l}return a=Math.max(Math.abs(o),Math.abs(r)),(!_||a<_)&&(c(t,_=a)&&(_/=40)),c(t,a)&&(n/=40,r/=40,o/=40),n=Math[1<=n?"floor":"ceil"](n/_),r=Math[1<=r?"floor":"ceil"](r/_),o=Math[1<=o?"floor":"ceil"](o/_),e.deltaX=r,e.deltaY=o,e.deltaFactor=_,e.deltaMode=0,i.unshift(e,n,r,o),g&&clearTimeout(g),g=setTimeout(d,200),(u.event.dispatch||u.event.handle).apply(this,i)}}function d(){_=null}function c(e,t){return r.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var g,_,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice;if(u.event.fixHooks)for(var n=e.length;n;)u.event.fixHooks[e[--n]]=u.event.mouseHooks;var r=u.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var e=i.length;e;)this.addEventListener(i[--e],t,!1);else this.onmousewheel=t;u.data(this,"mousewheel-line-height",r.getLineHeight(this)),u.data(this,"mousewheel-page-height",r.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=i.length;e;)this.removeEventListener(i[--e],t,!1);else this.onmousewheel=null},getLineHeight:function(e){return parseInt(u(e)["offsetParent"in u.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(e){return u(e).height()},settings:{adjustOldDeltas:!0}};u.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof module&&"object"==typeof module.exports?exports=t(require("jquery")):t(jQuery)}(function(t){function i(e){var t=7.5625;return e<1/2.75?t*e*e:e<2/2.75?t*(e-=1.5/2.75)*e+.75:e<2.5/2.75?t*(e-=2.25/2.75)*e+.9375:t*(e-=2.625/2.75)*e+.984375}t.easing.jswing=t.easing.swing;var n=Math.pow,r=Math.sqrt,o=Math.sin,a=Math.cos,s=Math.PI,l=1.70158,u=2.5949095,d=2*s/3,c=2*s/4.5;t.extend(t.easing,{def:"easeOutQuad",swing:function(e){return t.easing[t.easing.def](e)},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-n(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-n(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-n(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-n(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-n(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-n(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-n(-2*e+2,5)/2},easeInSine:function(e){return 1-a(e*s/2)},easeOutSine:function(e){return o(e*s/2)},easeInOutSine:function(e){return-(a(s*e)-1)/2},easeInExpo:function(e){return 0===e?0:n(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-n(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:e<.5?n(2,20*e-10)/2:(2-n(2,-20*e+10))/2},easeInCirc:function(e){return 1-r(1-n(e,2))},easeOutCirc:function(e){return r(1-n(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-r(1-n(2*e,2)))/2:(r(1-n(-2*e+2,2))+1)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-n(2,10*e-10)*o((10*e-10.75)*d)},easeOutElastic:function(e){return 0===e?0:1===e?1:n(2,-10*e)*o((10*e-.75)*d)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:e<.5?-n(2,20*e-10)*o((20*e-11.125)*c)/2:n(2,-20*e+10)*o((20*e-11.125)*c)/2+1},easeInBack:function(e){return 2.70158*e*e*e-l*e*e},easeOutBack:function(e){return 1+2.70158*n(e-1,3)+l*n(e-1,2)},easeInOutBack:function(e){return e<.5?n(2*e,2)*(7.189819*e-u)/2:(n(2*e-2,2)*((u+1)*(2*e-2)+u)+2)/2},easeInBounce:function(e){return 1-i(1-e)},easeOutBounce:i,easeInOutBounce:function(e){return e<.5?(1-i(1-2*e))/2:(1+i(2*e-1))/2}})}),function(d,c){function g(e,t,i){var n=f[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:e<0?0:n.max<e?n.max:e)}function s(a){var s=h(),l=s._rgba=[];return a=a.toLowerCase(),m(e,function(e,t){var i,n=t.re.exec(a),r=n&&t.parse(n),o=t.space||"rgba";return r?(i=s[o](r),s[p[o].cache]=i[p[o].cache],l=s._rgba=i._rgba,!1):void 0}),l.length?("0,0,0,0"===l.join()&&d.extend(l,u.transparent),s):u[a]}function l(e,t,i){return 6*(i=(i+1)%1)<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}if(void 0===d.cssHooks)return;var u,_=/^([\-+])=\s*(\d+\.?\d*)/,e=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],h=d.Color=function(e,t,i,n){return new d.Color.fn.parse(e,t,i,n)},p={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},f={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},a=h.support={},t=d("<p>")[0],m=d.each;t.style.cssText="background-color:rgba(1,1,1,.5)",a.rgba=-1<t.style.backgroundColor.indexOf("rgba"),m(p,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),h.fn=d.extend(h.prototype,{parse:function(r,e,t,i){if(r===c)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=d(r).css(e),e=c);var o=this,n=d.type(r),a=this._rgba=[];return e!==c&&(r=[r,e,t,i],n="array"),"string"===n?this.parse(s(r)||u._default):"array"===n?(m(p.rgba.props,function(e,t){a[t.idx]=g(r[t.idx],t)}),this):"object"===n?(m(p,r instanceof h?function(e,t){r[t.cache]&&(o[t.cache]=r[t.cache].slice())}:function(e,i){var n=i.cache;m(i.props,function(e,t){if(!o[n]&&i.to){if("alpha"===e||null==r[e])return;o[n]=i.to(o._rgba)}o[n][t.idx]=g(r[e],t,!0)}),o[n]&&d.inArray(null,o[n].slice(0,3))<0&&(o[n][3]=1,i.from&&(o._rgba=i.from(o[n])))}),this):void 0},is:function(e){var r=h(e),o=!0,a=this;return m(p,function(e,t){var i,n=r[t.cache];return n&&(i=a[t.cache]||t.to&&t.to(a._rgba)||[],m(t.props,function(e,t){return null!=n[t.idx]?o=n[t.idx]===i[t.idx]:void 0})),o}),o},_space:function(){var i=[],n=this;return m(p,function(e,t){n[t.cache]&&i.push(e)}),i.pop()},transition:function(e,a){var s=h(e),t=s._space(),i=p[t],n=0===this.alpha()?h("transparent"):this,l=n[i.cache]||i.to(n._rgba),u=l.slice();return s=s[i.cache],m(i.props,function(e,t){var i=t.idx,n=l[i],r=s[i],o=f[t.type]||{};null!==r&&(null===n?u[i]=r:(o.mod&&(r-n>o.mod/2?n+=o.mod:n-r>o.mod/2&&(n-=o.mod)),u[i]=g((r-n)*a+n,t)))}),this[t](u)},blend:function(e){if(1===this._rgba[3])return this;var t=this._rgba.slice(),i=t.pop(),n=h(e)._rgba;return h(d.map(t,function(e,t){return(1-i)*n[t]+i*e}))},toRgbaString:function(){var e="rgba(",t=d.map(this._rgba,function(e,t){return null==e?2<t?1:0:e});return 1===t[3]&&(t.pop(),e="rgb("),e+t.join()+")"},toHslaString:function(){var e="hsla(",t=d.map(this.hsla(),function(e,t){return null==e&&(e=2<t?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===t[3]&&(t.pop(),e="hsl("),e+t.join()+")"},toHexString:function(e){var t=this._rgba.slice(),i=t.pop();return e&&t.push(~~(255*i)),"#"+d.map(t,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),h.fn.parse.prototype=h.fn,p.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,r=e[1]/255,o=e[2]/255,a=e[3],s=Math.max(n,r,o),l=Math.min(n,r,o),u=s-l,d=s+l,c=.5*d;return t=l===s?0:n===s?60*(r-o)/u+360:r===s?60*(o-n)/u+120:60*(n-r)/u+240,i=0===u?0:c<=.5?u/d:u/(2-d),[Math.round(t)%360,i,c,null==a?1:a]},p.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],r=e[3],o=n<=.5?n*(1+i):n+i-n*i,a=2*n-o;return[Math.round(255*l(a,o,t+1/3)),Math.round(255*l(a,o,t)),Math.round(255*l(a,o,t-1/3)),r]},m(p,function(l,e){var i=e.props,a=e.cache,s=e.to,u=e.from;h.fn[l]=function(e){if(s&&!this[a]&&(this[a]=s(this._rgba)),e===c)return this[a].slice();var t,n=d.type(e),r="array"===n||"object"===n?e:arguments,o=this[a].slice();return m(i,function(e,t){var i=r["object"===n?e:t.idx];null==i&&(i=o[t.idx]),o[t.idx]=g(i,t)}),u?((t=h(u(o)))[a]=o,t):h(o)},m(i,function(a,s){h.fn[a]||(h.fn[a]=function(e){var t,i=d.type(e),n="alpha"===a?this._hsla?"hsla":"rgba":l,r=this[n](),o=r[s.idx];return"undefined"===i?o:("function"===i&&(e=e.call(this,o),i=d.type(e)),null==e&&s.empty?this:("string"===i&&((t=_.exec(e))&&(e=o+parseFloat(t[2])*("+"===t[1]?1:-1))),r[s.idx]=e,this[n](r)))})})}),h.hook=function(e){var t=e.split(" ");m(t,function(e,o){d.cssHooks[o]={set:function(e,t){var i,n,r="";if("transparent"!==t&&("string"!==d.type(t)||(i=s(t)))){if(t=h(i||t),!a.rgba&&1!==t._rgba[3]){for(n="backgroundColor"===o?e.parentNode:e;(""===r||"transparent"===r)&&n&&n.style;)try{r=d.css(n,"backgroundColor"),n=n.parentNode}catch(e){}t=t.blend(r&&"transparent"!==r?r:"_default")}t=t.toRgbaString()}try{e.style[o]=t}catch(e){}}},d.fx.step[o]=function(e){e.colorInit||(e.start=h(e.elem,o),e.end=h(e.end),e.colorInit=!0),d.cssHooks[o].set(e.elem,e.start.transition(e.end,e.pos))}})},h.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),d.cssHooks.borderColor={expand:function(i){var n={};return m(["Top","Right","Bottom","Left"],function(e,t){n["border"+t+"Color"]=i}),n}},u=d.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(n){n.mlp={x:0,y:0},n(function e(){try{var t=this===document?n(this):n(this).contents()}catch(e){return!1}t.mousemove(function(e){n.mlp={x:e.pageX,y:e.pageY}}),t.find("iframe").on("load",e)}),n.fn.ismouseover=function(){var i=!1;return this.eq(0).each(function(){var e=n(this).is("iframe")?n(this).contents().find("body"):n(this),t=e.offset();i=t.left<=n.mlp.x&&t.left+e.outerWidth()>n.mlp.x&&t.top<=n.mlp.y&&t.top+e.outerHeight()>n.mlp.y}),i}}(jQuery);var g_ugYoutubeAPI=new UGYoutubeAPI,g_ugVimeoAPI=new UGVimeoAPI,g_ugHtml5MediaAPI=new UGHtml5MediaAPI,g_ugSoundCloudAPI=new UGSoundCloudAPI,g_ugWistiaAPI=new UGWistiaAPI;function UGTheme_tiles(){var i,n,r,t,o,a=new UniteGalleryMain,s=new UGTiles,l=new UGLightbox,u=new UGFunctions,d=new UGTileDesign,c={theme_enable_preloader:!0,theme_preloading_height:200,theme_preloader_vertpos:100,theme_gallery_padding:0,theme_appearance_order:"normal",theme_auto_open:null},g={gallery_width:"100%"},_={showPreloader:!1};function h(e,t){a=e,c=jQuery.extend(c,g),c=jQuery.extend(c,t),function(){1==c.theme_enable_preloader&&(_.showPreloader=!0);switch(c.theme_appearance_order){default:case"normal":break;case"shuffle":a.shuffleItems();break;case"keep":c.tiles_keep_order=!0}}(),a.setOptions(c),a.setFreestyleMode(),n=e.getObjects(),i=jQuery(e),r=n.g_objWrapper,s.init(e,c),l.init(e,c),d=s.getObjTileDesign()}function e(){t&&(t.fadeTo(0,1),r.height(c.theme_preloading_height),u.placeElement(t,"center",c.theme_preloader_vertpos)),function(){t&&jQuery(s).on(s.events.TILES_FIRST_PLACED,function(){r.height("auto"),t.hide()});jQuery(d).on(d.events.TILE_CLICK,f),i.on(a.events.GALLERY_BEFORE_REQUEST_ITEMS,m),jQuery(l).on(l.events.LIGHTBOX_INIT,v)}(),s.run(),l.run()}function p(){r.addClass("ug-theme-tiles"),r.append("<div class='ug-tiles-wrapper' style='position:relative'></div>"),1==_.showPreloader&&(r.append("<div class='ug-tiles-preloader ug-preloader-trans'></div>"),(t=r.children(".ug-tiles-preloader")).fadeTo(0,0)),o=r.children(".ug-tiles-wrapper"),c.theme_gallery_padding&&r.css({"padding-left":c.theme_gallery_padding+"px","padding-right":c.theme_gallery_padding+"px"}),s.setHtml(o),l.putHtml(),e()}function f(e,t){t=jQuery(t);var i=d.getItemByTile(t).index;l.open(i)}function m(){if(o.hide(),t){t.show();var e=u.getElementSize(t).bottom+30;r.height(e)}}function v(){null!==c.theme_auto_open&&(l.open(c.theme_auto_open),c.theme_auto_open=null)}this.destroy=function(){jQuery(d).off(d.events.TILE_CLICK),jQuery(s).off(s.events.TILES_FIRST_PLACED),i.off(a.events.GALLERY_BEFORE_REQUEST_ITEMS),jQuery(l).off(l.events.LIGHTBOX_INIT),s.destroy(),l.destroy()},this.run=function(){p()},this.init=function(e,t){h(e,t)}}jQuery.fn.unitegallery=function(e){var t="#"+jQuery(this).attr("id");if(!e)e={};var i=new UniteGalleryMain;return i.run(t,e),new UG_API(i)},void 0!==g_ugFunctions?g_ugFunctions.registerTheme("tiles"):jQuery(document).ready(function(){g_ugFunctions.registerTheme("tiles")}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(window.jQuery||window.Zepto)}(function(d){var c,n,g,r,_,t,s="Close",l="BeforeClose",h="MarkupParse",i=".mfp",p="mfp-ready",o="mfp-removing",a="mfp-prevent-close",e=function(){},u=!!window.jQuery,f=d(window),m=function(e,t){c.ev.on("mfp"+e+i,t)},v=function(e,t,i,n){var r=document.createElement("div");return r.className="mfp-"+e,i&&(r.innerHTML=i),n?t&&t.appendChild(r):(r=d(r),t&&r.appendTo(t)),r},b=function(e,t){c.ev.triggerHandler("mfp"+e,t),c.st.callbacks&&(e=e.charAt(0).toLowerCase()+e.slice(1),c.st.callbacks[e]&&c.st.callbacks[e].apply(c,d.isArray(t)?t:[t]))},y=function(e){return e===t&&c.currTemplate.closeBtn||(c.currTemplate.closeBtn=d(c.st.closeMarkup.replace("%title%",c.st.tClose)),t=e),c.currTemplate.closeBtn},w=function(){d.magnificPopup.instance||((c=new e).init(),d.magnificPopup.instance=c)};e.prototype={constructor:e,init:function(){var e=navigator.appVersion;c.isLowIE=c.isIE8=document.all&&!document.addEventListener,c.isAndroid=/android/gi.test(e),c.isIOS=/iphone|ipad|ipod/gi.test(e),c.supportsTransition=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1}(),c.probablyMobile=c.isAndroid||c.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),g=d(document),c.popupsCache={}},open:function(e){var t;if(!1===e.isObj){c.items=e.items.toArray(),c.index=0;var i,n=e.items;for(t=0;t<n.length;t++)if((i=n[t]).parsed&&(i=i.el[0]),i===e.el[0]){c.index=t;break}}else c.items=d.isArray(e.items)?e.items:[e.items],c.index=e.index||0;if(!c.isOpen){c.types=[],_="",e.mainEl&&e.mainEl.length?c.ev=e.mainEl.eq(0):c.ev=g,e.key?(c.popupsCache[e.key]||(c.popupsCache[e.key]={}),c.currTemplate=c.popupsCache[e.key]):c.currTemplate={},c.st=d.extend(!0,{},d.magnificPopup.defaults,e),c.fixedContentPos="auto"===c.st.fixedContentPos?!c.probablyMobile:c.st.fixedContentPos,c.st.modal&&(c.st.closeOnContentClick=!1,c.st.closeOnBgClick=!1,c.st.showCloseBtn=!1,c.st.enableEscapeKey=!1),c.bgOverlay||(c.bgOverlay=v("bg").on("click.mfp",function(){c.close()}),c.wrap=v("wrap").attr("tabindex",-1).on("click.mfp",function(e){c._checkIfClose(e.target)&&c.close()}),c.container=v("container",c.wrap)),c.contentContainer=v("content"),c.st.preloader&&(c.preloader=v("preloader",c.container,c.st.tLoading));var r=d.magnificPopup.modules;for(t=0;t<r.length;t++){var o=r[t];o=o.charAt(0).toUpperCase()+o.slice(1),c["init"+o].call(c)}b("BeforeOpen"),c.st.showCloseBtn&&(c.st.closeBtnInside?(m(h,function(e,t,i,n){i.close_replaceWith=y(n.type)}),_+=" mfp-close-btn-in"):c.wrap.append(y())),c.st.alignTop&&(_+=" mfp-align-top"),c.fixedContentPos?c.wrap.css({overflow:c.st.overflowY,overflowX:"hidden",overflowY:c.st.overflowY}):c.wrap.css({top:f.scrollTop(),position:"absolute"}),(!1===c.st.fixedBgPos||"auto"===c.st.fixedBgPos&&!c.fixedContentPos)&&c.bgOverlay.css({height:g.height(),position:"absolute"}),c.st.enableEscapeKey&&g.on("keyup.mfp",function(e){27===e.keyCode&&c.close()}),f.on("resize.mfp",function(){c.updateSize()}),c.st.closeOnContentClick||(_+=" mfp-auto-cursor"),_&&c.wrap.addClass(_);var a=c.wH=f.height(),s={};if(c.fixedContentPos&&c._hasScrollBar(a)){var l=c._getScrollbarSize();l&&(s.marginRight=l)}c.fixedContentPos&&(c.isIE7?d("body, html").css("overflow","hidden"):s.overflow="hidden");var u=c.st.mainClass;return c.isIE7&&(u+=" mfp-ie7"),u&&c._addClassToMFP(u),c.updateItemHTML(),b("BuildControls"),d("html").css(s),c.bgOverlay.add(c.wrap).prependTo(c.st.prependTo||d(document.body)),c._lastFocusedEl=document.activeElement,setTimeout(function(){c.content?(c._addClassToMFP(p),c._setFocus()):c.bgOverlay.addClass(p),g.on("focusin.mfp",c._onFocusIn)},16),c.isOpen=!0,c.updateSize(a),b("Open"),e}c.updateItemHTML()},close:function(){c.isOpen&&(b(l),c.isOpen=!1,c.st.removalDelay&&!c.isLowIE&&c.supportsTransition?(c._addClassToMFP(o),setTimeout(function(){c._close()},c.st.removalDelay)):c._close())},_close:function(){b(s);var e=o+" "+p+" ";if(c.bgOverlay.detach(),c.wrap.detach(),c.container.empty(),c.st.mainClass&&(e+=c.st.mainClass+" "),c._removeClassFromMFP(e),c.fixedContentPos){var t={marginRight:""};c.isIE7?d("body, html").css("overflow",""):t.overflow="",d("html").css(t)}g.off("keyup.mfp focusin.mfp"),c.ev.off(i),c.wrap.attr("class","mfp-wrap").removeAttr("style"),c.bgOverlay.attr("class","mfp-bg"),c.container.attr("class","mfp-container"),!c.st.showCloseBtn||c.st.closeBtnInside&&!0!==c.currTemplate[c.currItem.type]||c.currTemplate.closeBtn&&c.currTemplate.closeBtn.detach(),c.st.autoFocusLast&&c._lastFocusedEl&&d(c._lastFocusedEl).focus(),c.currItem=null,c.content=null,c.currTemplate=null,c.prevHeight=0,b("AfterClose")},updateSize:function(e){if(c.isIOS){var t=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*t;c.wrap.css("height",i),c.wH=i}else c.wH=e||f.height();c.fixedContentPos||c.wrap.css("height",c.wH),b("Resize")},updateItemHTML:function(){var e=c.items[c.index];c.contentContainer.detach(),c.content&&c.content.detach(),e.parsed||(e=c.parseEl(c.index));var t=e.type;if(b("BeforeChange",[c.currItem?c.currItem.type:"",t]),c.currItem=e,!c.currTemplate[t]){var i=!!c.st[t]&&c.st[t].markup;b("FirstMarkupParse",i),c.currTemplate[t]=!i||d(i)}r&&r!==e.type&&c.container.removeClass("mfp-"+r+"-holder");var n=c["get"+t.charAt(0).toUpperCase()+t.slice(1)](e,c.currTemplate[t]);c.appendContent(n,t),e.preloaded=!0,b("Change",e),r=e.type,c.container.prepend(c.contentContainer),b("AfterChange")},appendContent:function(e,t){(c.content=e)?c.st.showCloseBtn&&c.st.closeBtnInside&&!0===c.currTemplate[t]?c.content.find(".mfp-close").length||c.content.append(y()):c.content=e:c.content="",b("BeforeAppend"),c.container.addClass("mfp-"+t+"-holder"),c.contentContainer.append(c.content)},parseEl:function(e){var t,i=c.items[e];if(i.tagName?i={el:d(i)}:(t=i.type,i={data:i,src:i.src}),i.el){for(var n=c.types,r=0;r<n.length;r++)if(i.el.hasClass("mfp-"+n[r])){t=n[r];break}i.src=i.el.attr("data-mfp-src"),i.src||(i.src=i.el.attr("href"))}return i.type=t||c.st.type||"inline",i.index=e,i.parsed=!0,c.items[e]=i,b("ElementParse",i),c.items[e]},addGroup:function(t,i){var e=function(e){e.mfpEl=this,c._openClick(e,t,i)};i||(i={});var n="click.magnificPopup";i.mainEl=t,i.items?(i.isObj=!0,t.off(n).on(n,e)):(i.isObj=!1,i.delegate?t.off(n).on(n,i.delegate,e):(i.items=t).off(n).on(n,e))},_openClick:function(e,t,i){if((void 0!==i.midClick?i.midClick:d.magnificPopup.defaults.midClick)||!(2===e.which||e.ctrlKey||e.metaKey||e.altKey||e.shiftKey)){var n=void 0!==i.disableOn?i.disableOn:d.magnificPopup.defaults.disableOn;if(n)if(d.isFunction(n)){if(!n.call(c))return!0}else if(f.width()<n)return!0;e.type&&(e.preventDefault(),c.isOpen&&e.stopPropagation()),i.el=d(e.mfpEl),i.delegate&&(i.items=t.find(i.delegate)),c.open(i)}},updateStatus:function(e,t){if(c.preloader){n!==e&&c.container.removeClass("mfp-s-"+n),t||"loading"!==e||(t=c.st.tLoading);var i={status:e,text:t};b("UpdateStatus",i),e=i.status,t=i.text,c.preloader.html(t),c.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),c.container.addClass("mfp-s-"+e),n=e}},_checkIfClose:function(e){if(!d(e).hasClass(a)){var t=c.st.closeOnContentClick,i=c.st.closeOnBgClick;if(t&&i)return!0;if(!c.content||d(e).hasClass("mfp-close")||c.preloader&&e===c.preloader[0])return!0;if(e===c.content[0]||d.contains(c.content[0],e)){if(t)return!0}else if(i&&d.contains(document,e))return!0;return!1}},_addClassToMFP:function(e){c.bgOverlay.addClass(e),c.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),c.wrap.removeClass(e)},_hasScrollBar:function(e){return(c.isIE7?g.height():document.body.scrollHeight)>(e||f.height())},_setFocus:function(){(c.st.focus?c.content.find(c.st.focus).eq(0):c.wrap).focus()},_onFocusIn:function(e){if(e.target!==c.wrap[0]&&!d.contains(c.wrap[0],e.target))return c._setFocus(),!1},_parseMarkup:function(r,e,t){var o;t.data&&(e=d.extend(t.data,e)),b(h,[r,e,t]),d.each(e,function(e,t){if(void 0===t||!1===t)return!0;if(1<(o=e.split("_")).length){var i=r.find(".mfp-"+o[0]);if(0<i.length){var n=o[1];"replaceWith"===n?i[0]!==t[0]&&i.replaceWith(t):"img"===n?i.is("img")?i.attr("src",t):i.replaceWith(d("<img>").attr("src",t).attr("class",i.attr("class"))):i.attr(o[1],t)}}else r.find(".mfp-"+e).html(t)})},_getScrollbarSize:function(){if(void 0===c.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),c.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return c.scrollbarSize}},d.magnificPopup={instance:null,proto:e.prototype,modules:[],open:function(e,t){return w(),(e=e?d.extend(!0,{},e):{}).isObj=!0,e.index=t||0,this.instance.open(e)},close:function(){return d.magnificPopup.instance&&d.magnificPopup.instance.close()},registerModule:function(e,t){t.options&&(d.magnificPopup.defaults[e]=t.options),d.extend(this.proto,t.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},d.fn.magnificPopup=function(e){w();var t=d(this);if("string"==typeof e)if("open"===e){var i,n=u?t.data("magnificPopup"):t[0].magnificPopup,r=parseInt(arguments[1],10)||0;n.items?i=n.items[r]:(i=t,n.delegate&&(i=i.find(n.delegate)),i=i.eq(r)),c._openClick({mfpEl:i},t,n)}else c.isOpen&&c[e].apply(c,Array.prototype.slice.call(arguments,1));else e=d.extend(!0,{},e),u?t.data("magnificPopup",e):t[0].magnificPopup=e,c.addGroup(t,e);return t};var I,T,E,S="inline",x=function(){E&&(T.after(E.addClass(I)).detach(),E=null)};d.magnificPopup.registerModule(S,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){c.types.push(S),m(s+"."+S,function(){x()})},getInline:function(e,t){if(x(),e.src){var i=c.st.inline,n=d(e.src);if(n.length){var r=n[0].parentNode;r&&r.tagName&&(T||(I=i.hiddenClass,T=v(I),I="mfp-"+I),E=n.after(T).detach().removeClass(I)),c.updateStatus("ready")}else c.updateStatus("error",i.tNotFound),n=d("<div>");return e.inlineElement=n}return c.updateStatus("ready"),c._parseMarkup(t,{},e),t}}});var P,C="ajax",j=function(){P&&d(document.body).removeClass(P)},A=function(){j(),c.req&&c.req.abort()};d.magnificPopup.registerModule(C,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){c.types.push(C),P=c.st.ajax.cursor,m(s+"."+C,A),m("BeforeChange.ajax",A)},getAjax:function(r){P&&d(document.body).addClass(P),c.updateStatus("loading");var e=d.extend({url:r.src,success:function(e,t,i){var n={data:e,xhr:i};b("ParseAjax",n),c.appendContent(d(n.data),C),r.finished=!0,j(),c._setFocus(),setTimeout(function(){c.wrap.addClass(p)},16),c.updateStatus("ready"),b("AjaxContentAdded")},error:function(){j(),r.finished=r.loadError=!0,c.updateStatus("error",c.st.ajax.tError.replace("%url%",r.src))}},c.st.ajax.settings);return c.req=d.ajax(e),""}}});var M;d.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=c.st.image,t=".image";c.types.push("image"),m("Open"+t,function(){"image"===c.currItem.type&&e.cursor&&d(document.body).addClass(e.cursor)}),m(s+t,function(){e.cursor&&d(document.body).removeClass(e.cursor),f.off("resize.mfp")}),m("Resize"+t,c.resizeImage),c.isLowIE&&m("AfterChange",c.resizeImage)},resizeImage:function(){var e=c.currItem;if(e&&e.img&&c.st.image.verticalFit){var t=0;c.isLowIE&&(t=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",c.wH-t)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,M&&clearInterval(M),e.isCheckingImgSize=!1,b("ImageHasSize",e),e.imgHidden&&(c.content&&c.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(t){var i=0,n=t.img[0],r=function(e){M&&clearInterval(M),M=setInterval(function(){0<n.naturalWidth?c._onImageHasSize(t):(200<i&&clearInterval(M),3===++i?r(10):40===i?r(50):100===i&&r(500))},e)};r(1)},getImage:function(e,t){var i=0,n=function(){e&&(e.img[0].complete?(e.img.off(".mfploader"),e===c.currItem&&(c._onImageHasSize(e),c.updateStatus("ready")),e.hasSize=!0,e.loaded=!0,b("ImageLoadComplete")):++i<200?setTimeout(n,100):r())},r=function(){e&&(e.img.off(".mfploader"),e===c.currItem&&(c._onImageHasSize(e),c.updateStatus("error",o.tError.replace("%url%",e.src))),e.hasSize=!0,e.loaded=!0,e.loadError=!0)},o=c.st.image,a=t.find(".mfp-img");if(a.length){var s=document.createElement("img");s.className="mfp-img",e.el&&e.el.find("img").length&&(s.alt=e.el.find("img").attr("alt")),e.img=d(s).on("load.mfploader",n).on("error.mfploader",r),s.src=e.src,a.is("img")&&(e.img=e.img.clone()),0<(s=e.img[0]).naturalWidth?e.hasSize=!0:s.width||(e.hasSize=!1)}return c._parseMarkup(t,{title:function(e){if(e.data&&void 0!==e.data.title)return e.data.title;var t=c.st.image.titleSrc;if(t){if(d.isFunction(t))return t.call(c,e);if(e.el)return e.el.attr(t)||""}return""}(e),img_replaceWith:e.img},e),c.resizeImage(),e.hasSize?(M&&clearInterval(M),e.loadError?(t.addClass("mfp-loading"),c.updateStatus("error",o.tError.replace("%url%",e.src))):(t.removeClass("mfp-loading"),c.updateStatus("ready"))):(c.updateStatus("loading"),e.loading=!0,e.hasSize||(e.imgHidden=!0,t.addClass("mfp-loading"),c.findImageSize(e))),t}}});var O;d.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,o=c.st.zoom;if(o.enabled&&c.supportsTransition){var t,i,n=o.duration,r=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+o.duration/1e3+"s "+o.easing,n={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},r="transition";return n["-webkit-"+r]=n["-moz-"+r]=n["-o-"+r]=n[r]=i,t.css(n),t},a=function(){c.content.css("visibility","visible")};m("BuildControls.zoom",function(){if(c._allowZoom()){if(clearTimeout(t),c.content.css("visibility","hidden"),!(e=c._getItemToZoom()))return void a();(i=r(e)).css(c._getOffset()),c.wrap.append(i),t=setTimeout(function(){i.css(c._getOffset(!0)),t=setTimeout(function(){a(),setTimeout(function(){i.remove(),e=i=null,b("ZoomAnimationEnded")},16)},n)},16)}}),m(l+".zoom",function(){if(c._allowZoom()){if(clearTimeout(t),c.st.removalDelay=n,!e){if(!(e=c._getItemToZoom()))return;i=r(e)}i.css(c._getOffset(!0)),c.wrap.append(i),c.content.css("visibility","hidden"),setTimeout(function(){i.css(c._getOffset())},16)}}),m(s+".zoom",function(){c._allowZoom()&&(a(),i&&i.remove(),e=null)})}},_allowZoom:function(){return"image"===c.currItem.type},_getItemToZoom:function(){return!!c.currItem.hasSize&&c.currItem.img},_getOffset:function(e){var t,i=(t=e?c.currItem.img:c.st.zoom.opener(c.currItem.el||c.currItem)).offset(),n=parseInt(t.css("padding-top"),10),r=parseInt(t.css("padding-bottom"),10);i.top-=d(window).scrollTop()-n;var o={width:t.width(),height:(u?t.innerHeight():t[0].offsetHeight)-r-n};return void 0===O&&(O=void 0!==document.createElement("p").style.MozTransform),O?o["-moz-transform"]=o.transform="translate("+i.left+"px,"+i.top+"px)":(o.left=i.left,o.top=i.top),o}}});var z="iframe",k=function(e){if(c.currTemplate[z]){var t=c.currTemplate[z].find("iframe");t.length&&(e||(t[0].src="//about:blank"),c.isIE8&&t.css("display",e?"block":"none"))}};d.magnificPopup.registerModule(z,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){c.types.push(z),m("BeforeChange",function(e,t,i){t!==i&&(t===z?k():i===z&&k(!0))}),m(s+"."+z,function(){k()})},getIframe:function(e,t){var i=e.src,n=c.st.iframe;d.each(n.patterns,function(){if(-1<i.indexOf(this.index))return this.id&&(i="string"==typeof this.id?i.substr(i.lastIndexOf(this.id)+this.id.length,i.length):this.id.call(this,i)),i=this.src.replace("%id%",i),!1});var r={};return n.srcAction&&(r[n.srcAction]=i),c._parseMarkup(t,r,e),c.updateStatus("ready"),t}}});var L=function(e){var t=c.items.length;return t-1<e?e-t:e<0?t+e:e},H=function(e,t,i){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,i)};d.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var o=c.st.gallery,e=".mfp-gallery";if(c.direction=!0,!o||!o.enabled)return!1;_+=" mfp-gallery",m("Open"+e,function(){o.navigateByImgClick&&c.wrap.on("click"+e,".mfp-img",function(){if(1<c.items.length)return c.next(),!1}),g.on("keydown"+e,function(e){37===e.keyCode?c.prev():39===e.keyCode&&c.next()})}),m("UpdateStatus"+e,function(e,t){t.text&&(t.text=H(t.text,c.currItem.index,c.items.length))}),m(h+e,function(e,t,i,n){var r=c.items.length;i.counter=1<r?H(o.tCounter,n.index,r):""}),m("BuildControls"+e,function(){if(1<c.items.length&&o.arrows&&!c.arrowLeft){var e=o.arrowMarkup,t=c.arrowLeft=d(e.replace(/%title%/gi,o.tPrev).replace(/%dir%/gi,"left")).addClass(a),i=c.arrowRight=d(e.replace(/%title%/gi,o.tNext).replace(/%dir%/gi,"right")).addClass(a);t.click(function(){c.prev()}),i.click(function(){c.next()}),c.container.append(t.add(i))}}),m("Change"+e,function(){c._preloadTimeout&&clearTimeout(c._preloadTimeout),c._preloadTimeout=setTimeout(function(){c.preloadNearbyImages(),c._preloadTimeout=null},16)}),m(s+e,function(){g.off(e),c.wrap.off("click"+e),c.arrowRight=c.arrowLeft=null})},next:function(){c.direction=!0,c.index=L(c.index+1),c.updateItemHTML()},prev:function(){c.direction=!1,c.index=L(c.index-1),c.updateItemHTML()},goTo:function(e){c.direction=e>=c.index,c.index=e,c.updateItemHTML()},preloadNearbyImages:function(){var e,t=c.st.gallery.preload,i=Math.min(t[0],c.items.length),n=Math.min(t[1],c.items.length);for(e=1;e<=(c.direction?n:i);e++)c._preloadItem(c.index+e);for(e=1;e<=(c.direction?i:n);e++)c._preloadItem(c.index-e)},_preloadItem:function(e){if(e=L(e),!c.items[e].preloaded){var t=c.items[e];t.parsed||(t=c.parseEl(e)),b("LazyLoad",t),"image"===t.type&&(t.img=d('<img class="mfp-img" />').on("load.mfploader",function(){t.hasSize=!0}).on("error.mfploader",function(){t.hasSize=!0,t.loadError=!0,b("LazyLoadError",t)}).attr("src",t.src)),t.preloaded=!0}}}});var N="retina";d.magnificPopup.registerModule(N,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(1<window.devicePixelRatio){var i=c.st.retina,n=i.ratio;1<(n=isNaN(n)?n():n)&&(m("ImageHasSize."+N,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/n,width:"100%"})}),m("ElementParse."+N,function(e,t){t.src=i.replaceSrc(t,n)}))}}}}),w()}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(E){var n,e=navigator.userAgent,S=/iphone/i.test(e),r=/chrome/i.test(e),x=/android/i.test(e);E.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},E.fn.extend({caret:function(e,t){var i;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&((i=this.createTextRange()).collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),e=0-i.duplicate().moveStart("character",-1e5),t=e+i.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,m){var i,v,b,y,w,I,T;if(!t&&0<this.length){var e=E(this[0]).data(E.mask.dataName);return e?e():void 0}return m=E.extend({autoclear:E.mask.autoclear,placeholder:E.mask.placeholder,completed:null},m),i=E.mask.definitions,v=[],b=I=t.length,y=null,E.each(t.split(""),function(e,t){"?"==t?(I--,b=e):i[t]?(v.push(new RegExp(i[t])),null===y&&(y=v.length-1),e<b&&(w=v.length-1)):v.push(null)}),this.trigger("unmask").each(function(){function a(){if(m.completed){for(var e=y;e<=w;e++)if(v[e]&&h[e]===s(e))return;m.completed.call(_)}}function s(e){return m.placeholder.charAt(e<m.placeholder.length?e:0)}function l(e){for(;++e<I&&!v[e];);return e}function u(e,t){var i,n;if(!(e<0)){for(i=e,n=l(t);i<I;i++)if(v[i]){if(!(n<I&&v[i].test(h[n])))break;h[i]=h[n],h[n]=s(n),n=l(n)}c(),_.caret(Math.max(y,e))}}function o(){g(),_.val()!=f&&_.change()}function d(e,t){var i;for(i=e;i<t&&i<I;i++)v[i]&&(h[i]=s(i))}function c(){_.val(h.join(""))}function g(e){var t,i,n,r=_.val(),o=-1;for(n=t=0;t<I;t++)if(v[t]){for(h[t]=s(t);n++<r.length;)if(i=r.charAt(n-1),v[t].test(i)){h[t]=i,o=t;break}if(n>r.length){d(t+1,I);break}}else h[t]===r.charAt(n)&&n++,t<b&&(o=t);return e?c():o+1<b?m.autoclear||h.join("")===p?(_.val()&&_.val(""),d(0,I)):c():(c(),_.val(_.val().substring(0,o+1))),b?t:y}var _=E(this),h=E.map(t.split(""),function(e,t){return"?"!=e?i[e]?s(t):e:void 0}),p=h.join(""),f=_.val();_.data(E.mask.dataName,function(){return E.map(h,function(e,t){return v[t]&&e!=s(t)?e:null}).join("")}),_.one("unmask",function(){_.off(".mask").removeData(E.mask.dataName)}).on("focus.mask",function(){var e;_.prop("readonly")||(clearTimeout(n),f=_.val(),e=g(),n=setTimeout(function(){_.get(0)===document.activeElement&&(c(),e==t.replace("?","").length?_.caret(0,e):_.caret(e))},10))}).on("blur.mask",o).on("keydown.mask",function(e){if(!_.prop("readonly")){var t,i,n,r=e.which||e.keyCode;T=_.val(),8===r||46===r||S&&127===r?(i=(t=_.caret()).begin,(n=t.end)-i==0&&(i=46!==r?function(e){for(;0<=--e&&!v[e];);return e}(i):n=l(i-1),n=46===r?l(n):n),d(i,n),u(i,n-1),e.preventDefault()):13===r?o.call(this,e):27===r&&(_.val(f),_.caret(0,g()),e.preventDefault())}}).on("keypress.mask",function(e){if(!_.prop("readonly")){var t,i,n,r=e.which||e.keyCode,o=_.caret();e.ctrlKey||e.altKey||e.metaKey||r<32||!r||13===r||(o.end-o.begin!=0&&(d(o.begin,o.end),u(o.begin,o.end-1)),(t=l(o.begin-1))<I&&(i=String.fromCharCode(r),v[t].test(i))&&(function(e){var t,i,n,r;for(i=s(t=e);t<I;t++)if(v[t]){if(n=l(t),r=h[t],h[t]=i,!(n<I&&v[n].test(r)))break;i=r}}(t),h[t]=i,c(),n=l(t),x?setTimeout(function(){E.proxy(E.fn.caret,_,n)()},0):_.caret(n),o.begin<=w&&a()),e.preventDefault())}}).on("input.mask paste.mask",function(){_.prop("readonly")||setTimeout(function(){var e=g(!0);_.caret(e),a()},0)}),r&&x&&_.off("input.mask").on("input.mask",function(){var e=_.val(),t=_.caret();if(T&&T.length&&T.length>e.length){for(g(!0);0<t.begin&&!v[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<y&&!v[t.begin];)t.begin++;_.caret(t.begin,t.begin)}else{for(g(!0);t.begin<I&&!v[t.begin];)t.begin++;_.caret(t.begin,t.begin)}a()}),g()})}})}),function(){"use strict";function t(e){if(!e)throw new Error("No options passed to Waypoint constructor");if(!e.element)throw new Error("No element option passed to Waypoint constructor");if(!e.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+i,this.options=t.Adapter.extend({},t.defaults,e),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=e.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),o[this.key]=this,i+=1}var i=0,o={};t.prototype.queueTrigger=function(e){this.group.queueTrigger(this,e)},t.prototype.trigger=function(e){this.enabled&&this.callback&&this.callback.apply(this,e)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete o[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(e){var t=[];for(var i in o)t.push(o[i]);for(var n=0,r=t.length;n<r;n++)t[n][e]()},t.destroyAll=function(){t.invokeAll("destroy")},t.disableAll=function(){t.invokeAll("disable")},t.enableAll=function(){t.invokeAll("enable")},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(e){window.setTimeout(e,1e3/60)}function i(e){this.element=e,this.Adapter=f.Adapter,this.adapter=new this.Adapter(e),this.key="waypoint-context-"+n,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},e.waypointContextKey=this.key,r[e.waypointContextKey]=this,n+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var n=0,r={},f=window.Waypoint,e=window.onload;i.prototype.add=function(e){var t=e.options.horizontal?"horizontal":"vertical";this.waypoints[t][e.key]=e,this.refresh()},i.prototype.checkEmpty=function(){var e=this.Adapter.isEmptyObject(this.waypoints.horizontal),t=this.Adapter.isEmptyObject(this.waypoints.vertical);e&&t&&(this.adapter.off(".waypoints"),delete r[this.key])},i.prototype.createThrottledResizeHandler=function(){function e(){t.handleResize(),t.didResize=!1}var t=this;this.adapter.on("resize.waypoints",function(){t.didResize||(t.didResize=!0,f.requestAnimationFrame(e))})},i.prototype.createThrottledScrollHandler=function(){function e(){t.handleScroll(),t.didScroll=!1}var t=this;this.adapter.on("scroll.waypoints",function(){(!t.didScroll||f.isTouch)&&(t.didScroll=!0,f.requestAnimationFrame(e))})},i.prototype.handleResize=function(){f.Context.refreshAll()},i.prototype.handleScroll=function(){var e={},t={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in t){var n=t[i],r=n.newScroll>n.oldScroll?n.forward:n.backward;for(var o in this.waypoints[i]){var a=this.waypoints[i][o],s=n.oldScroll<a.triggerPoint,l=n.newScroll>=a.triggerPoint;(s&&l||!s&&!l)&&(a.queueTrigger(r),e[a.group.id]=a.group)}}for(var u in e)e[u].flushTriggers();this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},i.prototype.innerHeight=function(){return this.element==this.element.window?f.viewportHeight():this.adapter.innerHeight()},i.prototype.remove=function(e){delete this.waypoints[e.axis][e.key],this.checkEmpty()},i.prototype.innerWidth=function(){return this.element==this.element.window?f.viewportWidth():this.adapter.innerWidth()},i.prototype.destroy=function(){var e=[];for(var t in this.waypoints)for(var i in this.waypoints[t])e.push(this.waypoints[t][i]);for(var n=0,r=e.length;n<r;n++)e[n].destroy()},i.prototype.refresh=function(){var e,t=this.element==this.element.window,i=t?void 0:this.adapter.offset(),n={};for(var r in this.handleScroll(),e={horizontal:{contextOffset:t?0:i.left,contextScroll:t?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:t?0:i.top,contextScroll:t?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}}){var o=e[r];for(var a in this.waypoints[r]){var s,l,u,d,c=this.waypoints[r][a],g=c.options.offset,_=c.triggerPoint,h=0,p=null==_;c.element!==c.element.window&&(h=c.adapter.offset()[o.offsetProp]),"function"==typeof g?g=g.apply(c):"string"==typeof g&&(g=parseFloat(g),-1<c.options.offset.indexOf("%")&&(g=Math.ceil(o.contextDimension*g/100))),s=o.contextScroll-o.contextOffset,c.triggerPoint=h+s-g,l=_<o.oldScroll,u=c.triggerPoint>=o.oldScroll,d=!l&&!u,!p&&(l&&u)?(c.queueTrigger(o.backward),n[c.group.id]=c.group):!p&&d?(c.queueTrigger(o.forward),n[c.group.id]=c.group):p&&o.oldScroll>=c.triggerPoint&&(c.queueTrigger(o.forward),n[c.group.id]=c.group)}}return f.requestAnimationFrame(function(){for(var e in n)n[e].flushTriggers()}),this},i.findOrCreateByElement=function(e){return i.findByElement(e)||new i(e)},i.refreshAll=function(){for(var e in r)r[e].refresh()},i.findByElement=function(e){return r[e.waypointContextKey]},window.onload=function(){e&&e(),i.refreshAll()},f.requestAnimationFrame=function(e){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t).call(window,e)},f.Context=i}(),function(){"use strict";function a(e,t){return e.triggerPoint-t.triggerPoint}function s(e,t){return t.triggerPoint-e.triggerPoint}function t(e){this.name=e.name,this.axis=e.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),i[this.axis][this.name]=this}var i={vertical:{},horizontal:{}},n=window.Waypoint;t.prototype.add=function(e){this.waypoints.push(e)},t.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},t.prototype.flushTriggers=function(){for(var e in this.triggerQueues){var t=this.triggerQueues[e],i="up"===e||"left"===e;t.sort(i?s:a);for(var n=0,r=t.length;n<r;n+=1){var o=t[n];(o.options.continuous||n===t.length-1)&&o.trigger([e])}}this.clearTriggerQueues()},t.prototype.next=function(e){this.waypoints.sort(a);var t=n.Adapter.inArray(e,this.waypoints);return t===this.waypoints.length-1?null:this.waypoints[t+1]},t.prototype.previous=function(e){this.waypoints.sort(a);var t=n.Adapter.inArray(e,this.waypoints);return t?this.waypoints[t-1]:null},t.prototype.queueTrigger=function(e,t){this.triggerQueues[t].push(e)},t.prototype.remove=function(e){var t=n.Adapter.inArray(e,this.waypoints);-1<t&&this.waypoints.splice(t,1)},t.prototype.first=function(){return this.waypoints[0]},t.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},t.findOrCreate=function(e){return i[e.axis][e.name]||new t(e)},n.Group=t}(),function(){"use strict";function i(e){this.$element=n(e)}var n=window.jQuery,e=window.Waypoint;n.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(e,t){i.prototype[t]=function(){var e=Array.prototype.slice.call(arguments);return this.$element[t].apply(this.$element,e)}}),n.each(["extend","inArray","isEmptyObject"],function(e,t){i[t]=n[t]}),e.adapters.push({name:"jquery",Adapter:i}),e.Adapter=i}(),function(){"use strict";function e(n){return function(){var t=[],i=arguments[0];return n.isFunction(arguments[0])&&((i=n.extend({},arguments[1])).handler=arguments[0]),this.each(function(){var e=n.extend({},i,{element:this});"string"==typeof e.context&&(e.context=n(this).closest(e.context)[0]),t.push(new r(e))}),t}}var r=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=e(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=e(window.Zepto))}();